(()=>{const e="scroll-trigger--offscreen";function t(t,i){t.forEach(((t,s)=>{if(t.isIntersecting){const r=t.target;r.classList.contains(e)&&(r.classList.remove(e),r.hasAttribute("data-cascade")&&r.setAttribute("style",`--animation-order: ${s};`)),i.unobserve(r)}else t.target.classList.add(e),t.target.classList.remove("scroll-trigger--cancel")}))}window.addEventListener("DOMContentLoaded",(()=>function(e=document,i=!1){const s=Array.from(e.getElementsByClassName("scroll-trigger"));if(0===s.length)return;if(i)return void s.forEach((e=>{e.classList.add("scroll-trigger--design-mode")}));const r=new IntersectionObserver(t,{rootMargin:"0px 0px -50px 0px"});s.forEach((e=>r.observe(e)))}()))})(),(()=>{class e extends HTMLElement{constructor(){super(),this.addEventListener("keyup",(e=>"Escape"===e.code&&this.close())),this.querySelector("#CartDrawer-Overlay").addEventListener("click",this.close.bind(this)),this.setHeaderCartIconAccessibility()}setHeaderCartIconAccessibility(){const e=document.querySelector("#cart-icon-bubble");e.setAttribute("role","button"),e.setAttribute("aria-haspopup","dialog"),e.addEventListener("click",(t=>{t.preventDefault(),this.open(e)})),e.addEventListener("keydown",(t=>{"SPACE"===t.code.toUpperCase()&&(t.preventDefault(),this.open(e))}))}open(e){e&&this.setActiveElement(e);const t=this.querySelector('[id^="Details-"] summary');t&&!t.hasAttribute("role")&&this.setSummaryAccessibility(t),setTimeout((()=>{this.classList.add("animate","active")})),this.addEventListener("transitionend",(()=>{const e=this.classList.contains("is-empty")?this.querySelector(".drawer__inner-empty"):document.getElementById("CartDrawer"),t=this.querySelector(".drawer__inner")||this.querySelector(".drawer__close");trapFocus(e,t)}),{once:!0}),document.body.classList.add("overflow-hidden")}close(){this.classList.remove("active"),removeTrapFocus(this.activeElement),document.body.classList.remove("overflow-hidden")}setSummaryAccessibility(e){e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),e.nextElementSibling.getAttribute("id")&&e.setAttribute("aria-controls",e.nextElementSibling.id),e.addEventListener("click",(e=>{e.currentTarget.setAttribute("aria-expanded",!e.currentTarget.closest("details").hasAttribute("open"))})),e.parentElement.addEventListener("keyup",onKeyUpEscape)}renderContents(e){this.querySelector(".drawer__inner").classList.contains("is-empty")&&this.querySelector(".drawer__inner").classList.remove("is-empty"),this.productId=e.id,this.getSectionsToRender().forEach((t=>{(t.selector?document.querySelector(t.selector):document.getElementById(t.id)).innerHTML=this.getSectionInnerHTML(e.sections[t.id],t.selector)})),setTimeout((()=>{this.querySelector("#CartDrawer-Overlay").addEventListener("click",this.close.bind(this)),this.open()}))}getSectionInnerHTML(e,t=".shopify-section"){return(new DOMParser).parseFromString(e,"text/html").querySelector(t).innerHTML}getSectionsToRender(){return[{id:"cart-drawer",selector:"#CartDrawer"},{id:"cart-icon-bubble"}]}getSectionDOM(e,t=".shopify-section"){return(new DOMParser).parseFromString(e,"text/html").querySelector(t)}setActiveElement(e){this.activeElement=e}}customElements.define("cart-drawer",e);class t extends CartItems{getSectionsToRender(){return[{id:"CartDrawer",section:"cart-drawer",selector:".drawer__inner"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"}]}}customElements.define("cart-drawer-items",t)})(),(()=>{class e extends HTMLElement{constructor(){super(),this.notification=document.getElementById("cart-notification"),this.header=document.querySelector("sticky-header"),this.onBodyClick=this.handleBodyClick.bind(this),this.notification.addEventListener("keyup",(e=>"Escape"===e.code&&this.close())),this.querySelectorAll('button[type="button"]').forEach((e=>e.addEventListener("click",this.close.bind(this))))}open(){this.notification.classList.add("animate","active"),this.notification.addEventListener("transitionend",(()=>{this.notification.focus(),trapFocus(this.notification)}),{once:!0}),document.body.addEventListener("click",this.onBodyClick)}close(){this.notification.classList.remove("active"),document.body.removeEventListener("click",this.onBodyClick),removeTrapFocus(this.activeElement)}renderContents(e){this.cartItemKey=e.key,this.getSectionsToRender().forEach((t=>{document.getElementById(t.id).innerHTML=this.getSectionInnerHTML(e.sections[t.id],t.selector)})),this.header&&this.header.reveal(),this.open()}getSectionsToRender(){return[{id:"cart-notification-product",selector:`[id="cart-notification-product-${this.cartItemKey}"]`},{id:"cart-notification-button"},{id:"cart-icon-bubble"}]}getSectionInnerHTML(e,t=".shopify-section"){return(new DOMParser).parseFromString(e,"text/html").querySelector(t).innerHTML}handleBodyClick(e){const t=e.target;if(t!==this.notification&&!t.closest("cart-notification")){const e=t.closest("details-disclosure, header-menu");this.activeElement=e?e.querySelector("summary"):null,this.close()}}setActiveElement(e){this.activeElement=e}}customElements.define("cart-notification",e)})(),(()=>{class e extends HTMLElement{constructor(){super(),this.addEventListener("click",(e=>{e.preventDefault(),(this.closest("cart-items")||this.closest("cart-drawer-items")).updateQuantity(this.dataset.index,0)})),aaaa}}customElements.define("cart-remove-button",e);class t extends HTMLElement{constructor(){super(),this.lineItemStatusElement=document.getElementById("shopping-cart-line-item-status")||document.getElementById("CartDrawer-LineItemStatus");const e=debounce((e=>{this.onChange(e)}),ON_CHANGE_DEBOUNCE_TIMER);this.addEventListener("change",e.bind(this))}cartUpdateUnsubscriber=void 0;connectedCallback(){this.cartUpdateUnsubscriber=subscribe(PUB_SUB_EVENTS.cartUpdate,(e=>{"cart-items"!==e.source&&this.onCartUpdate()}))}disconnectedCallback(){this.cartUpdateUnsubscriber&&this.cartUpdateUnsubscriber()}onChange(e){this.updateQuantity(e.target.dataset.index,e.target.value,document.activeElement.getAttribute("name"))}onCartUpdate(){fetch(`${routes.cart_url}?section_id=main-cart-items`).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelector("cart-items");this.innerHTML=t.innerHTML})).catch((e=>{console.error(e)}))}getSectionsToRender(){return[{id:"main-cart-items",section:document.getElementById("main-cart-items").dataset.id,selector:".js-contents"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"},{id:"cart-live-region-text",section:"cart-live-region-text",selector:".shopify-section"},{id:"main-cart-footer",section:document.getElementById("main-cart-footer").dataset.id,selector:".js-contents"}]}updateQuantity(e,t,i){this.enableLoading(e);const s=JSON.stringify({line:e,quantity:t,sections:this.getSectionsToRender().map((e=>e.section)),sections_url:window.location.pathname});fetch(`${routes.cart_change_url}`,{...fetchConfig(),body:s}).then((e=>e.text())).then((t=>{const s=JSON.parse(t),r=document.getElementById(`Quantity-${e}`)||document.getElementById(`Drawer-quantity-${e}`),n=document.querySelectorAll(".cart-item");if(s.errors)return r.value=r.getAttribute("value"),void this.updateLiveRegions(e,s.errors);this.classList.toggle("is-empty",0===s.item_count);const o=document.querySelector("cart-drawer"),a=document.getElementById("main-cart-footer");a&&a.classList.toggle("is-empty",0===s.item_count),o&&o.classList.toggle("is-empty",0===s.item_count),this.getSectionsToRender().forEach((e=>{(document.getElementById(e.id).querySelector(e.selector)||document.getElementById(e.id)).innerHTML=this.getSectionInnerHTML(s.sections[e.section],e.selector)}));const l=s.items[e-1]?s.items[e-1].quantity:void 0;let c="";n.length===s.items.length&&l!==parseInt(r.value)&&(c=void 0===l?window.cartStrings.error:window.cartStrings.quantityError.replace("[quantity]",l)),this.updateLiveRegions(e,c);const d=document.getElementById(`CartItem-${e}`)||document.getElementById(`CartDrawer-Item-${e}`);d&&d.querySelector(`[name="${i}"]`)?o?trapFocus(o,d.querySelector(`[name="${i}"]`)):d.querySelector(`[name="${i}"]`).focus():0===s.item_count&&o?trapFocus(o.querySelector(".drawer__inner-empty"),o.querySelector("a")):document.querySelector(".cart-item")&&o&&trapFocus(o,document.querySelector(".cart-item__name")),publish(PUB_SUB_EVENTS.cartUpdate,{source:"cart-items"})})).catch((()=>{this.querySelectorAll(".loading-overlay").forEach((e=>e.classList.add("hidden"))),(document.getElementById("cart-errors")||document.getElementById("CartDrawer-CartErrors")).textContent=window.cartStrings.error})).finally((()=>{this.disableLoading(e)}))}updateLiveRegions(e,t){const i=document.getElementById(`Line-item-error-${e}`)||document.getElementById(`CartDrawer-LineItemError-${e}`);i&&(i.querySelector(".cart-item__error-text").innerHTML=t),this.lineItemStatusElement.setAttribute("aria-hidden",!0);const s=document.getElementById("cart-live-region-text")||document.getElementById("CartDrawer-LiveRegionText");s.setAttribute("aria-hidden",!1),setTimeout((()=>{s.setAttribute("aria-hidden",!0)}),1e3)}getSectionInnerHTML(e,t){return(new DOMParser).parseFromString(e,"text/html").querySelector(t).innerHTML}enableLoading(e){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.add("cart__items--disabled"),[...this.querySelectorAll(`#CartItem-${e} .loading-overlay`),...this.querySelectorAll(`#CartDrawer-Item-${e} .loading-overlay`)].forEach((e=>e.classList.remove("hidden"))),document.activeElement.blur(),this.lineItemStatusElement.setAttribute("aria-hidden",!1)}disableLoading(e){(document.getElementById("main-cart-items")||document.getElementById("CartDrawer-CartItems")).classList.remove("cart__items--disabled");const t=this.querySelectorAll(`#CartItem-${e} .loading-overlay`),i=this.querySelectorAll(`#CartDrawer-Item-${e} .loading-overlay`);t.forEach((e=>e.classList.add("hidden"))),i.forEach((e=>e.classList.add("hidden")))}}customElements.define("cart-items",t),customElements.get("cart-note")||customElements.define("cart-note",class extends HTMLElement{constructor(){super(),this.addEventListener("change",debounce((e=>{const t=JSON.stringify({note:e.target.value});fetch(`${routes.cart_update_url}`,{...fetchConfig(),body:t})}),ON_CHANGE_DEBOUNCE_TIMER))}})})(),(()=>{class e extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),this.content=this.mainDetailsToggle.querySelector("summary").nextElementSibling,this.mainDetailsToggle.addEventListener("focusout",this.onFocusOut.bind(this)),this.mainDetailsToggle.addEventListener("toggle",this.onToggle.bind(this))}onFocusOut(){setTimeout((()=>{this.contains(document.activeElement)||this.close()}))}onToggle(){this.animations||(this.animations=this.content.getAnimations()),this.mainDetailsToggle.hasAttribute("open")?this.animations.forEach((e=>e.play())):this.animations.forEach((e=>e.cancel()))}close(){this.mainDetailsToggle.removeAttribute("open"),this.mainDetailsToggle.querySelector("summary").setAttribute("aria-expanded",!1)}}customElements.define("details-disclosure",e),customElements.define("header-menu",class extends e{constructor(){super(),this.header=document.querySelector(".header-wrapper")}onToggle(){this.header&&(this.header.preventHide=this.mainDetailsToggle.open,""===document.documentElement.style.getPropertyValue("--header-bottom-position-desktop")&&document.documentElement.style.setProperty("--header-bottom-position-desktop",`${Math.floor(this.header.getBoundingClientRect().bottom)}px`))}})})(),(()=>{class e extends HTMLElement{constructor(){super(),this.detailsContainer=this.querySelector("details"),this.summaryToggle=this.querySelector("summary"),this.detailsContainer.addEventListener("keyup",(e=>"ESCAPE"===e.code.toUpperCase()&&this.close())),this.summaryToggle.addEventListener("click",this.onSummaryClick.bind(this)),this.querySelector('button[type="button"]').addEventListener("click",this.close.bind(this)),this.summaryToggle.setAttribute("role","button")}isOpen(){return this.detailsContainer.hasAttribute("open")}onSummaryClick(e){e.preventDefault(),e.target.closest("details").hasAttribute("open")?this.close():this.open(e)}onBodyClick(e){this.contains(e.target)&&!e.target.classList.contains("modal-overlay")||this.close(!1)}open(e){this.onBodyClickEvent=this.onBodyClickEvent||this.onBodyClick.bind(this),e.target.closest("details").setAttribute("open",!0),document.body.addEventListener("click",this.onBodyClickEvent),document.body.classList.add("overflow-hidden"),trapFocus(this.detailsContainer.querySelector('[tabindex="-1"]'),this.detailsContainer.querySelector('input:not([type="hidden"])'))}close(e=!0){removeTrapFocus(e?this.summaryToggle:null),this.detailsContainer.removeAttribute("open"),document.body.removeEventListener("click",this.onBodyClickEvent),document.body.classList.remove("overflow-hidden")}}customElements.define("details-modal",e)})(),(()=>{class e extends HTMLElement{constructor(){super(),this.onActiveFilterClick=this.onActiveFilterClick.bind(this),this.debouncedOnSubmit=debounce((e=>{this.onSubmitHandler(e)}),500),this.querySelector("form").addEventListener("input",this.debouncedOnSubmit.bind(this));const e=this.querySelector("#FacetsWrapperDesktop");e&&e.addEventListener("keyup",onKeyUpEscape)}static setListeners(){window.addEventListener("popstate",(t=>{const i=t.state?t.state.searchParams:e.searchParamsInitial;i!==e.searchParamsPrev&&e.renderPage(i,null,!1)}))}static toggleActiveFacets(e=!0){document.querySelectorAll(".js-facet-remove").forEach((t=>{t.classList.toggle("disabled",e)}))}static renderPage(t,i,s=!0){e.searchParamsPrev=t;const r=e.getSections(),n=document.getElementById("ProductCount"),o=document.getElementById("ProductCountDesktop");document.getElementById("ProductGridContainer").querySelector(".collection").classList.add("loading"),n&&n.classList.add("loading"),o&&o.classList.add("loading"),r.forEach((s=>{const r=`${window.location.pathname}?section_id=${s.section}&${t}`,n=e=>e.url===r;e.filterData.some(n)?e.renderSectionFromCache(n,i):e.renderSectionFromFetch(r,i)})),s&&e.updateURLHash(t)}static renderSectionFromFetch(t,i){fetch(t).then((e=>e.text())).then((s=>{const r=s;e.filterData=[...e.filterData,{html:r,url:t}],e.renderFilters(r,i),e.renderProductGridContainer(r),e.renderProductCount(r),"function"==typeof initializeScrollAnimationTrigger&&initializeScrollAnimationTrigger(r.innerHTML)}))}static renderSectionFromCache(t,i){const s=e.filterData.find(t).html;e.renderFilters(s,i),e.renderProductGridContainer(s),e.renderProductCount(s),"function"==typeof initializeScrollAnimationTrigger&&initializeScrollAnimationTrigger(s.innerHTML)}static renderProductGridContainer(e){document.getElementById("ProductGridContainer").innerHTML=(new DOMParser).parseFromString(e,"text/html").getElementById("ProductGridContainer").innerHTML,document.getElementById("ProductGridContainer").querySelectorAll(".scroll-trigger").forEach((e=>{e.classList.add("scroll-trigger--cancel")}))}static renderProductCount(e){const t=(new DOMParser).parseFromString(e,"text/html").getElementById("ProductCount").innerHTML,i=document.getElementById("ProductCount"),s=document.getElementById("ProductCountDesktop");i.innerHTML=t,i.classList.remove("loading"),s&&(s.innerHTML=t,s.classList.remove("loading"))}static renderFilters(t,i){const s=(new DOMParser).parseFromString(t,"text/html"),r=s.querySelectorAll("#FacetFiltersForm .js-filter, #FacetFiltersFormMobile .js-filter, #FacetFiltersPillsForm .js-filter"),n=e=>{const t=i?i.target.closest(".js-filter"):void 0;return!!t&&e.dataset.index===t.dataset.index},o=Array.from(r).filter((e=>!n(e))),a=Array.from(r).find(n);o.forEach((e=>{document.querySelector(`.js-filter[data-index="${e.dataset.index}"]`).innerHTML=e.innerHTML})),e.renderActiveFacets(s),e.renderAdditionalElements(s),a&&e.renderCounts(a,i.target.closest(".js-filter"))}static renderActiveFacets(t){[".active-facets-mobile",".active-facets-desktop"].forEach((e=>{const i=t.querySelector(e);i&&(document.querySelector(e).innerHTML=i.innerHTML)})),e.toggleActiveFacets(!1)}static renderAdditionalElements(e){[".mobile-facets__open",".mobile-facets__count",".sorting"].forEach((t=>{e.querySelector(t)&&(document.querySelector(t).innerHTML=e.querySelector(t).innerHTML)})),document.getElementById("FacetFiltersFormMobile").closest("menu-drawer").bindEvents()}static renderCounts(e,t){const i=t.querySelector(".facets__selected"),s=e.querySelector(".facets__selected"),r=t.querySelector(".facets__summary"),n=e.querySelector(".facets__summary");s&&i&&(t.querySelector(".facets__selected").outerHTML=e.querySelector(".facets__selected").outerHTML),r&&n&&(t.querySelector(".facets__summary").outerHTML=e.querySelector(".facets__summary").outerHTML)}static updateURLHash(e){history.pushState({searchParams:e},"",`${window.location.pathname}${e&&"?".concat(e)}`)}static getSections(){return[{section:document.getElementById("product-grid").dataset.id}]}createSearchParams(e){const t=new FormData(e);return new URLSearchParams(t).toString()}onSubmitForm(t,i){e.renderPage(t,i)}onSubmitHandler(e){e.preventDefault();const t=document.querySelectorAll("facet-filters-form form");if("mobile-facets__checkbox"==e.srcElement.className){const t=this.createSearchParams(e.target.closest("form"));this.onSubmitForm(t,e)}else{const i=[],s="FacetFiltersFormMobile"===e.target.closest("form").id;t.forEach((e=>{s?"FacetFiltersFormMobile"===e.id&&i.push(this.createSearchParams(e)):"FacetSortForm"!==e.id&&"FacetFiltersForm"!==e.id&&"FacetSortDrawerForm"!==e.id||(document.querySelectorAll(".no-js-list").forEach((e=>e.remove())),i.push(this.createSearchParams(e)))})),this.onSubmitForm(i.join("&"),e)}}onActiveFilterClick(t){t.preventDefault(),e.toggleActiveFacets();const i=-1==t.currentTarget.href.indexOf("?")?"":t.currentTarget.href.slice(t.currentTarget.href.indexOf("?")+1);e.renderPage(i)}}e.filterData=[],e.searchParamsInitial=window.location.search.slice(1),e.searchParamsPrev=window.location.search.slice(1),customElements.define("facet-filters-form",e),e.setListeners();class t extends HTMLElement{constructor(){super(),this.querySelectorAll("input").forEach((e=>e.addEventListener("change",this.onRangeChange.bind(this)))),this.setMinAndMaxValues()}onRangeChange(e){this.adjustToValidValues(e.currentTarget),this.setMinAndMaxValues()}setMinAndMaxValues(){const e=this.querySelectorAll("input"),t=e[0],i=e[1];i.value&&t.setAttribute("max",i.value),t.value&&i.setAttribute("min",t.value),""===t.value&&i.setAttribute("min",0),""===i.value&&t.setAttribute("max",i.getAttribute("max"))}adjustToValidValues(e){const t=Number(e.value),i=Number(e.getAttribute("min")),s=Number(e.getAttribute("max"));t<i&&(e.value=i),t>s&&(e.value=s)}}customElements.define("price-range",t);class i extends HTMLElement{constructor(){super();const e=this.querySelector("a");e.setAttribute("role","button"),e.addEventListener("click",this.closeFilter.bind(this)),e.addEventListener("keyup",(e=>{e.preventDefault(),"SPACE"===e.code.toUpperCase()&&this.closeFilter(e)}))}closeFilter(e){e.preventDefault(),(this.closest("facet-filters-form")||document.querySelector("facet-filters-form")).onActiveFilterClick(e)}}customElements.define("facet-remove",i)})(),(()=>{document.querySelectorAll('[id^="Details-"] summary').forEach((e=>{e.setAttribute("role","button"),e.setAttribute("aria-expanded",e.parentNode.hasAttribute("open")),e.nextElementSibling.getAttribute("id")&&e.setAttribute("aria-controls",e.nextElementSibling.id),e.addEventListener("click",(e=>{e.currentTarget.setAttribute("aria-expanded",!e.currentTarget.closest("details").hasAttribute("open"))})),e.closest("header-drawer, menu-drawer")||e.parentElement.addEventListener("keyup",s)}));const e={};function t(t,s=t){var r=function(e){return Array.from(e.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe"))}(t),n=r[0],o=r[r.length-1];i(),e.focusin=i=>{i.target!==t&&i.target!==o&&i.target!==n||document.addEventListener("keydown",e.keydown)},e.focusout=function(){document.removeEventListener("keydown",e.keydown)},e.keydown=function(e){"TAB"===e.code.toUpperCase()&&(e.target!==o||e.shiftKey||(e.preventDefault(),n.focus()),e.target!==t&&e.target!==n||!e.shiftKey||(e.preventDefault(),o.focus()))},document.addEventListener("focusout",e.focusout),document.addEventListener("focusin",e.focusin),s.focus(),"INPUT"===s.tagName&&["search","text","email","url"].includes(s.type)&&s.value&&s.setSelectionRange(0,s.value.length)}try{document.querySelector(":focus-visible")}catch(e){!function(){const e=["ARROWUP","ARROWDOWN","ARROWLEFT","ARROWRIGHT","TAB","ENTER","SPACE","ESCAPE","HOME","END","PAGEUP","PAGEDOWN"];let t=null,i=null;window.addEventListener("keydown",(t=>{e.includes(t.code.toUpperCase())&&(i=!1)})),window.addEventListener("mousedown",(e=>{i=!0})),window.addEventListener("focus",(()=>{t&&t.classList.remove("focused"),i||(t=document.activeElement,t.classList.add("focused"))}),!0)}()}function i(t=null){document.removeEventListener("focusin",e.focusin),document.removeEventListener("focusout",e.focusout),document.removeEventListener("keydown",e.keydown),t&&t.focus()}function s(e){if("ESCAPE"!==e.code.toUpperCase())return;const t=e.target.closest("details[open]");if(!t)return;const i=t.querySelector("summary");t.removeAttribute("open"),i.setAttribute("aria-expanded",!1),i.focus()}class r extends HTMLElement{constructor(){super(),this.input=this.querySelector("input"),this.changeEvent=new Event("change",{bubbles:!0}),this.input.addEventListener("change",this.onInputChange.bind(this)),this.querySelectorAll("button").forEach((e=>e.addEventListener("click",this.onButtonClick.bind(this))))}quantityUpdateUnsubscriber=void 0;connectedCallback(){this.validateQtyRules(),this.quantityUpdateUnsubscriber=subscribe(PUB_SUB_EVENTS.quantityUpdate,this.validateQtyRules.bind(this))}disconnectedCallback(){this.quantityUpdateUnsubscriber&&this.quantityUpdateUnsubscriber()}onInputChange(e){this.validateQtyRules()}onButtonClick(e){e.preventDefault();const t=this.input.value;"plus"===e.target.name?this.input.stepUp():this.input.stepDown(),t!==this.input.value&&this.input.dispatchEvent(this.changeEvent)}validateQtyRules(){const e=parseInt(this.input.value);if(this.input.min){const t=parseInt(this.input.min);this.querySelector(".quantity__button[name='minus']").classList.toggle("disabled",e<=t)}if(this.input.max){const t=parseInt(this.input.max);this.querySelector(".quantity__button[name='plus']").classList.toggle("disabled",e>=t)}}}customElements.define("quantity-input",r),void 0===window.Shopify&&(window.Shopify={}),Shopify.bind=function(e,t){return function(){return e.apply(t,arguments)}},Shopify.setSelectorByValue=function(e,t){for(var i=0,s=e.options.length;i<s;i++){var r=e.options[i];if(t==r.value||t==r.innerHTML)return e.selectedIndex=i,i}},Shopify.addListener=function(e,t,i){e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},Shopify.postLink=function(e,t){var i=(t=t||{}).method||"post",s=t.parameters||{},r=document.createElement("form");for(var n in r.setAttribute("method",i),r.setAttribute("action",e),s){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",n),o.setAttribute("value",s[n]),r.appendChild(o)}document.body.appendChild(r),r.submit(),document.body.removeChild(r)},Shopify.CountryProvinceSelector=function(e,t,i){this.countryEl=document.getElementById(e),this.provinceEl=document.getElementById(t),this.provinceContainer=document.getElementById(i.hideElement||t),Shopify.addListener(this.countryEl,"change",Shopify.bind(this.countryHandler,this)),this.initCountry(),this.initProvince()},Shopify.CountryProvinceSelector.prototype={initCountry:function(){var e=this.countryEl.getAttribute("data-default");Shopify.setSelectorByValue(this.countryEl,e),this.countryHandler()},initProvince:function(){var e=this.provinceEl.getAttribute("data-default");e&&this.provinceEl.options.length>0&&Shopify.setSelectorByValue(this.provinceEl,e)},countryHandler:function(e){var t=(r=this.countryEl.options[this.countryEl.selectedIndex]).getAttribute("data-provinces"),i=JSON.parse(t);if(this.clearOptions(this.provinceEl),i&&0==i.length)this.provinceContainer.style.display="none";else{for(var s=0;s<i.length;s++){var r;(r=document.createElement("option")).value=i[s][0],r.innerHTML=i[s][1],this.provinceEl.appendChild(r)}this.provinceContainer.style.display=""}},clearOptions:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},setOptions:function(e,t){var i=0;for(t.length;i<t.length;i++){var s=document.createElement("option");s.value=t[i],s.innerHTML=t[i],e.appendChild(s)}}};class n extends HTMLElement{constructor(){super(),this.mainDetailsToggle=this.querySelector("details"),this.addEventListener("keyup",this.onKeyUp.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.bindEvents()}bindEvents(){this.querySelectorAll("summary").forEach((e=>e.addEventListener("click",this.onSummaryClick.bind(this)))),this.querySelectorAll("button:not(.localization-selector)").forEach((e=>e.addEventListener("click",this.onCloseButtonClick.bind(this))))}onKeyUp(e){if("ESCAPE"!==e.code.toUpperCase())return;const t=e.target.closest("details[open]");t&&(t===this.mainDetailsToggle?this.closeMenuDrawer(e,this.mainDetailsToggle.querySelector("summary")):this.closeSubmenu(t))}onSummaryClick(e){const i=e.currentTarget,s=i.parentNode,r=s.closest(".has-submenu"),n=s.hasAttribute("open"),o=window.matchMedia("(prefers-reduced-motion: reduce)");function a(){t(i.nextElementSibling,s.querySelector("button")),i.nextElementSibling.removeEventListener("transitionend",a)}s===this.mainDetailsToggle?(n&&e.preventDefault(),n?this.closeMenuDrawer(e,i):this.openMenuDrawer(i),window.matchMedia("(max-width: 990px)")&&document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`)):setTimeout((()=>{s.classList.add("menu-opening"),i.setAttribute("aria-expanded",!0),r&&r.classList.add("submenu-open"),!o||o.matches?a():i.nextElementSibling.addEventListener("transitionend",a)}),100)}openMenuDrawer(e){setTimeout((()=>{this.mainDetailsToggle.classList.add("menu-opening")})),e.setAttribute("aria-expanded",!0),t(this.mainDetailsToggle,e),document.body.classList.add(`overflow-hidden-${this.dataset.breakpoint}`)}closeMenuDrawer(e,t=!1){void 0!==e&&(this.mainDetailsToggle.classList.remove("menu-opening"),this.mainDetailsToggle.querySelectorAll("details").forEach((e=>{e.removeAttribute("open"),e.classList.remove("menu-opening")})),this.mainDetailsToggle.querySelectorAll(".submenu-open").forEach((e=>{e.classList.remove("submenu-open")})),document.body.classList.remove(`overflow-hidden-${this.dataset.breakpoint}`),i(t),this.closeAnimation(this.mainDetailsToggle),e instanceof KeyboardEvent&&t?.setAttribute("aria-expanded",!1))}onFocusOut(){setTimeout((()=>{this.mainDetailsToggle.hasAttribute("open")&&!this.mainDetailsToggle.contains(document.activeElement)&&this.closeMenuDrawer()}))}onCloseButtonClick(e){const t=e.currentTarget.closest("details");this.closeSubmenu(t)}closeSubmenu(e){const t=e.closest(".submenu-open");t&&t.classList.remove("submenu-open"),e.classList.remove("menu-opening"),e.querySelector("summary").setAttribute("aria-expanded",!1),i(e.querySelector("summary")),this.closeAnimation(e)}closeAnimation(e){let i;const s=r=>{void 0===i&&(i=r),r-i<400?window.requestAnimationFrame(s):(e.removeAttribute("open"),e.closest("details[open]")&&t(e.closest("details[open]"),e.querySelector("summary")))};window.requestAnimationFrame(s)}}customElements.define("menu-drawer",n),customElements.define("header-drawer",class extends n{constructor(){super()}openMenuDrawer(e){this.header=this.header||document.querySelector(".section-header"),this.borderOffset=this.borderOffset||this.closest(".header-wrapper").classList.contains("header-wrapper--border-bottom")?1:0,document.documentElement.style.setProperty("--header-bottom-position",`${parseInt(this.header.getBoundingClientRect().bottom-this.borderOffset)}px`),this.header.classList.add("menu-open"),setTimeout((()=>{this.mainDetailsToggle.classList.add("menu-opening")})),e.setAttribute("aria-expanded",!0),window.addEventListener("resize",this.onResize),t(this.mainDetailsToggle,e),document.body.classList.add(`overflow-hidden-${this.dataset.breakpoint}`)}closeMenuDrawer(e,t){t&&(super.closeMenuDrawer(e,t),this.header.classList.remove("menu-open"),window.removeEventListener("resize",this.onResize))}onResize=()=>{this.header&&document.documentElement.style.setProperty("--header-bottom-position",`${parseInt(this.header.getBoundingClientRect().bottom-this.borderOffset)}px`),document.documentElement.style.setProperty("--viewport-height",`${window.innerHeight}px`)}});class o extends HTMLElement{constructor(){super(),this.querySelector('[id^="ModalClose-"]').addEventListener("click",this.hide.bind(this,!1)),this.addEventListener("keyup",(e=>{"ESCAPE"===e.code.toUpperCase()&&this.hide()})),this.classList.contains("media-modal")?this.addEventListener("pointerup",(e=>{"mouse"!==e.pointerType||e.target.closest("deferred-media, product-model")||this.hide()})):this.addEventListener("click",(e=>{e.target===this&&this.hide()}))}connectedCallback(){this.moved||(this.moved=!0,document.body.appendChild(this))}show(e){this.openedBy=e;const i=this.querySelector(".template-popup");document.body.classList.add("overflow-hidden"),this.setAttribute("open",""),i&&i.loadContent(),t(this,this.querySelector('[role="dialog"]')),window.pauseAllMedia()}hide(){document.body.classList.remove("overflow-hidden"),document.body.dispatchEvent(new CustomEvent("modalClosed")),this.removeAttribute("open"),i(this.openedBy),window.pauseAllMedia()}}customElements.define("modal-dialog",o);class a extends HTMLElement{constructor(){super();const e=this.querySelector("button");e&&e.addEventListener("click",(()=>{const t=document.querySelector(this.getAttribute("data-modal"));t&&t.show(e)}))}}customElements.define("modal-opener",a);class l extends HTMLElement{constructor(){super();const e=this.querySelector('[id^="Deferred-Poster-"]');e&&e.addEventListener("click",this.loadContent.bind(this))}loadContent(e=!0){if(window.pauseAllMedia(),!this.getAttribute("loaded")){const t=document.createElement("div");t.appendChild(this.querySelector("template").content.firstElementChild.cloneNode(!0)),this.setAttribute("loaded",!0);const i=this.appendChild(t.querySelector("video, model-viewer, iframe"));e&&i.focus(),"VIDEO"==i.nodeName&&i.getAttribute("autoplay")&&i.play()}}}customElements.define("deferred-media",l);class c extends HTMLElement{constructor(){super(),this.slider=this.querySelector('[id^="Slider-"]'),this.sliderItems=this.querySelectorAll('[id^="Slide-"]'),this.enableSliderLooping=!1,this.currentPageElement=this.querySelector(".slider-counter--current"),this.pageTotalElement=this.querySelector(".slider-counter--total"),this.prevButton=this.querySelector('button[name="previous"]'),this.nextButton=this.querySelector('button[name="next"]'),this.slider&&this.nextButton&&(this.initPages(),new ResizeObserver((e=>this.initPages())).observe(this.slider),this.slider.addEventListener("scroll",this.update.bind(this)),this.prevButton.addEventListener("click",this.onButtonClick.bind(this)),this.nextButton.addEventListener("click",this.onButtonClick.bind(this)))}initPages(){this.sliderItemsToShow=Array.from(this.sliderItems).filter((e=>e.clientWidth>0)),this.sliderItemsToShow.length<2||(this.sliderItemOffset=this.sliderItemsToShow[1].offsetLeft-this.sliderItemsToShow[0].offsetLeft,this.slidesPerPage=Math.floor((this.slider.clientWidth-this.sliderItemsToShow[0].offsetLeft)/this.sliderItemOffset),this.totalPages=this.sliderItemsToShow.length-this.slidesPerPage+1,this.update())}resetPages(){this.sliderItems=this.querySelectorAll('[id^="Slide-"]'),this.initPages()}update(){if(!this.slider||!this.nextButton)return;const e=this.currentPage;this.currentPage=Math.round(this.slider.scrollLeft/this.sliderItemOffset)+1,this.currentPageElement&&this.pageTotalElement&&(this.currentPageElement.textContent=this.currentPage,this.pageTotalElement.textContent=this.totalPages),this.currentPage!=e&&this.dispatchEvent(new CustomEvent("slideChanged",{detail:{currentPage:this.currentPage,currentElement:this.sliderItemsToShow[this.currentPage-1]}})),this.enableSliderLooping||(this.isSlideVisible(this.sliderItemsToShow[0])&&0===this.slider.scrollLeft?this.prevButton.setAttribute("disabled","disabled"):this.prevButton.removeAttribute("disabled"),this.isSlideVisible(this.sliderItemsToShow[this.sliderItemsToShow.length-1])?this.nextButton.setAttribute("disabled","disabled"):this.nextButton.removeAttribute("disabled"))}isSlideVisible(e,t=0){const i=this.slider.clientWidth+this.slider.scrollLeft-t;return e.offsetLeft+e.clientWidth<=i&&e.offsetLeft>=this.slider.scrollLeft}onButtonClick(e){e.preventDefault();const t=e.currentTarget.dataset.step||1;this.slideScrollPosition="next"===e.currentTarget.name?this.slider.scrollLeft+t*this.sliderItemOffset:this.slider.scrollLeft-t*this.sliderItemOffset,this.slider.scrollTo({left:this.slideScrollPosition})}}customElements.define("slider-component",c),customElements.define("slideshow-component",class extends c{constructor(){super(),this.sliderControlWrapper=this.querySelector(".slider-buttons"),this.enableSliderLooping=!0,this.sliderControlWrapper&&(this.sliderFirstItemNode=this.slider.querySelector(".slideshow__slide"),this.sliderItemsToShow.length>0&&(this.currentPage=1),this.sliderControlLinksArray=Array.from(this.sliderControlWrapper.querySelectorAll(".slider-counter__link")),this.sliderControlLinksArray.forEach((e=>e.addEventListener("click",this.linkToSlide.bind(this)))),this.slider.addEventListener("scroll",this.setSlideVisibility.bind(this)),this.setSlideVisibility(),this.querySelector(".announcement-bar-slider")&&(this.announcementBarArrowButtonWasClicked=!1,this.desktopLayout=window.matchMedia("(min-width: 750px)"),this.reducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)"),[this.reducedMotion,this.desktopLayout].forEach((e=>{e.addEventListener("change",(()=>{"true"===this.slider.getAttribute("data-autoplay")&&this.setAutoPlay()}))})),[this.prevButton,this.nextButton].forEach((e=>{e.addEventListener("click",(()=>{this.announcementBarArrowButtonWasClicked=!0}),{once:!0})}))),"true"===this.slider.getAttribute("data-autoplay")&&this.setAutoPlay())}setAutoPlay(){this.autoplaySpeed=1e3*this.slider.dataset.speed,this.addEventListener("mouseover",this.focusInHandling.bind(this)),this.addEventListener("mouseleave",this.focusOutHandling.bind(this)),this.addEventListener("focusin",this.focusInHandling.bind(this)),this.addEventListener("focusout",this.focusOutHandling.bind(this)),this.querySelector(".slideshow__autoplay")?(this.sliderAutoplayButton=this.querySelector(".slideshow__autoplay"),this.sliderAutoplayButton.addEventListener("click",this.autoPlayToggle.bind(this)),this.autoplayButtonIsSetToPlay=!0,this.play()):this.reducedMotion.matches||this.announcementBarArrowButtonWasClicked||!this.desktopLayout.matches?this.pause():this.play()}onButtonClick(e){super.onButtonClick(e);const t=1===this.currentPage,i=this.currentPage===this.sliderItemsToShow.length;(t||i)&&(t&&"previous"===e.currentTarget.name?this.slideScrollPosition=this.slider.scrollLeft+this.sliderFirstItemNode.clientWidth*this.sliderItemsToShow.length:i&&"next"===e.currentTarget.name&&(this.slideScrollPosition=0),this.slider.scrollTo({left:this.slideScrollPosition}))}update(){super.update(),this.sliderControlButtons=this.querySelectorAll(".slider-counter__link"),this.prevButton.removeAttribute("disabled"),this.sliderControlButtons.length&&(this.sliderControlButtons.forEach((e=>{e.classList.remove("slider-counter__link--active"),e.removeAttribute("aria-current")})),this.sliderControlButtons[this.currentPage-1].classList.add("slider-counter__link--active"),this.sliderControlButtons[this.currentPage-1].setAttribute("aria-current",!0))}autoPlayToggle(){this.togglePlayButtonState(this.autoplayButtonIsSetToPlay),this.autoplayButtonIsSetToPlay?this.pause():this.play(),this.autoplayButtonIsSetToPlay=!this.autoplayButtonIsSetToPlay}focusOutHandling(e){if(this.sliderAutoplayButton){const t=e.target===this.sliderAutoplayButton||this.sliderAutoplayButton.contains(e.target);if(!this.autoplayButtonIsSetToPlay||t)return;this.play()}else this.reducedMotion.matches||this.announcementBarArrowButtonWasClicked||!this.desktopLayout.matches||this.play()}focusInHandling(e){this.sliderAutoplayButton?(e.target===this.sliderAutoplayButton||this.sliderAutoplayButton.contains(e.target))&&this.autoplayButtonIsSetToPlay?this.play():this.autoplayButtonIsSetToPlay&&this.pause():this.querySelector(".announcement-bar-slider").contains(e.target)&&this.pause()}play(){this.slider.setAttribute("aria-live","off"),clearInterval(this.autoplay),this.autoplay=setInterval(this.autoRotateSlides.bind(this),this.autoplaySpeed)}pause(){this.slider.setAttribute("aria-live","polite"),clearInterval(this.autoplay)}togglePlayButtonState(e){e?(this.sliderAutoplayButton.classList.add("slideshow__autoplay--paused"),this.sliderAutoplayButton.setAttribute("aria-label",window.accessibilityStrings.playSlideshow)):(this.sliderAutoplayButton.classList.remove("slideshow__autoplay--paused"),this.sliderAutoplayButton.setAttribute("aria-label",window.accessibilityStrings.pauseSlideshow))}autoRotateSlides(){const e=this.currentPage===this.sliderItems.length?0:this.slider.scrollLeft+this.slider.querySelector(".slideshow__slide").clientWidth;this.slider.scrollTo({left:e})}setSlideVisibility(){this.sliderItemsToShow.forEach(((e,t)=>{const i=e.querySelectorAll("a");t===this.currentPage-1?(i.length&&i.forEach((e=>{e.removeAttribute("tabindex")})),e.setAttribute("aria-hidden","false"),e.removeAttribute("tabindex")):(i.length&&i.forEach((e=>{e.setAttribute("tabindex","-1")})),e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex","-1"))}))}linkToSlide(e){e.preventDefault();const t=this.slider.scrollLeft+this.sliderFirstItemNode.clientWidth*(this.sliderControlLinksArray.indexOf(e.currentTarget)+1-this.currentPage);this.slider.scrollTo({left:t})}});class d extends HTMLElement{constructor(){super(),this.addEventListener("change",this.onVariantChange)}onVariantChange(){this.updateOptions(),this.updateMasterId(),this.toggleAddButton(!0,"",!1),this.updatePickupAvailability(),this.removeErrorMessage(),this.updateVariantStatuses(),this.currentVariant?(this.updateMedia(),this.updateURL(),this.updateVariantInput(),this.renderProductInfo(),this.updateShareUrl()):(this.toggleAddButton(!0,"",!0),this.setUnavailable())}updateOptions(){this.options=Array.from(this.querySelectorAll("select"),(e=>e.value))}updateMasterId(){this.currentVariant=this.getVariantData().find((e=>!e.options.map(((e,t)=>this.options[t]===e)).includes(!1)))}updateMedia(){if(!this.currentVariant)return;if(!this.currentVariant.featured_media)return;document.querySelectorAll(`[id^="MediaGallery-${this.dataset.section}"]`).forEach((e=>e.setActiveMedia(`${this.dataset.section}-${this.currentVariant.featured_media.id}`,!0)));const e=document.querySelector(`#ProductModal-${this.dataset.section} .product-media-modal__content`);if(!e)return;const t=e.querySelector(`[data-media-id="${this.currentVariant.featured_media.id}"]`);e.prepend(t)}updateURL(){this.currentVariant&&"false"!==this.dataset.updateUrl&&window.history.replaceState({},"",`${this.dataset.url}?variant=${this.currentVariant.id}`)}updateShareUrl(){const e=document.getElementById(`Share-${this.dataset.section}`);e&&e.updateUrl&&e.updateUrl(`${window.shopUrl}${this.dataset.url}?variant=${this.currentVariant.id}`)}updateVariantInput(){document.querySelectorAll(`#product-form-${this.dataset.section}, #product-form-installment-${this.dataset.section}`).forEach((e=>{const t=e.querySelector('input[name="id"]');t.value=this.currentVariant.id,t.dispatchEvent(new Event("change",{bubbles:!0}))}))}updateVariantStatuses(){const e=this.variantData.filter((e=>this.querySelector(":checked").value===e.option1)),t=[...this.querySelectorAll(".product-form__input")];t.forEach(((i,s)=>{if(0===s)return;const r=[...i.querySelectorAll('input[type="radio"], option')],n=t[s-1].querySelector(":checked").value,o=e.filter((e=>e.available&&e[`option${s}`]===n)).map((e=>e[`option${s+1}`]));this.setInputAvailability(r,o)}))}setInputAvailability(e,t){e.forEach((e=>{t.includes(e.getAttribute("value"))?e.innerText=e.getAttribute("value"):e.innerText=window.variantStrings.unavailable_with_option.replace("[value]",e.getAttribute("value"))}))}updatePickupAvailability(){const e=document.querySelector("pickup-availability");e&&(this.currentVariant&&this.currentVariant.available?e.fetchAvailability(this.currentVariant.id):(e.removeAttribute("available"),e.innerHTML=""))}removeErrorMessage(){const e=this.closest("section");if(!e)return;const t=e.querySelector("product-form");t&&t.handleErrorMessage()}renderProductInfo(){const e=this.currentVariant.id,t=this.dataset.originalSection?this.dataset.originalSection:this.dataset.section;fetch(`${this.dataset.url}?variant=${e}&section_id=${this.dataset.originalSection?this.dataset.originalSection:this.dataset.section}`).then((e=>e.text())).then((i=>{if(this.currentVariant.id!==e)return;const s=(new DOMParser).parseFromString(i,"text/html"),r=document.getElementById(`price-${this.dataset.section}`),n=s.getElementById(`price-${this.dataset.originalSection?this.dataset.originalSection:this.dataset.section}`),o=s.getElementById(`Sku-${this.dataset.originalSection?this.dataset.originalSection:this.dataset.section}`),a=document.getElementById(`Sku-${this.dataset.section}`),l=s.getElementById(`Inventory-${this.dataset.originalSection?this.dataset.originalSection:this.dataset.section}`),c=document.getElementById(`Inventory-${this.dataset.section}`);n&&r&&(r.innerHTML=n.innerHTML),l&&c&&(c.innerHTML=l.innerHTML),o&&a&&(a.innerHTML=o.innerHTML,a.classList.toggle("visibility-hidden",o.classList.contains("visibility-hidden")));const d=document.getElementById(`price-${this.dataset.section}`);d&&d.classList.remove("visibility-hidden"),c&&c.classList.toggle("visibility-hidden",""===l.innerText);const u=s.getElementById(`ProductSubmitButton-${t}`);this.toggleAddButton(!u||u.hasAttribute("disabled"),window.variantStrings.soldOut),publish(PUB_SUB_EVENTS.variantChange,{data:{sectionId:t,html:s,variant:this.currentVariant}})}))}toggleAddButton(e=!0,t,i=!0){const s=document.getElementById(`product-form-${this.dataset.section}`);if(!s)return;const r=s.querySelector('[name="add"]'),n=s.querySelector('[name="add"] > span');r&&(e?(r.setAttribute("disabled","disabled"),t&&(n.textContent=t)):(r.removeAttribute("disabled"),n.textContent=window.variantStrings.addToCart))}setUnavailable(){const e=document.getElementById(`product-form-${this.dataset.section}`),t=e.querySelector('[name="add"]'),i=e.querySelector('[name="add"] > span'),s=document.getElementById(`price-${this.dataset.section}`),r=document.getElementById(`Inventory-${this.dataset.section}`),n=document.getElementById(`Sku-${this.dataset.section}`);t&&(i.textContent=window.variantStrings.unavailable,s&&s.classList.add("visibility-hidden"),r&&r.classList.add("visibility-hidden"),n&&n.classList.add("visibility-hidden"))}getVariantData(){return this.variantData=this.variantData||JSON.parse(this.querySelector('[type="application/json"]').textContent),this.variantData}}customElements.define("variant-selects",d),customElements.define("variant-radios",class extends d{constructor(){super()}setInputAvailability(e,t){e.forEach((e=>{t.includes(e.getAttribute("value"))?e.classList.remove("disabled"):e.classList.add("disabled")}))}updateOptions(){const e=Array.from(this.querySelectorAll("fieldset"));this.options=e.map((e=>Array.from(e.querySelectorAll("input")).find((e=>e.checked)).value))}});class u extends HTMLElement{constructor(){super()}connectedCallback(){new IntersectionObserver(((e,t)=>{e[0].isIntersecting&&(t.unobserve(this),fetch(this.dataset.url).then((e=>e.text())).then((e=>{const t=document.createElement("div");t.innerHTML=e;const i=t.querySelector("product-recommendations");i&&i.innerHTML.trim().length&&(this.innerHTML=i.innerHTML),!this.querySelector("slideshow-component")&&this.classList.contains("complementary-products")&&this.remove(),t.querySelector(".grid__item")&&this.classList.add("product-recommendations--loaded")})).catch((e=>{console.error(e)})))}).bind(this),{rootMargin:"0px 0px 400px 0px"}).observe(this)}}customElements.define("product-recommendations",u)})(),customElements.get("localization-form")||customElements.define("localization-form",class extends HTMLElement{constructor(){super(),this.elements={input:this.querySelector('input[name="locale_code"], input[name="country_code"]'),button:this.querySelector("button"),panel:this.querySelector(".disclosure__list-wrapper")},this.elements.button.addEventListener("click",this.openSelector.bind(this)),this.elements.button.addEventListener("focusout",this.closeSelector.bind(this)),this.addEventListener("keyup",this.onContainerKeyUp.bind(this)),this.querySelectorAll("a").forEach((e=>e.addEventListener("click",this.onItemClick.bind(this))))}hidePanel(){this.elements.button.setAttribute("aria-expanded","false"),this.elements.panel.setAttribute("hidden",!0)}onContainerKeyUp(e){"ESCAPE"===e.code.toUpperCase()&&"false"!=this.elements.button.getAttribute("aria-expanded")&&(this.hidePanel(),e.stopPropagation(),this.elements.button.focus())}onItemClick(e){e.preventDefault();const t=this.querySelector("form");this.elements.input.value=e.currentTarget.dataset.value,t&&t.submit()}openSelector(){this.elements.button.focus(),this.elements.panel.toggleAttribute("hidden"),this.elements.button.setAttribute("aria-expanded",("false"===this.elements.button.getAttribute("aria-expanded")).toString())}closeSelector(e){const t=this.elements.panel.contains(e.relatedTarget)||this.elements.button.contains(e.relatedTarget);e.relatedTarget&&t||this.hidePanel()}}),(()=>{function e(e){const i=document.createElement("img");return i.setAttribute("src",`${e.src}`),overlay=document.createElement("div"),function(e,t){e.setAttribute("class","image-magnify-full-size"),e.setAttribute("aria-hidden","true"),e.style.backgroundImage=`url('${t.src}')`,e.style.backgroundColor="var(--gradient-background)"}(overlay,i),e.style.opacity="50%",t(e),i.onload=()=>{t(e),e.parentElement.insertBefore(overlay,e),e.style.opacity="100%"},overlay}function t(e){e.parentElement.parentElement.querySelector(".loading-overlay__spinner").classList.toggle("hidden")}function i(e,t,i){const s=e.height/e.width,r=t.target.getBoundingClientRect(),n=t.clientX-r.left,o=t.clientY-r.top,a=n/(e.clientWidth/100)+"%",l=o/(e.clientWidth*s/100)+"%";overlay.style.backgroundPosition=`${a} ${l}`,overlay.style.backgroundSize=e.width*i+"px"}document.querySelectorAll(".image-magnify-hover").forEach((t=>{t.onclick=s=>{!function(t,s){const r=e(t);r.onclick=()=>r.remove(),r.onmousemove=e=>i(t,e,2),r.onmouseleave=()=>r.remove()}(t),i(t,s,2)}}))})(),(()=>{class e extends SearchForm{constructor(){super(),this.allSearchInputs=document.querySelectorAll('input[type="search"]'),this.setupEventListeners()}setupEventListeners(){let e=[];this.allSearchInputs.forEach((t=>e.push(t.form))),this.input.addEventListener("focus",this.onInputFocus.bind(this)),e.length<2||(e.forEach((e=>e.addEventListener("reset",this.onFormReset.bind(this)))),this.allSearchInputs.forEach((e=>e.addEventListener("input",this.onInput.bind(this)))))}onFormReset(e){super.onFormReset(e),super.shouldResetForm()&&this.keepInSync("",this.input)}onInput(e){const t=e.target;this.keepInSync(t.value,t)}onInputFocus(){window.innerWidth<750&&this.scrollIntoView({behavior:"smooth"})}keepInSync(e,t){this.allSearchInputs.forEach((i=>{i!==t&&(i.value=e)}))}}customElements.define("main-search",e)})(),customElements.get("media-gallery")||customElements.define("media-gallery",class extends HTMLElement{constructor(){super(),this.elements={liveRegion:this.querySelector('[id^="GalleryStatus"]'),viewer:this.querySelector('[id^="GalleryViewer"]'),thumbnails:this.querySelector('[id^="GalleryThumbnails"]')},this.mql=window.matchMedia("(min-width: 750px)"),this.elements.thumbnails&&(this.elements.viewer.addEventListener("slideChanged",debounce(this.onSlideChanged.bind(this),500)),this.elements.thumbnails.querySelectorAll("[data-target]").forEach((e=>{e.querySelector("button").addEventListener("click",this.setActiveMedia.bind(this,e.dataset.target,!1))})),this.dataset.desktopLayout.includes("thumbnail")&&this.mql.matches&&this.removeListSemantic())}onSlideChanged(e){const t=this.elements.thumbnails.querySelector(`[data-target="${e.detail.currentElement.dataset.mediaId}"]`);this.setActiveThumbnail(t)}setActiveMedia(e,t){const i=this.elements.viewer.querySelector(`[data-media-id="${e}"]`);if(this.elements.viewer.querySelectorAll("[data-media-id]").forEach((e=>{e.classList.remove("is-active")})),i.classList.add("is-active"),t){if(i.parentElement.prepend(i),this.elements.thumbnails){const t=this.elements.thumbnails.querySelector(`[data-target="${e}"]`);t.parentElement.prepend(t)}this.elements.viewer.slider&&this.elements.viewer.resetPages()}if(this.preventStickyHeader(),window.setTimeout((()=>{this.elements.thumbnails&&i.parentElement.scrollTo({left:i.offsetLeft}),this.elements.thumbnails&&"stacked"!==this.dataset.desktopLayout||i.scrollIntoView({behavior:"smooth"})})),this.playActiveMedia(i),!this.elements.thumbnails)return;const s=this.elements.thumbnails.querySelector(`[data-target="${e}"]`);this.setActiveThumbnail(s),this.announceLiveRegion(i,s.dataset.mediaPosition)}setActiveThumbnail(e){this.elements.thumbnails&&e&&(this.elements.thumbnails.querySelectorAll("button").forEach((e=>e.removeAttribute("aria-current"))),e.querySelector("button").setAttribute("aria-current",!0),this.elements.thumbnails.isSlideVisible(e,10)||this.elements.thumbnails.slider.scrollTo({left:e.offsetLeft}))}announceLiveRegion(e,t){const i=e.querySelector(".product__modal-opener--image img");i&&(i.onload=()=>{this.elements.liveRegion.setAttribute("aria-hidden",!1),this.elements.liveRegion.innerHTML=window.accessibilityStrings.imageAvailable.replace("[index]",t),setTimeout((()=>{this.elements.liveRegion.setAttribute("aria-hidden",!0)}),2e3)},i.src=i.src)}playActiveMedia(e){window.pauseAllMedia();const t=e.querySelector(".deferred-media");t&&t.loadContent(!1)}preventStickyHeader(){this.stickyHeader=this.stickyHeader||document.querySelector("sticky-header"),this.stickyHeader&&this.stickyHeader.dispatchEvent(new Event("preventHeaderReveal"))}removeListSemantic(){this.elements.viewer.slider&&(this.elements.viewer.slider.setAttribute("role","presentation"),this.elements.viewer.sliderItems.forEach((e=>e.setAttribute("role","presentation"))))}}),(()=>{class e extends DetailsModal{constructor(){super(),this.querySelector('input[aria-invalid="true"]')&&this.open({target:this.querySelector("details")})}}customElements.define("password-modal",e)})(),customElements.get("pickup-availability")||customElements.define("pickup-availability",class extends HTMLElement{constructor(){super(),this.hasAttribute("available")&&(this.errorHtml=this.querySelector("template").content.firstElementChild.cloneNode(!0),this.onClickRefreshList=this.onClickRefreshList.bind(this),this.fetchAvailability(this.dataset.variantId))}fetchAvailability(e){let t=this.dataset.rootUrl;t.endsWith("/")||(t+="/"),fetch(`${t}variants/${e}/?section_id=pickup-availability`).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html").querySelector(".shopify-section");this.renderPreview(t)})).catch((e=>{const t=this.querySelector("button");t&&t.removeEventListener("click",this.onClickRefreshList),this.renderError()}))}onClickRefreshList(e){this.fetchAvailability(this.dataset.variantId)}renderError(){this.innerHTML="",this.appendChild(this.errorHtml),this.querySelector("button").addEventListener("click",this.onClickRefreshList)}renderPreview(e){const t=document.querySelector("pickup-availability-drawer");if(t&&t.remove(),!e.querySelector("pickup-availability-preview"))return this.innerHTML="",void this.removeAttribute("available");this.innerHTML=e.querySelector("pickup-availability-preview").outerHTML,this.setAttribute("available",""),document.body.appendChild(e.querySelector("pickup-availability-drawer"));const i=this.querySelector("button");i&&i.addEventListener("click",(e=>{document.querySelector("pickup-availability-drawer").show(e.target)}))}}),customElements.get("pickup-availability-drawer")||customElements.define("pickup-availability-drawer",class extends HTMLElement{constructor(){super(),this.onBodyClick=this.handleBodyClick.bind(this),this.querySelector("button").addEventListener("click",(()=>{this.hide()})),this.addEventListener("keyup",(e=>{"ESCAPE"===e.code.toUpperCase()&&this.hide()}))}handleBodyClick(e){const t=e.target;t==this||t.closest("pickup-availability-drawer")||"ShowPickupAvailabilityDrawer"==t.id||this.hide()}hide(){this.removeAttribute("open"),document.body.removeEventListener("click",this.onBodyClick),document.body.classList.remove("overflow-hidden"),removeTrapFocus(this.focusElement)}show(e){this.focusElement=e,this.setAttribute("open",""),document.body.addEventListener("click",this.onBodyClick),document.body.classList.add("overflow-hidden"),trapFocus(this)}}),(()=>{class e extends SearchForm{constructor(){super(),this.cachedResults={},this.predictiveSearchResults=this.querySelector("[data-predictive-search]"),this.allPredictiveSearchInstances=document.querySelectorAll("predictive-search"),this.isOpen=!1,this.abortController=new AbortController,this.searchTerm="",this.setupEventListeners()}setupEventListeners(){this.input.form.addEventListener("submit",this.onFormSubmit.bind(this)),this.input.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("focusout",this.onFocusOut.bind(this)),this.addEventListener("keyup",this.onKeyup.bind(this)),this.addEventListener("keydown",this.onKeydown.bind(this))}getQuery(){return this.input.value.trim()}onChange(){super.onChange();const e=this.getQuery();this.searchTerm&&e.startsWith(this.searchTerm)||this.querySelector("#predictive-search-results-groups-wrapper")?.remove(),this.updateSearchForTerm(this.searchTerm,e),this.searchTerm=e,this.searchTerm.length?this.getSearchResults(this.searchTerm):this.close(!0)}onFormSubmit(e){this.getQuery().length&&!this.querySelector('[aria-selected="true"] a')||e.preventDefault()}onFormReset(e){super.onFormReset(e),super.shouldResetForm()&&(this.searchTerm="",this.abortController.abort(),this.abortController=new AbortController,this.closeResults(!0))}onFocus(){const e=this.getQuery();e.length&&(this.searchTerm!==e?this.onChange():"true"===this.getAttribute("results")?this.open():this.getSearchResults(this.searchTerm))}onFocusOut(){setTimeout((()=>{this.contains(document.activeElement)||this.close()}))}onKeyup(e){switch(this.getQuery().length||this.close(!0),e.preventDefault(),e.code){case"ArrowUp":this.switchOption("up");break;case"ArrowDown":this.switchOption("down");break;case"Enter":this.selectOption()}}onKeydown(e){"ArrowUp"!==e.code&&"ArrowDown"!==e.code||e.preventDefault()}updateSearchForTerm(e,t){const i=this.querySelector("[data-predictive-search-search-for-text]"),s=i?.innerText;if(s){if(s.match(new RegExp(e,"g")).length>1)return;const r=s.replace(e,t);i.innerText=r}}switchOption(e){if(!this.getAttribute("open"))return;const t="up"===e,i=this.querySelector('[aria-selected="true"]'),s=Array.from(this.querySelectorAll("li, button.predictive-search__item")).filter((e=>null!==e.offsetParent));let r=0;if(t&&!i)return;let n=-1,o=0;for(;-1===n&&o<=s.length;)s[o]===i&&(n=o),o++;if(this.statusElement.textContent="",!t&&i?r=n===s.length-1?0:n+1:t&&(r=0===n?s.length-1:n-1),r===n)return;const a=s[r];a.setAttribute("aria-selected",!0),i&&i.setAttribute("aria-selected",!1),this.input.setAttribute("aria-activedescendant",a.id)}selectOption(){const e=this.querySelector('[aria-selected="true"] a, button[aria-selected="true"]');e&&e.click()}getSearchResults(e){const t=e.replace(" ","-").toLowerCase();this.setLiveRegionLoadingState(),this.cachedResults[t]?this.renderSearchResults(this.cachedResults[t]):fetch(`${routes.predictive_search_url}?q=${encodeURIComponent(e)}&section_id=predictive-search`,{signal:this.abortController.signal}).then((e=>{if(!e.ok){var t=new Error(e.status);throw this.close(),t}return e.text()})).then((e=>{const i=(new DOMParser).parseFromString(e,"text/html").querySelector("#shopify-section-predictive-search").innerHTML;this.allPredictiveSearchInstances.forEach((e=>{e.cachedResults[t]=i})),this.renderSearchResults(i)})).catch((e=>{if(20!==e?.code)throw this.close(),e}))}setLiveRegionLoadingState(){this.statusElement=this.statusElement||this.querySelector(".predictive-search-status"),this.loadingText=this.loadingText||this.getAttribute("data-loading-text"),this.setLiveRegionText(this.loadingText),this.setAttribute("loading",!0)}setLiveRegionText(e){this.statusElement.setAttribute("aria-hidden","false"),this.statusElement.textContent=e,setTimeout((()=>{this.statusElement.setAttribute("aria-hidden","true")}),1e3)}renderSearchResults(e){this.predictiveSearchResults.innerHTML=e,this.setAttribute("results",!0),this.setLiveRegionResults(),this.open()}setLiveRegionResults(){this.removeAttribute("loading"),this.setLiveRegionText(this.querySelector("[data-predictive-search-live-region-count-value]").textContent)}getResultsMaxHeight(){return this.resultsMaxHeight=window.innerHeight-document.querySelector(".section-header").getBoundingClientRect().bottom,this.resultsMaxHeight}open(){this.predictiveSearchResults.style.maxHeight=this.resultsMaxHeight||`${this.getResultsMaxHeight()}px`,this.setAttribute("open",!0),this.input.setAttribute("aria-expanded",!0),this.isOpen=!0}close(e=!1){this.closeResults(e),this.isOpen=!1}closeResults(e=!1){e&&(this.input.value="",this.removeAttribute("results"));const t=this.querySelector('[aria-selected="true"]');t&&t.setAttribute("aria-selected",!1),this.input.setAttribute("aria-activedescendant",""),this.removeAttribute("loading"),this.removeAttribute("open"),this.input.setAttribute("aria-expanded",!1),this.resultsMaxHeight=!1,this.predictiveSearchResults.removeAttribute("style")}}customElements.define("predictive-search",e)})(),customElements.get("product-form")||customElements.define("product-form",class extends HTMLElement{constructor(){super(),this.form=this.querySelector("form"),this.form.querySelector("[name=id]").disabled=!1,this.form.addEventListener("submit",this.onSubmitHandler.bind(this)),this.cart=document.querySelector("cart-notification")||document.querySelector("cart-drawer"),this.submitButton=this.querySelector('[type="submit"]'),document.querySelector("cart-drawer")&&this.submitButton.setAttribute("aria-haspopup","dialog"),this.hideErrors="true"===this.dataset.hideErrors}onSubmitHandler(e){if(e.preventDefault(),"true"===this.submitButton.getAttribute("aria-disabled"))return;this.handleErrorMessage(),this.submitButton.setAttribute("aria-disabled",!0),this.submitButton.classList.add("loading"),this.querySelector(".loading-overlay__spinner").classList.remove("hidden");const t=fetchConfig("javascript");t.headers["X-Requested-With"]="XMLHttpRequest",delete t.headers["Content-Type"];const i=new FormData(this.form);this.cart&&(i.append("sections",this.cart.getSectionsToRender().map((e=>e.id))),i.append("sections_url",window.location.pathname),this.cart.setActiveElement(document.activeElement)),t.body=i,fetch(`${routes.cart_add_url}`,t).then((e=>e.json())).then((e=>{if(e.status){publish(PUB_SUB_EVENTS.cartError,{source:"product-form",productVariantId:i.get("id"),errors:e.errors||e.description,message:e.message}),this.handleErrorMessage(e.description);const t=this.submitButton.querySelector(".sold-out-message");if(!t)return;return this.submitButton.setAttribute("aria-disabled",!0),this.submitButton.querySelector("span").classList.add("hidden"),t.classList.remove("hidden"),void(this.error=!0)}if(!this.cart)return void(window.location=window.routes.cart_url);this.error||publish(PUB_SUB_EVENTS.cartUpdate,{source:"product-form",productVariantId:i.get("id")}),this.error=!1;const t=this.closest("quick-add-modal");t?(document.body.addEventListener("modalClosed",(()=>{setTimeout((()=>{this.cart.renderContents(e)}))}),{once:!0}),t.hide(!0)):this.cart.renderContents(e)})).catch((e=>{console.error(e)})).finally((()=>{this.submitButton.classList.remove("loading"),this.cart&&this.cart.classList.contains("is-empty")&&this.cart.classList.remove("is-empty"),this.error||this.submitButton.removeAttribute("aria-disabled"),this.querySelector(".loading-overlay__spinner").classList.add("hidden")}))}handleErrorMessage(e=!1){this.hideErrors||(this.errorMessageWrapper=this.errorMessageWrapper||this.querySelector(".product-form__error-message-wrapper"),this.errorMessageWrapper&&(this.errorMessage=this.errorMessage||this.errorMessageWrapper.querySelector(".product-form__error-message"),this.errorMessageWrapper.toggleAttribute("hidden",!e),e&&(this.errorMessage.textContent=e)))}}),customElements.get("product-info")||customElements.define("product-info",class extends HTMLElement{constructor(){super(),this.input=this.querySelector(".quantity__input"),this.currentVariant=this.querySelector(".product-variant-id"),this.variantSelects=this.querySelector("variant-radios"),this.submitButton=this.querySelector('[type="submit"]')}cartUpdateUnsubscriber=void 0;variantChangeUnsubscriber=void 0;connectedCallback(){this.input&&(this.quantityForm=this.querySelector(".product-form__quantity"),this.quantityForm&&(this.setQuantityBoundries(),this.dataset.originalSection||(this.cartUpdateUnsubscriber=subscribe(PUB_SUB_EVENTS.cartUpdate,this.fetchQuantityRules.bind(this))),this.variantChangeUnsubscriber=subscribe(PUB_SUB_EVENTS.variantChange,(e=>{const t=this.dataset.originalSection?this.dataset.originalSection:this.dataset.section;e.data.sectionId===t&&(this.updateQuantityRules(e.data.sectionId,e.data.html),this.setQuantityBoundries())}))))}disconnectedCallback(){this.cartUpdateUnsubscriber&&this.cartUpdateUnsubscriber(),this.variantChangeUnsubscriber&&this.variantChangeUnsubscriber()}setQuantityBoundries(){const e={cartQuantity:this.input.dataset.cartQuantity?parseInt(this.input.dataset.cartQuantity):0,min:this.input.dataset.min?parseInt(this.input.dataset.min):1,max:this.input.dataset.max?parseInt(this.input.dataset.max):null,step:this.input.step?parseInt(this.input.step):1};let t=e.min;const i=null===e.max?e.max:e.max-e.cartQuantity;null!==i&&(t=Math.min(t,i)),e.cartQuantity>=e.min&&(t=Math.min(t,e.step)),this.input.min=t,this.input.max=i,this.input.value=t,publish(PUB_SUB_EVENTS.quantityUpdate,void 0)}fetchQuantityRules(){this.currentVariant&&this.currentVariant.value&&(this.querySelector(".quantity__rules-cart .loading-overlay").classList.remove("hidden"),fetch(`${this.dataset.url}?variant=${this.currentVariant.value}&section_id=${this.dataset.section}`).then((e=>e.text())).then((e=>{const t=(new DOMParser).parseFromString(e,"text/html");this.updateQuantityRules(this.dataset.section,t),this.setQuantityBoundries()})).catch((e=>{console.error(e)})).finally((()=>{this.querySelector(".quantity__rules-cart .loading-overlay").classList.add("hidden")})))}updateQuantityRules(e,t){const i=t.getElementById(`Quantity-Form-${e}`),s=[".quantity__input",".quantity__rules",".quantity__label"];for(let e of s){const t=this.quantityForm.querySelector(e),s=i.querySelector(e);if(t&&s)if(".quantity__input"===e){const e=["data-cart-quantity","data-min","data-max","step"];for(let i of e){const e=s.getAttribute(i);null!==e&&t.setAttribute(i,e)}}else t.innerHTML=s.innerHTML}}}),customElements.get("product-modal")||customElements.define("product-modal",class extends ModalDialog{constructor(){super()}hide(){super.hide()}show(e){super.show(e),this.showActiveMedia()}showActiveMedia(){this.querySelectorAll(`[data-media-id]:not([data-media-id="${this.openedBy.getAttribute("data-media-id")}"])`).forEach((e=>{e.classList.remove("active")}));const e=this.querySelector(`[data-media-id="${this.openedBy.getAttribute("data-media-id")}"]`),t=e.querySelector("template"),i=t?t.content:null;e.classList.add("active"),e.scrollIntoView();const s=this.querySelector('[role="document"]');s.scrollLeft=(e.width-s.clientWidth)/2,"DEFERRED-MEDIA"==e.nodeName&&i&&i.querySelector(".js-youtube")&&e.loadContent()}}),customElements.get("product-model")||customElements.define("product-model",class extends DeferredMedia{constructor(){super()}loadContent(){super.loadContent(),Shopify.loadFeatures([{name:"model-viewer-ui",version:"1.0",onLoad:this.setupModelViewerUI.bind(this)}])}setupModelViewerUI(e){e||(this.modelViewerUI=new Shopify.ModelViewerUI(this.querySelector("model-viewer")))}}),window.ProductModel={loadShopifyXR(){Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:this.setupShopifyXR.bind(this)}])},setupShopifyXR(e){e||(window.ShopifyXR?(document.querySelectorAll('[id^="ProductJSON-"]').forEach((e=>{window.ShopifyXR.addModels(JSON.parse(e.textContent)),e.remove()})),window.ShopifyXR.setupXRElements()):document.addEventListener("shopify_xr_initialized",(()=>this.setupShopifyXR())))}},window.addEventListener("DOMContentLoaded",(()=>{window.ProductModel&&window.ProductModel.loadShopifyXR()})),customElements.get("quick-add-modal")||customElements.define("quick-add-modal",class extends ModalDialog{constructor(){super(),this.modalContent=this.querySelector('[id^="QuickAddInfo-"]')}hide(e=!1){const t=document.querySelector("cart-notification")||document.querySelector("cart-drawer");t&&t.setActiveElement(this.openedBy),this.modalContent.innerHTML="",e&&(this.openedBy=null),super.hide()}show(e){e.setAttribute("aria-disabled",!0),e.classList.add("loading"),e.querySelector(".loading-overlay__spinner").classList.remove("hidden"),fetch(e.getAttribute("data-product-url")).then((e=>e.text())).then((t=>{const i=(new DOMParser).parseFromString(t,"text/html");this.productElement=i.querySelector('section[id^="MainProduct-"]'),this.preventDuplicatedIDs(),this.removeDOMElements(),this.setInnerHTML(this.modalContent,this.productElement.innerHTML),window.Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init(),window.ProductModel&&window.ProductModel.loadShopifyXR(),this.removeGalleryListSemantic(),this.updateImageSizes(),this.preventVariantURLSwitching(),super.show(e)})).finally((()=>{e.removeAttribute("aria-disabled"),e.classList.remove("loading"),e.querySelector(".loading-overlay__spinner").classList.add("hidden")}))}setInnerHTML(e,t){e.innerHTML=t,e.querySelectorAll("script").forEach((e=>{const t=document.createElement("script");Array.from(e.attributes).forEach((e=>{t.setAttribute(e.name,e.value)})),t.appendChild(document.createTextNode(e.innerHTML)),e.parentNode.replaceChild(t,e)}))}preventVariantURLSwitching(){const e=this.modalContent.querySelector("variant-radios,variant-selects");e&&e.setAttribute("data-update-url","false")}removeDOMElements(){const e=this.productElement.querySelector("pickup-availability");e&&e.remove();const t=this.productElement.querySelector("product-modal");t&&t.remove();const i=this.productElement.querySelectorAll("modal-dialog");i&&i.forEach((e=>e.remove()))}preventDuplicatedIDs(){const e=this.productElement.dataset.section;this.productElement.innerHTML=this.productElement.innerHTML.replaceAll(e,`quickadd-${e}`),this.productElement.querySelectorAll("variant-selects, variant-radios, product-info").forEach((t=>{t.dataset.originalSection=e}))}removeGalleryListSemantic(){const e=this.modalContent.querySelector('[id^="Slider-Gallery"]');e&&(e.setAttribute("role","presentation"),e.querySelectorAll('[id^="Slide-"]').forEach((e=>e.setAttribute("role","presentation"))))}updateImageSizes(){const e=this.modalContent.querySelector(".product");if(!e.classList.contains("product--columns"))return;const t=e.querySelectorAll(".product__media img");if(!t.length)return;let i="(min-width: 1000px) 715px, (min-width: 750px) calc((100vw - 11.5rem) / 2), calc(100vw - 4rem)";e.classList.contains("product--medium")?i=i.replace("715px","605px"):e.classList.contains("product--small")&&(i=i.replace("715px","495px")),t.forEach((e=>e.setAttribute("sizes",i)))}}),customElements.get("recipient-form")||customElements.define("recipient-form",class extends HTMLElement{constructor(){super(),this.checkboxInput=this.querySelector(`#Recipient-checkbox-${this.dataset.sectionId}`),this.checkboxInput.disabled=!1,this.hiddenControlField=this.querySelector(`#Recipient-control-${this.dataset.sectionId}`),this.hiddenControlField.disabled=!0,this.emailInput=this.querySelector(`#Recipient-email-${this.dataset.sectionId}`),this.nameInput=this.querySelector(`#Recipient-name-${this.dataset.sectionId}`),this.messageInput=this.querySelector(`#Recipient-message-${this.dataset.sectionId}`),this.sendonInput=this.querySelector(`#Recipient-send-on-${this.dataset.sectionId}`),this.offsetProperty=this.querySelector(`#Recipient-timezone-offset-${this.dataset.sectionId}`),this.offsetProperty&&(this.offsetProperty.value=(new Date).getTimezoneOffset()),this.errorMessageWrapper=this.querySelector(".product-form__recipient-error-message-wrapper"),this.errorMessageList=this.errorMessageWrapper?.querySelector("ul"),this.errorMessage=this.errorMessageWrapper?.querySelector(".error-message"),this.defaultErrorHeader=this.errorMessage?.innerText,this.currentProductVariantId=this.dataset.productVariantId,this.addEventListener("change",this.onChange.bind(this)),this.onChange()}cartUpdateUnsubscriber=void 0;variantChangeUnsubscriber=void 0;cartErrorUnsubscriber=void 0;connectedCallback(){this.cartUpdateUnsubscriber=subscribe(PUB_SUB_EVENTS.cartUpdate,(e=>{"product-form"===e.source&&e.productVariantId.toString()===this.currentProductVariantId&&this.resetRecipientForm()})),this.variantChangeUnsubscriber=subscribe(PUB_SUB_EVENTS.variantChange,(e=>{e.data.sectionId===this.dataset.sectionId&&(this.currentProductVariantId=e.data.variant.id.toString())})),this.cartUpdateUnsubscriber=subscribe(PUB_SUB_EVENTS.cartError,(e=>{"product-form"===e.source&&e.productVariantId.toString()===this.currentProductVariantId&&this.displayErrorMessage(e.message,e.errors)}))}disconnectedCallback(){this.cartUpdateUnsubscriber&&this.cartUpdateUnsubscriber(),this.variantChangeUnsubscriber&&this.variantChangeUnsubscriber(),this.cartErrorUnsubscriber&&this.cartErrorUnsubscriber()}onChange(){this.checkboxInput.checked?this.enableInputFields():(this.clearInputFields(),this.disableInputFields(),this.clearErrorMessage())}inputFields(){return[this.emailInput,this.nameInput,this.messageInput,this.sendonInput]}disableableFields(){return[...this.inputFields(),this.offsetProperty]}clearInputFields(){this.inputFields().forEach((e=>e.value=""))}enableInputFields(){this.disableableFields().forEach((e=>e.disabled=!1))}disableInputFields(){this.disableableFields().forEach((e=>e.disabled=!0))}displayErrorMessage(e,t){if(this.clearErrorMessage(),this.errorMessageWrapper.hidden=!1,"object"==typeof t)return this.errorMessage.innerText=this.defaultErrorHeader,Object.entries(t).forEach((([e,t])=>{const i=`RecipientForm-${e}-error-${this.dataset.sectionId}`,s=`#Recipient-${e}-${this.dataset.sectionId}`,r=`${t.join(", ")}`,n=this.querySelector(`#${i}`),o=n?.querySelector(".error-message");if(!o)return;this.errorMessageList&&this.errorMessageList.appendChild(this.createErrorListItem(s,r)),o.innerText=`${r}.`,n.classList.remove("hidden");const a=this[`${e}Input`];a&&(a.setAttribute("aria-invalid",!0),a.setAttribute("aria-describedby",i))}));this.errorMessage.innerText=t}createErrorListItem(e,t){const i=document.createElement("li"),s=document.createElement("a");return s.setAttribute("href",e),s.innerText=t,i.appendChild(s),i.className="error-message",i}clearErrorMessage(){this.errorMessageWrapper.hidden=!0,this.errorMessageList&&(this.errorMessageList.innerHTML=""),this.querySelectorAll(".recipient-fields .form__message").forEach((e=>{e.classList.add("hidden");const t=e.querySelector(".error-message");t&&(t.innerText="")})),[this.emailInput,this.messageInput,this.nameInput,this.sendonInput].forEach((e=>{e.setAttribute("aria-invalid",!1),e.removeAttribute("aria-describedby")}))}resetRecipientForm(){this.checkboxInput.checked&&(this.checkboxInput.checked=!1,this.clearInputFields(),this.clearErrorMessage())}}),(()=>{class e extends HTMLElement{constructor(){super(),this.input=this.querySelector('input[type="search"]'),this.resetButton=this.querySelector('button[type="reset"]'),this.input&&(this.input.form.addEventListener("reset",this.onFormReset.bind(this)),this.input.addEventListener("input",debounce((e=>{this.onChange(e)}),300).bind(this)))}toggleResetButton(){const e=this.resetButton.classList.contains("hidden");this.input.value.length>0&&e?this.resetButton.classList.remove("hidden"):0!==this.input.value.length||e||this.resetButton.classList.add("hidden")}onChange(){this.toggleResetButton()}shouldResetForm(){return!document.querySelector('[aria-selected="true"] a')}onFormReset(e){e.preventDefault(),this.shouldResetForm()&&(this.input.value="",this.input.focus(),this.toggleResetButton())}}customElements.define("search-form",e)})(),customElements.get("share-button")||customElements.define("share-button",class extends DetailsDisclosure{constructor(){super(),this.elements={shareButton:this.querySelector("button"),shareSummary:this.querySelector("summary"),closeButton:this.querySelector(".share-button__close"),successMessage:this.querySelector('[id^="ShareMessage"]'),urlInput:this.querySelector("input")},this.urlToShare=this.elements.urlInput?this.elements.urlInput.value:document.location.href,navigator.share?(this.mainDetailsToggle.setAttribute("hidden",""),this.elements.shareButton.classList.remove("hidden"),this.elements.shareButton.addEventListener("click",(()=>{navigator.share({url:this.urlToShare,title:document.title})}))):(this.mainDetailsToggle.addEventListener("toggle",this.toggleDetails.bind(this)),this.mainDetailsToggle.querySelector(".share-button__copy").addEventListener("click",this.copyToClipboard.bind(this)),this.mainDetailsToggle.querySelector(".share-button__close").addEventListener("click",this.close.bind(this)))}toggleDetails(){this.mainDetailsToggle.open||(this.elements.successMessage.classList.add("hidden"),this.elements.successMessage.textContent="",this.elements.closeButton.classList.add("hidden"),this.elements.shareSummary.focus())}copyToClipboard(){navigator.clipboard.writeText(this.elements.urlInput.value).then((()=>{this.elements.successMessage.classList.remove("hidden"),this.elements.successMessage.textContent=window.accessibilityStrings.shareSuccess,this.elements.closeButton.classList.remove("hidden"),this.elements.closeButton.focus()}))}updateUrl(e){this.urlToShare=e,this.elements.urlInput.value=e}}),(()=>{class e extends HTMLElement{constructor(){super(),this.querySelector("button").addEventListener("click",(e=>{this.expandShowMore(e);const t=e.target.closest(".parent-display").querySelector(".show-more-item");t&&!t.classList.contains("hidden")&&t.querySelector("input").focus()}))}expandShowMore(e){const t=e.target.closest('[id^="Show-More-"]').closest(".parent-display");t.querySelector(".parent-wrap"),this.querySelectorAll(".label-text").forEach((e=>e.classList.toggle("hidden"))),t.querySelectorAll(".show-more-item").forEach((e=>e.classList.toggle("hidden")))}}customElements.define("show-more-button",e)})(),(()=>{function e(){const e=document.querySelectorAll("product-modal[open]");e&&e.forEach((e=>e.hide()))}document.addEventListener("shopify:block:select",(function(t){if(e(),!t.target.classList.contains("slideshow__slide"))return;const i=t.target.closest("slideshow-component");i.pause(),setTimeout((function(){i.slider.scrollTo({left:t.target.offsetLeft})}),200)})),document.addEventListener("shopify:block:deselect",(function(e){if(!e.target.classList.contains("slideshow__slide"))return;const t=e.target.closest("slideshow-component");t.autoplayButtonIsSetToPlay&&t.play()})),document.addEventListener("shopify:section:load",(()=>{e();const t=document.querySelector("[id^=EnableZoomOnHover]");if(t&&t){const e=document.createElement("script");e.src=t.src,t.parentNode.replaceChild(e,t)}})),document.addEventListener("shopify:section:reorder",(()=>e())),document.addEventListener("shopify:section:select",(()=>e())),document.addEventListener("shopify:section:deselect",(()=>e())),document.addEventListener("shopify:inspector:activate",(()=>e())),document.addEventListener("shopify:inspector:deactivate",(()=>e()))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ik1BQUEsTUFDTUEsRUFBdUMsNEJBRTdDLFNBQVNDLEVBQWVDLEVBQVVDLEdBQ2hDRCxFQUFTRSxTQUFRLENBQUNDLEVBQVNDLEtBQ3pCLEdBQUlELEVBQVFFLGVBQWdCLENBQzFCLE1BQU1DLEVBQWdCSCxFQUFRSSxPQUMxQkQsRUFBY0UsVUFBVUMsU0FBU1gsS0FDbkNRLEVBQWNFLFVBQVVFLE9BQU9aLEdBQzNCUSxFQUFjSyxhQUFhLGlCQUM3QkwsRUFBY00sYUFBYSxRQUFVLHNCQUFxQlIsT0FFOURILEVBQVNZLFVBQVVQLEVBQ3JCLE1BQ0VILEVBQVFJLE9BQU9DLFVBQVVNLElBQUloQixHQUM3QkssRUFBUUksT0FBT0MsVUFBVUUsT0FiVyx5QkFjdEMsR0FFSixDQW1CQUssT0FBT0MsaUJBQWlCLG9CQUFvQixJQWpCNUMsU0FBMENDLEVBQVNDLFNBQVVDLEdBQW9CLEdBQy9FLE1BQU1DLEVBQTJCQyxNQUFNQyxLQUFLTCxFQUFPTSx1QkFyQlYsbUJBc0J6QyxHQUF3QyxJQUFwQ0gsRUFBeUJJLE9BQWMsT0FFM0MsR0FBSUwsRUFJRixZQUhBQyxFQUF5QmxCLFNBQVNDLElBQ2hDQSxFQUFRSyxVQUFVTSxJQUFJLDhCQUE4QixJQUt4RCxNQUFNYixFQUFXLElBQUl3QixxQkFBcUIxQixFQUFnQixDQUN4RDJCLFdBQVksc0JBRWROLEVBQXlCbEIsU0FBU0MsR0FBWUYsRUFBUzBCLFFBQVF4QixJQUNqRSxDQUVrRHlCLEksV0NyQ2xELE1BQU1DLFVBQW1CQyxZQUN2QkMsY0FDRUMsUUFFQUMsS0FBS2pCLGlCQUFpQixTQUFVa0IsR0FBcUIsV0FBYkEsRUFBSUMsTUFBcUJGLEtBQUtHLFVBQ3RFSCxLQUFLSSxjQUFjLHVCQUF1QnJCLGlCQUFpQixRQUFTaUIsS0FBS0csTUFBTUUsS0FBS0wsT0FDcEZBLEtBQUtNLGdDQUNQLENBRUFBLGlDQUNFLE1BQU1DLEVBQVd0QixTQUFTbUIsY0FBYyxxQkFDeENHLEVBQVM1QixhQUFhLE9BQVEsVUFDOUI0QixFQUFTNUIsYUFBYSxnQkFBaUIsVUFDdkM0QixFQUFTeEIsaUJBQWlCLFNBQVV5QixJQUNsQ0EsRUFBTUMsaUJBQ05ULEtBQUtVLEtBQUtILEVBQVMsSUFFckJBLEVBQVN4QixpQkFBaUIsV0FBWXlCLElBQ0gsVUFBN0JBLEVBQU1OLEtBQUtTLGdCQUNiSCxFQUFNQyxpQkFDTlQsS0FBS1UsS0FBS0gsR0FDWixHQUVKLENBRUFHLEtBQUtFLEdBQ0NBLEdBQWFaLEtBQUthLGlCQUFpQkQsR0FDdkMsTUFBTUUsRUFBaUJkLEtBQUtJLGNBQWMsNEJBQ3RDVSxJQUFtQkEsRUFBZXBDLGFBQWEsU0FBU3NCLEtBQUtlLHdCQUF3QkQsR0FFekZFLFlBQVcsS0FDVGhCLEtBQUt6QixVQUFVTSxJQUFJLFVBQVcsU0FBUyxJQUd6Q21CLEtBQUtqQixpQkFDSCxpQkFDQSxLQUNFLE1BQU1rQyxFQUF5QmpCLEtBQUt6QixVQUFVQyxTQUFTLFlBQ25Ed0IsS0FBS0ksY0FBYyx3QkFDbkJuQixTQUFTaUMsZUFBZSxjQUN0QkMsRUFBZW5CLEtBQUtJLGNBQWMsbUJBQXFCSixLQUFLSSxjQUFjLGtCQUNoRmdCLFVBQVVILEVBQXdCRSxFQUFhLEdBRWpELENBQUVFLE1BQU0sSUFHVnBDLFNBQVNxQyxLQUFLL0MsVUFBVU0sSUFBSSxrQkFDOUIsQ0FFQXNCLFFBQ0VILEtBQUt6QixVQUFVRSxPQUFPLFVBQ3RCOEMsZ0JBQWdCdkIsS0FBS3dCLGVBQ3JCdkMsU0FBU3FDLEtBQUsvQyxVQUFVRSxPQUFPLGtCQUNqQyxDQUVBc0Msd0JBQXdCRCxHQUN0QkEsRUFBZW5DLGFBQWEsT0FBUSxVQUNwQ21DLEVBQWVuQyxhQUFhLGdCQUFpQixTQUV6Q21DLEVBQWVXLG1CQUFtQkMsYUFBYSxPQUNqRFosRUFBZW5DLGFBQWEsZ0JBQWlCbUMsRUFBZVcsbUJBQW1CRSxJQUdqRmIsRUFBZS9CLGlCQUFpQixTQUFVeUIsSUFDeENBLEVBQU1vQixjQUFjakQsYUFBYSxpQkFBa0I2QixFQUFNb0IsY0FBY0MsUUFBUSxXQUFXbkQsYUFBYSxRQUFRLElBR2pIb0MsRUFBZWdCLGNBQWMvQyxpQkFBaUIsUUFBU2dELGNBQ3pELENBRUFDLGVBQWVDLEdBQ2JqQyxLQUFLSSxjQUFjLGtCQUFrQjdCLFVBQVVDLFNBQVMsYUFDdER3QixLQUFLSSxjQUFjLGtCQUFrQjdCLFVBQVVFLE9BQU8sWUFDeER1QixLQUFLa0MsVUFBWUQsRUFBWU4sR0FDN0IzQixLQUFLbUMsc0JBQXNCbEUsU0FBU21FLEtBQ1hBLEVBQVFDLFNBQzNCcEQsU0FBU21CLGNBQWNnQyxFQUFRQyxVQUMvQnBELFNBQVNpQyxlQUFla0IsRUFBUVQsS0FDckJXLFVBQVl0QyxLQUFLdUMsb0JBQW9CTixFQUFZTyxTQUFTSixFQUFRVCxJQUFLUyxFQUFRQyxTQUFTLElBR3pHckIsWUFBVyxLQUNUaEIsS0FBS0ksY0FBYyx1QkFBdUJyQixpQkFBaUIsUUFBU2lCLEtBQUtHLE1BQU1FLEtBQUtMLE9BQ3BGQSxLQUFLVSxNQUFNLEdBRWYsQ0FFQTZCLG9CQUFvQkUsRUFBTUosRUFBVyxvQkFDbkMsT0FBTyxJQUFJSyxXQUFZQyxnQkFBZ0JGLEVBQU0sYUFBYXJDLGNBQWNpQyxHQUFVQyxTQUNwRixDQUVBSCxzQkFDRSxNQUFPLENBQ0wsQ0FDRVIsR0FBSSxjQUNKVSxTQUFVLGVBRVosQ0FDRVYsR0FBSSxvQkFHVixDQUVBaUIsY0FBY0gsRUFBTUosRUFBVyxvQkFDN0IsT0FBTyxJQUFJSyxXQUFZQyxnQkFBZ0JGLEVBQU0sYUFBYXJDLGNBQWNpQyxFQUMxRSxDQUVBeEIsaUJBQWlCM0MsR0FDZjhCLEtBQUt3QixjQUFnQnRELENBQ3ZCLEVBR0YyRSxlQUFlQyxPQUFPLGNBQWVsRCxHQUVyQyxNQUFNbUQsVUFBd0JDLFVBQzVCYixzQkFDRSxNQUFPLENBQ0wsQ0FDRVIsR0FBSSxhQUNKUyxRQUFTLGNBQ1RDLFNBQVUsa0JBRVosQ0FDRVYsR0FBSSxtQkFDSlMsUUFBUyxtQkFDVEMsU0FBVSxvQkFHaEIsRUFHRlEsZUFBZUMsT0FBTyxvQkFBcUJDLEUsV0NuSTNDLE1BQU1FLFVBQXlCcEQsWUFDN0JDLGNBQ0VDLFFBRUFDLEtBQUtrRCxhQUFlakUsU0FBU2lDLGVBQWUscUJBQzVDbEIsS0FBS21ELE9BQVNsRSxTQUFTbUIsY0FBYyxpQkFDckNKLEtBQUtvRCxZQUFjcEQsS0FBS3FELGdCQUFnQmhELEtBQUtMLE1BRTdDQSxLQUFLa0QsYUFBYW5FLGlCQUFpQixTQUFVa0IsR0FBcUIsV0FBYkEsRUFBSUMsTUFBcUJGLEtBQUtHLFVBQ25GSCxLQUFLc0QsaUJBQWlCLHlCQUF5QnJGLFNBQVNzRixHQUN0REEsRUFBWXhFLGlCQUFpQixRQUFTaUIsS0FBS0csTUFBTUUsS0FBS0wsUUFFMUQsQ0FFQVUsT0FDRVYsS0FBS2tELGFBQWEzRSxVQUFVTSxJQUFJLFVBQVcsVUFFM0NtQixLQUFLa0QsYUFBYW5FLGlCQUNoQixpQkFDQSxLQUNFaUIsS0FBS2tELGFBQWFNLFFBQ2xCcEMsVUFBVXBCLEtBQUtrRCxhQUFhLEdBRTlCLENBQUU3QixNQUFNLElBR1ZwQyxTQUFTcUMsS0FBS3ZDLGlCQUFpQixRQUFTaUIsS0FBS29ELFlBQy9DLENBRUFqRCxRQUNFSCxLQUFLa0QsYUFBYTNFLFVBQVVFLE9BQU8sVUFDbkNRLFNBQVNxQyxLQUFLbUMsb0JBQW9CLFFBQVN6RCxLQUFLb0QsYUFFaEQ3QixnQkFBZ0J2QixLQUFLd0IsY0FDdkIsQ0FFQVEsZUFBZUMsR0FDYmpDLEtBQUswRCxZQUFjekIsRUFBWTBCLElBQy9CM0QsS0FBS21DLHNCQUFzQmxFLFNBQVNtRSxJQUNsQ25ELFNBQVNpQyxlQUFla0IsRUFBUVQsSUFBSVcsVUFBWXRDLEtBQUt1QyxvQkFDbkROLEVBQVlPLFNBQVNKLEVBQVFULElBQzdCUyxFQUFRQyxTQUNULElBR0NyQyxLQUFLbUQsUUFBUW5ELEtBQUttRCxPQUFPUyxTQUM3QjVELEtBQUtVLE1BQ1AsQ0FFQXlCLHNCQUNFLE1BQU8sQ0FDTCxDQUNFUixHQUFJLDRCQUNKVSxTQUFXLGtDQUFpQ3JDLEtBQUswRCxpQkFFbkQsQ0FDRS9CLEdBQUksNEJBRU4sQ0FDRUEsR0FBSSxvQkFHVixDQUVBWSxvQkFBb0JFLEVBQU1KLEVBQVcsb0JBQ25DLE9BQU8sSUFBSUssV0FBWUMsZ0JBQWdCRixFQUFNLGFBQWFyQyxjQUFjaUMsR0FBVUMsU0FDcEYsQ0FFQWUsZ0JBQWdCcEQsR0FDZCxNQUFNM0IsRUFBUzJCLEVBQUkzQixPQUNuQixHQUFJQSxJQUFXMEIsS0FBS2tELGVBQWlCNUUsRUFBT3VELFFBQVEscUJBQXNCLENBQ3hFLE1BQU1nQyxFQUFhdkYsRUFBT3VELFFBQVEsbUNBQ2xDN0IsS0FBS3dCLGNBQWdCcUMsRUFBYUEsRUFBV3pELGNBQWMsV0FBYSxLQUN4RUosS0FBS0csT0FDUCxDQUNGLENBRUFVLGlCQUFpQjNDLEdBQ2Y4QixLQUFLd0IsY0FBZ0J0RCxDQUN2QixFQUdGMkUsZUFBZUMsT0FBTyxvQkFBcUJHLEUsV0NsRjNDLE1BQU1hLFVBQXlCakUsWUFFL0JDLGNBQ0lDLFFBQ0FDLEtBQUtqQixpQkFBaUIsU0FBVXlCLElBQzlCQSxFQUFNQyxrQkFDWVQsS0FBSzZCLFFBQVEsZUFBaUI3QixLQUFLNkIsUUFBUSxzQkFDbkRrQyxlQUFlL0QsS0FBS2dFLFFBQVE3RixNQUFPLEVBQUUsSUFDOUM4RixJQUNMLEVBRUZwQixlQUFlQyxPQUFPLHFCQUFzQmdCLEdBRTVDLE1BQU1kLFVBQWtCbkQsWUFDdEJDLGNBQ0VDLFFBQ0FDLEtBQUtrRSxzQkFDSGpGLFNBQVNpQyxlQUFlLG1DQUFxQ2pDLFNBQVNpQyxlQUFlLDZCQUV2RixNQUFNaUQsRUFBb0JDLFVBQVU1RCxJQUNsQ1IsS0FBS3FFLFNBQVM3RCxFQUFNLEdBQ25COEQsMEJBRUh0RSxLQUFLakIsaUJBQWlCLFNBQVVvRixFQUFrQjlELEtBQUtMLE1BQ3pELENBRUF1RSw0QkFBeUJDLEVBRXpCQyxvQkFDRXpFLEtBQUt1RSx1QkFBeUJHLFVBQVVDLGVBQWVDLFlBQWFwRSxJQUM3QyxlQUFqQkEsRUFBTXFFLFFBR1Y3RSxLQUFLOEUsY0FBYyxHQUV2QixDQUVBQyx1QkFDTS9FLEtBQUt1RSx3QkFDUHZFLEtBQUt1RSx3QkFFVCxDQUVBRixTQUFTN0QsR0FDUFIsS0FBSytELGVBQWV2RCxFQUFNbEMsT0FBTzBGLFFBQVE3RixNQUFPcUMsRUFBTWxDLE9BQU8wRyxNQUFPL0YsU0FBU3VDLGNBQWNFLGFBQWEsUUFDMUcsQ0FFQW9ELGVBQ0VHLE1BQU8sR0FBRUMsT0FBT0MsdUNBQ2JDLE1BQU1DLEdBQWFBLEVBQVNDLFNBQzVCRixNQUFNRyxJQUNMLE1BQ01DLEdBRE8sSUFBSTlDLFdBQVlDLGdCQUFnQjRDLEVBQWMsYUFDcENuRixjQUFjLGNBQ3JDSixLQUFLc0MsVUFBWWtELEVBQVVsRCxTQUFTLElBRXJDbUQsT0FBT0MsSUFDTkMsUUFBUUMsTUFBTUYsRUFBRSxHQUV0QixDQUVBdkQsc0JBQ0UsTUFBTyxDQUNMLENBQ0VSLEdBQUksa0JBQ0pTLFFBQVNuRCxTQUFTaUMsZUFBZSxtQkFBbUI4QyxRQUFRckMsR0FDNURVLFNBQVUsZ0JBRVosQ0FDRVYsR0FBSSxtQkFDSlMsUUFBUyxtQkFDVEMsU0FBVSxvQkFFWixDQUNFVixHQUFJLHdCQUNKUyxRQUFTLHdCQUNUQyxTQUFVLG9CQUVaLENBQ0VWLEdBQUksbUJBQ0pTLFFBQVNuRCxTQUFTaUMsZUFBZSxvQkFBb0I4QyxRQUFRckMsR0FDN0RVLFNBQVUsZ0JBR2hCLENBRUEwQixlQUFlOEIsRUFBTUMsRUFBVUMsR0FDN0IvRixLQUFLZ0csY0FBY0gsR0FFbkIsTUFBTXZFLEVBQU8yRSxLQUFLQyxVQUFVLENBQzFCTCxPQUNBQyxXQUNBdEQsU0FBVXhDLEtBQUttQyxzQkFBc0JnRSxLQUFLL0QsR0FBWUEsRUFBUUEsVUFDOURnRSxhQUFjdEgsT0FBT3VILFNBQVNDLFdBR2hDckIsTUFBTyxHQUFFQyxPQUFPcUIsa0JBQW1CLElBQUtDLGNBQW9CbEYsU0FDekQ4RCxNQUFNQyxHQUNFQSxFQUFTQyxTQUVqQkYsTUFBTXFCLElBQ0wsTUFBTXhFLEVBQWNnRSxLQUFLUyxNQUFNRCxHQUN6QkUsRUFDSjFILFNBQVNpQyxlQUFnQixZQUFXMkUsTUFBVzVHLFNBQVNpQyxlQUFnQixtQkFBa0IyRSxLQUN0RmUsRUFBUTNILFNBQVNxRSxpQkFBaUIsY0FFeEMsR0FBSXJCLEVBQVk0RSxPQUdkLE9BRkFGLEVBQWdCM0IsTUFBUTJCLEVBQWdCakYsYUFBYSxjQUNyRDFCLEtBQUs4RyxrQkFBa0JqQixFQUFNNUQsRUFBWTRFLFFBSTNDN0csS0FBS3pCLFVBQVV3SSxPQUFPLFdBQXVDLElBQTNCOUUsRUFBWStFLFlBQzlDLE1BQU1DLEVBQW9CaEksU0FBU21CLGNBQWMsZUFDM0M4RyxFQUFhakksU0FBU2lDLGVBQWUsb0JBRXZDZ0csR0FBWUEsRUFBVzNJLFVBQVV3SSxPQUFPLFdBQXVDLElBQTNCOUUsRUFBWStFLFlBQ2hFQyxHQUFtQkEsRUFBa0IxSSxVQUFVd0ksT0FBTyxXQUF1QyxJQUEzQjlFLEVBQVkrRSxZQUVsRmhILEtBQUttQyxzQkFBc0JsRSxTQUFTbUUsS0FFaENuRCxTQUFTaUMsZUFBZWtCLEVBQVFULElBQUl2QixjQUFjZ0MsRUFBUUMsV0FBYXBELFNBQVNpQyxlQUFla0IsRUFBUVQsS0FDeEZXLFVBQVl0QyxLQUFLdUMsb0JBQ2hDTixFQUFZTyxTQUFTSixFQUFRQSxTQUM3QkEsRUFBUUMsU0FDVCxJQUVILE1BQU04RSxFQUFlbEYsRUFBWTJFLE1BQU1mLEVBQU8sR0FBSzVELEVBQVkyRSxNQUFNZixFQUFPLEdBQUdDLGNBQVd0QixFQUMxRixJQUFJNEMsRUFBVSxHQUNWUixFQUFNckgsU0FBVzBDLEVBQVkyRSxNQUFNckgsUUFBVTRILElBQWlCRSxTQUFTVixFQUFnQjNCLFNBRXZGb0MsT0FEMEIsSUFBakJELEVBQ0NySSxPQUFPd0ksWUFBWTFCLE1BRW5COUcsT0FBT3dJLFlBQVlDLGNBQWNDLFFBQVEsYUFBY0wsSUFHckVuSCxLQUFLOEcsa0JBQWtCakIsRUFBTXVCLEdBRTdCLE1BQU1LLEVBQ0p4SSxTQUFTaUMsZUFBZ0IsWUFBVzJFLE1BQVc1RyxTQUFTaUMsZUFBZ0IsbUJBQWtCMkUsS0FDeEY0QixHQUFZQSxFQUFTckgsY0FBZSxVQUFTMkYsT0FDL0NrQixFQUNJN0YsVUFBVTZGLEVBQW1CUSxFQUFTckgsY0FBZSxVQUFTMkYsUUFDOUQwQixFQUFTckgsY0FBZSxVQUFTMkYsT0FBVXZDLFFBQ1gsSUFBM0J2QixFQUFZK0UsWUFBb0JDLEVBQ3pDN0YsVUFBVTZGLEVBQWtCN0csY0FBYyx3QkFBeUI2RyxFQUFrQjdHLGNBQWMsTUFDMUZuQixTQUFTbUIsY0FBYyxlQUFpQjZHLEdBQ2pEN0YsVUFBVTZGLEVBQW1CaEksU0FBU21CLGNBQWMscUJBRXREc0gsUUFBUS9DLGVBQWVDLFdBQVksQ0FBRUMsT0FBUSxjQUFlLElBRTdEWSxPQUFNLEtBQ0x6RixLQUFLc0QsaUJBQWlCLG9CQUFvQnJGLFNBQVMwSixHQUFZQSxFQUFRcEosVUFBVU0sSUFBSSxhQUN0RUksU0FBU2lDLGVBQWUsZ0JBQWtCakMsU0FBU2lDLGVBQWUsMEJBQzFFMEcsWUFBYzlJLE9BQU93SSxZQUFZMUIsS0FBSyxJQUU5Q2lDLFNBQVEsS0FDUDdILEtBQUs4SCxlQUFlakMsRUFBSyxHQUUvQixDQUVBaUIsa0JBQWtCakIsRUFBTXVCLEdBQ3RCLE1BQU1XLEVBQ0o5SSxTQUFTaUMsZUFBZ0IsbUJBQWtCMkUsTUFBVzVHLFNBQVNpQyxlQUFnQiw0QkFBMkIyRSxLQUN4R2tDLElBQWVBLEVBQWMzSCxjQUFjLDBCQUEwQmtDLFVBQVk4RSxHQUVyRnBILEtBQUtrRSxzQkFBc0J2RixhQUFhLGVBQWUsR0FFdkQsTUFBTXFKLEVBQ0ovSSxTQUFTaUMsZUFBZSwwQkFBNEJqQyxTQUFTaUMsZUFBZSw2QkFDOUU4RyxFQUFXckosYUFBYSxlQUFlLEdBRXZDcUMsWUFBVyxLQUNUZ0gsRUFBV3JKLGFBQWEsZUFBZSxFQUFLLEdBQzNDLElBQ0wsQ0FFQTRELG9CQUFvQkUsRUFBTUosR0FDeEIsT0FBTyxJQUFJSyxXQUFZQyxnQkFBZ0JGLEVBQU0sYUFBYXJDLGNBQWNpQyxHQUFVQyxTQUNwRixDQUVBMEQsY0FBY0gsSUFDVTVHLFNBQVNpQyxlQUFlLG9CQUFzQmpDLFNBQVNpQyxlQUFlLHlCQUM5RTNDLFVBQVVNLElBQUkseUJBSzVCLElBSHlCbUIsS0FBS3NELGlCQUFrQixhQUFZdUMseUJBQzdCN0YsS0FBS3NELGlCQUFrQixvQkFBbUJ1Qyx1QkFFeEI1SCxTQUFTMEosR0FBWUEsRUFBUXBKLFVBQVVFLE9BQU8sWUFFL0ZRLFNBQVN1QyxjQUFjeUcsT0FDdkJqSSxLQUFLa0Usc0JBQXNCdkYsYUFBYSxlQUFlLEVBQ3pELENBRUFtSixlQUFlakMsSUFDUzVHLFNBQVNpQyxlQUFlLG9CQUFzQmpDLFNBQVNpQyxlQUFlLHlCQUM5RTNDLFVBQVVFLE9BQU8seUJBRS9CLE1BQU15SixFQUFtQmxJLEtBQUtzRCxpQkFBa0IsYUFBWXVDLHNCQUN0RHNDLEVBQXlCbkksS0FBS3NELGlCQUFrQixvQkFBbUJ1QyxzQkFFekVxQyxFQUFpQmpLLFNBQVMwSixHQUFZQSxFQUFRcEosVUFBVU0sSUFBSSxZQUM1RHNKLEVBQXVCbEssU0FBUzBKLEdBQVlBLEVBQVFwSixVQUFVTSxJQUFJLFdBQ3BFLEVBR0ZnRSxlQUFlQyxPQUFPLGFBQWNFLEdBRS9CSCxlQUFldUYsSUFBSSxjQUN0QnZGLGVBQWVDLE9BQ2IsWUFDQSxjQUF1QmpELFlBQ3JCQyxjQUNFQyxRQUVBQyxLQUFLakIsaUJBQ0gsU0FDQXFGLFVBQVU1RCxJQUNSLE1BQU1jLEVBQU8yRSxLQUFLQyxVQUFVLENBQUVtQyxLQUFNN0gsRUFBTWxDLE9BQU8wRyxRQUNqREMsTUFBTyxHQUFFQyxPQUFPb0Qsa0JBQW1CLElBQUs5QixjQUFvQmxGLFFBQVMsR0FDcEVnRCwwQkFFUCxHLFdDN05OLE1BQU1pRSxVQUEwQjFJLFlBQzlCQyxjQUNFQyxRQUNBQyxLQUFLd0ksa0JBQW9CeEksS0FBS0ksY0FBYyxXQUM1Q0osS0FBS3lJLFFBQVV6SSxLQUFLd0ksa0JBQWtCcEksY0FBYyxXQUFXcUIsbUJBRS9EekIsS0FBS3dJLGtCQUFrQnpKLGlCQUFpQixXQUFZaUIsS0FBSzBJLFdBQVdySSxLQUFLTCxPQUN6RUEsS0FBS3dJLGtCQUFrQnpKLGlCQUFpQixTQUFVaUIsS0FBSzJJLFNBQVN0SSxLQUFLTCxNQUN2RSxDQUVBMEksYUFDRTFILFlBQVcsS0FDSmhCLEtBQUt4QixTQUFTUyxTQUFTdUMsZ0JBQWdCeEIsS0FBS0csT0FBTyxHQUU1RCxDQUVBd0ksV0FDTzNJLEtBQUs0SSxhQUFZNUksS0FBSzRJLFdBQWE1SSxLQUFLeUksUUFBUUksaUJBRWpEN0ksS0FBS3dJLGtCQUFrQjlKLGFBQWEsUUFDdENzQixLQUFLNEksV0FBVzNLLFNBQVM2SyxHQUFjQSxFQUFVQyxTQUVqRC9JLEtBQUs0SSxXQUFXM0ssU0FBUzZLLEdBQWNBLEVBQVVFLFVBRXJELENBRUE3SSxRQUNFSCxLQUFLd0ksa0JBQWtCUyxnQkFBZ0IsUUFDdkNqSixLQUFLd0ksa0JBQWtCcEksY0FBYyxXQUFXekIsYUFBYSxpQkFBaUIsRUFDaEYsRUFHRmtFLGVBQWVDLE9BQU8scUJBQXNCeUYsR0FvQjVDMUYsZUFBZUMsT0FBTyxjQWxCdEIsY0FBeUJ5RixFQUN2QnpJLGNBQ0VDLFFBQ0FDLEtBQUttRCxPQUFTbEUsU0FBU21CLGNBQWMsa0JBQ3ZDLENBRUF1SSxXQUNPM0ksS0FBS21ELFNBQ1ZuRCxLQUFLbUQsT0FBTytGLFlBQWNsSixLQUFLd0ksa0JBQWtCOUgsS0FFMkMsS0FBeEZ6QixTQUFTa0ssZ0JBQWdCQyxNQUFNQyxpQkFBaUIscUNBQ3BEcEssU0FBU2tLLGdCQUFnQkMsTUFBTUUsWUFDN0IsbUNBQ0MsR0FBRUMsS0FBS0MsTUFBTXhKLEtBQUttRCxPQUFPc0csd0JBQXdCQyxhQUV0RCxHLFdDakRGLE1BQU1DLFVBQXFCOUosWUFDekJDLGNBQ0VDLFFBQ0FDLEtBQUs0SixpQkFBbUI1SixLQUFLSSxjQUFjLFdBQzNDSixLQUFLNkosY0FBZ0I3SixLQUFLSSxjQUFjLFdBRXhDSixLQUFLNEosaUJBQWlCN0ssaUJBQWlCLFNBQVV5QixHQUF1QyxXQUE3QkEsRUFBTU4sS0FBS1MsZUFBOEJYLEtBQUtHLFVBQ3pHSCxLQUFLNkosY0FBYzlLLGlCQUFpQixRQUFTaUIsS0FBSzhKLGVBQWV6SixLQUFLTCxPQUN0RUEsS0FBS0ksY0FBYyx5QkFBeUJyQixpQkFBaUIsUUFBU2lCLEtBQUtHLE1BQU1FLEtBQUtMLE9BRXRGQSxLQUFLNkosY0FBY2xMLGFBQWEsT0FBUSxTQUMxQyxDQUVBb0wsU0FDRSxPQUFPL0osS0FBSzRKLGlCQUFpQmxMLGFBQWEsT0FDNUMsQ0FFQW9MLGVBQWV0SixHQUNiQSxFQUFNQyxpQkFDTkQsRUFBTWxDLE9BQU91RCxRQUFRLFdBQVduRCxhQUFhLFFBQVVzQixLQUFLRyxRQUFVSCxLQUFLVSxLQUFLRixFQUNsRixDQUVBNEMsWUFBWTVDLEdBQ0xSLEtBQUt4QixTQUFTZ0MsRUFBTWxDLFVBQVdrQyxFQUFNbEMsT0FBT0MsVUFBVUMsU0FBUyxrQkFBa0J3QixLQUFLRyxPQUFNLEVBQ25HLENBRUFPLEtBQUtGLEdBQ0hSLEtBQUtnSyxpQkFBbUJoSyxLQUFLZ0ssa0JBQW9CaEssS0FBS29ELFlBQVkvQyxLQUFLTCxNQUN2RVEsRUFBTWxDLE9BQU91RCxRQUFRLFdBQVdsRCxhQUFhLFFBQVEsR0FDckRNLFNBQVNxQyxLQUFLdkMsaUJBQWlCLFFBQVNpQixLQUFLZ0ssa0JBQzdDL0ssU0FBU3FDLEtBQUsvQyxVQUFVTSxJQUFJLG1CQUU1QnVDLFVBQ0VwQixLQUFLNEosaUJBQWlCeEosY0FBYyxtQkFDcENKLEtBQUs0SixpQkFBaUJ4SixjQUFjLDhCQUV4QyxDQUVBRCxNQUFNOEosR0FBYyxHQUNsQjFJLGdCQUFnQjBJLEVBQWNqSyxLQUFLNkosY0FBZ0IsTUFDbkQ3SixLQUFLNEosaUJBQWlCWCxnQkFBZ0IsUUFDdENoSyxTQUFTcUMsS0FBS21DLG9CQUFvQixRQUFTekQsS0FBS2dLLGtCQUNoRC9LLFNBQVNxQyxLQUFLL0MsVUFBVUUsT0FBTyxrQkFDakMsRUFHRm9FLGVBQWVDLE9BQU8sZ0JBQWlCNkcsRSxXQzlDdkMsTUFBTU8sVUFBeUJySyxZQUM3QkMsY0FDRUMsUUFDQUMsS0FBS21LLG9CQUFzQm5LLEtBQUttSyxvQkFBb0I5SixLQUFLTCxNQUV6REEsS0FBS29LLGtCQUFvQmhHLFVBQVU1RCxJQUNqQ1IsS0FBS3FLLGdCQUFnQjdKLEVBQU0sR0FDMUIsS0FFZVIsS0FBS0ksY0FBYyxRQUMzQnJCLGlCQUFpQixRQUFTaUIsS0FBS29LLGtCQUFrQi9KLEtBQUtMLE9BRWhFLE1BQU1zSyxFQUFldEssS0FBS0ksY0FBYyx5QkFDcENrSyxHQUFjQSxFQUFhdkwsaUJBQWlCLFFBQVNnRCxjQUMzRCxDQUVBd0ksc0JBTUV6TCxPQUFPQyxpQkFBaUIsWUFMQ3lCLElBQ3ZCLE1BQU1nSyxFQUFlaEssRUFBTWlHLE1BQVFqRyxFQUFNaUcsTUFBTStELGFBQWVOLEVBQWlCTyxvQkFDM0VELElBQWlCTixFQUFpQlEsa0JBQ3RDUixFQUFpQlMsV0FBV0gsRUFBYyxNQUFNLEVBQU0sR0FHMUQsQ0FFQUQsMEJBQTBCSyxHQUFVLEdBQ2xDM0wsU0FBU3FFLGlCQUFpQixvQkFBb0JyRixTQUFTQyxJQUNyREEsRUFBUUssVUFBVXdJLE9BQU8sV0FBWTZELEVBQVEsR0FFakQsQ0FFQUwsa0JBQWtCQyxFQUFjaEssRUFBT3FLLEdBQWdCLEdBQ3JEWCxFQUFpQlEsaUJBQW1CRixFQUNwQyxNQUFNaEksRUFBVzBILEVBQWlCWSxjQUM1QkMsRUFBaUI5TCxTQUFTaUMsZUFBZSxnQkFDekM4SixFQUF3Qi9MLFNBQVNpQyxlQUFlLHVCQUN0RGpDLFNBQVNpQyxlQUFlLHdCQUF3QmQsY0FBYyxlQUFlN0IsVUFBVU0sSUFBSSxXQUN2RmtNLEdBQ0ZBLEVBQWV4TSxVQUFVTSxJQUFJLFdBRTNCbU0sR0FDRkEsRUFBc0J6TSxVQUFVTSxJQUFJLFdBR3RDMkQsRUFBU3ZFLFNBQVNtRSxJQUNoQixNQUFNNkksRUFBTyxHQUFFbk0sT0FBT3VILFNBQVNDLHVCQUF1QmxFLEVBQVFBLFdBQVdvSSxJQUNuRVUsRUFBaUJoTixHQUFZQSxFQUFRK00sTUFBUUEsRUFFbkRmLEVBQWlCaUIsV0FBV0MsS0FBS0YsR0FDN0JoQixFQUFpQm1CLHVCQUF1QkgsRUFBZTFLLEdBQ3ZEMEosRUFBaUJvQix1QkFBdUJMLEVBQUt6SyxFQUFNLElBR3JEcUssR0FBZVgsRUFBaUJXLGNBQWNMLEVBQ3BELENBRUFELDhCQUE4QlUsRUFBS3pLLEdBQ2pDeUUsTUFBTWdHLEdBQ0g3RixNQUFNQyxHQUFhQSxFQUFTQyxTQUM1QkYsTUFBTUcsSUFDTCxNQUFNOUMsRUFBTzhDLEVBQ2IyRSxFQUFpQmlCLFdBQWEsSUFBSWpCLEVBQWlCaUIsV0FBWSxDQUFFMUksT0FBTXdJLFFBQ3ZFZixFQUFpQnFCLGNBQWM5SSxFQUFNakMsR0FDckMwSixFQUFpQnNCLDJCQUEyQi9JLEdBQzVDeUgsRUFBaUJ1QixtQkFBbUJoSixHQUNZLG1CQUFyQzlDLGtDQUFpREEsaUNBQWlDOEMsRUFBS0gsVUFBVSxHQUVsSCxDQUVBaUksOEJBQThCVyxFQUFlMUssR0FDM0MsTUFBTWlDLEVBQU95SCxFQUFpQmlCLFdBQVdPLEtBQUtSLEdBQWV6SSxLQUM3RHlILEVBQWlCcUIsY0FBYzlJLEVBQU1qQyxHQUNyQzBKLEVBQWlCc0IsMkJBQTJCL0ksR0FDNUN5SCxFQUFpQnVCLG1CQUFtQmhKLEdBQ1ksbUJBQXJDOUMsa0NBQWlEQSxpQ0FBaUM4QyxFQUFLSCxVQUNwRyxDQUVBaUksa0NBQWtDOUgsR0FDaEN4RCxTQUFTaUMsZUFBZSx3QkFBd0JvQixXQUFZLElBQUlJLFdBQzdEQyxnQkFBZ0JGLEVBQU0sYUFDdEJ2QixlQUFlLHdCQUF3Qm9CLFVBRTFDckQsU0FDR2lDLGVBQWUsd0JBQ2ZvQyxpQkFBaUIsbUJBQ2pCckYsU0FBU0MsSUFDUkEsRUFBUUssVUFBVU0sSUFBSSx5QkFBeUIsR0FFckQsQ0FFQTBMLDBCQUEwQjlILEdBQ3hCLE1BQU1rSixHQUFRLElBQUlqSixXQUFZQyxnQkFBZ0JGLEVBQU0sYUFBYXZCLGVBQWUsZ0JBQWdCb0IsVUFDMUZzSixFQUFZM00sU0FBU2lDLGVBQWUsZ0JBQ3BDMkssRUFBbUI1TSxTQUFTaUMsZUFBZSx1QkFDakQwSyxFQUFVdEosVUFBWXFKLEVBQ3RCQyxFQUFVck4sVUFBVUUsT0FBTyxXQUN2Qm9OLElBQ0ZBLEVBQWlCdkosVUFBWXFKLEVBQzdCRSxFQUFpQnROLFVBQVVFLE9BQU8sV0FFdEMsQ0FFQThMLHFCQUFxQjlILEVBQU1qQyxHQUN6QixNQUFNc0wsR0FBYSxJQUFJcEosV0FBWUMsZ0JBQWdCRixFQUFNLGFBRW5Ec0osRUFBdUJELEVBQVd4SSxpQkFDdEMsdUdBRUkwSSxFQUFnQjlOLElBQ3BCLE1BQU0rTixFQUFXekwsRUFBUUEsRUFBTWxDLE9BQU91RCxRQUFRLG1CQUFnQjJDLEVBQzlELFFBQU95SCxHQUFXL04sRUFBUThGLFFBQVE3RixRQUFVOE4sRUFBU2pJLFFBQVE3RixLQUFhLEVBRXRFK04sRUFBaUI5TSxNQUFNQyxLQUFLME0sR0FBc0JJLFFBQVFqTyxJQUFhOE4sRUFBYTlOLEtBQ3BGa08sRUFBaUJoTixNQUFNQyxLQUFLME0sR0FBc0JMLEtBQUtNLEdBRTdERSxFQUFlak8sU0FBU0MsSUFDdEJlLFNBQVNtQixjQUFlLDBCQUF5QmxDLEVBQVE4RixRQUFRN0YsV0FBV21FLFVBQVlwRSxFQUFRb0UsU0FBUyxJQUczRzRILEVBQWlCbUMsbUJBQW1CUCxHQUNwQzVCLEVBQWlCb0MseUJBQXlCUixHQUV0Q00sR0FBZ0JsQyxFQUFpQnFDLGFBQWFILEVBQWdCNUwsRUFBTWxDLE9BQU91RCxRQUFRLGNBQ3pGLENBRUEwSSwwQkFBMEI5SCxHQUNZLENBQUMsd0JBQXlCLDBCQUVsQ3hFLFNBQVNvRSxJQUNuQyxNQUFNbUssRUFBc0IvSixFQUFLckMsY0FBY2lDLEdBQzFDbUssSUFDTHZOLFNBQVNtQixjQUFjaUMsR0FBVUMsVUFBWWtLLEVBQW9CbEssVUFBUyxJQUc1RTRILEVBQWlCdUMsb0JBQW1CLEVBQ3RDLENBRUFsQyxnQ0FBZ0M5SCxHQUNDLENBQUMsdUJBQXdCLHdCQUF5QixZQUUxRHhFLFNBQVNvRSxJQUN6QkksRUFBS3JDLGNBQWNpQyxLQUN4QnBELFNBQVNtQixjQUFjaUMsR0FBVUMsVUFBWUcsRUFBS3JDLGNBQWNpQyxHQUFVQyxVQUFTLElBR3JGckQsU0FBU2lDLGVBQWUsMEJBQTBCVyxRQUFRLGVBQWU2SyxZQUMzRSxDQUVBbkMsb0JBQW9CMUYsRUFBUXZHLEdBQzFCLE1BQU1xTyxFQUFnQnJPLEVBQU84QixjQUFjLHFCQUNyQ3dNLEVBQWdCL0gsRUFBT3pFLGNBQWMscUJBRXJDeU0sRUFBNkJ2TyxFQUFPOEIsY0FBYyxvQkFDbEQwTSxFQUE2QmpJLEVBQU96RSxjQUFjLG9CQUVwRHdNLEdBQWlCRCxJQUNuQnJPLEVBQU84QixjQUFjLHFCQUFxQjJNLFVBQVlsSSxFQUFPekUsY0FBYyxxQkFBcUIyTSxXQUc5RkYsR0FBOEJDLElBQ2hDeE8sRUFBTzhCLGNBQWMsb0JBQW9CMk0sVUFBWWxJLEVBQU96RSxjQUFjLG9CQUFvQjJNLFVBRWxHLENBRUF4QyxxQkFBcUJDLEdBQ25Cd0MsUUFBUUMsVUFBVSxDQUFFekMsZ0JBQWdCLEdBQUssR0FBRTFMLE9BQU91SCxTQUFTQyxXQUFXa0UsR0FBZ0IsSUFBSTBDLE9BQU8xQyxLQUNuRyxDQUVBRCxxQkFDRSxNQUFPLENBQ0wsQ0FDRW5JLFFBQVNuRCxTQUFTaUMsZUFBZSxnQkFBZ0I4QyxRQUFRckMsSUFHL0QsQ0FFQXdMLG1CQUFtQkMsR0FDakIsTUFBTUMsRUFBVyxJQUFJQyxTQUFTRixHQUM5QixPQUFPLElBQUlHLGdCQUFnQkYsR0FBVUcsVUFDdkMsQ0FFQUMsYUFBYWpELEVBQWNoSyxHQUN6QjBKLEVBQWlCUyxXQUFXSCxFQUFjaEssRUFDNUMsQ0FFQTZKLGdCQUFnQjdKLEdBQ2RBLEVBQU1DLGlCQUNOLE1BQU1pTixFQUFrQnpPLFNBQVNxRSxpQkFBaUIsMkJBQ2xELEdBQWtDLDJCQUE5QjlDLEVBQU1tTixXQUFXQyxVQUF3QyxDQUMzRCxNQUFNcEQsRUFBZXhLLEtBQUttTixtQkFBbUIzTSxFQUFNbEMsT0FBT3VELFFBQVEsU0FDbEU3QixLQUFLeU4sYUFBYWpELEVBQWNoSyxFQUNsQyxLQUFPLENBQ0wsTUFBTXFOLEVBQVEsR0FDUkMsRUFBK0MsMkJBQXBDdE4sRUFBTWxDLE9BQU91RCxRQUFRLFFBQVFGLEdBRTlDK0wsRUFBZ0J6UCxTQUFTbVAsSUFDbEJVLEVBTWtCLDJCQUFaVixFQUFLekwsSUFDZGtNLEVBQU1FLEtBQUsvTixLQUFLbU4sbUJBQW1CQyxJQU5uQixrQkFBWkEsRUFBS3pMLElBQXNDLHFCQUFaeUwsRUFBS3pMLElBQXlDLHdCQUFaeUwsRUFBS3pMLEtBQ25EMUMsU0FBU3FFLGlCQUFpQixlQUNsQ3JGLFNBQVMrUCxHQUFPQSxFQUFHdlAsV0FDaENvUCxFQUFNRSxLQUFLL04sS0FBS21OLG1CQUFtQkMsSUFJdkMsSUFFRnBOLEtBQUt5TixhQUFhSSxFQUFNSSxLQUFLLEtBQU16TixFQUNyQyxDQUNGLENBRUEySixvQkFBb0IzSixHQUNsQkEsRUFBTUMsaUJBQ055SixFQUFpQnVDLHFCQUNqQixNQUFNeEIsR0FDc0MsR0FBMUN6SyxFQUFNb0IsY0FBY3NNLEtBQUtDLFFBQVEsS0FDN0IsR0FDQTNOLEVBQU1vQixjQUFjc00sS0FBS0UsTUFBTTVOLEVBQU1vQixjQUFjc00sS0FBS0MsUUFBUSxLQUFPLEdBQzdFakUsRUFBaUJTLFdBQVdNLEVBQzlCLEVBR0ZmLEVBQWlCaUIsV0FBYSxHQUM5QmpCLEVBQWlCTyxvQkFBc0IzTCxPQUFPdUgsU0FBU2dJLE9BQU9ELE1BQU0sR0FDcEVsRSxFQUFpQlEsaUJBQW1CNUwsT0FBT3VILFNBQVNnSSxPQUFPRCxNQUFNLEdBQ2pFdkwsZUFBZUMsT0FBTyxxQkFBc0JvSCxHQUM1Q0EsRUFBaUJvRSxlQUVqQixNQUFNQyxVQUFtQjFPLFlBQ3ZCQyxjQUNFQyxRQUNBQyxLQUFLc0QsaUJBQWlCLFNBQVNyRixTQUFTQyxHQUN0Q0EsRUFBUWEsaUJBQWlCLFNBQVVpQixLQUFLd08sY0FBY25PLEtBQUtMLFNBRTdEQSxLQUFLeU8sb0JBQ1AsQ0FFQUQsY0FBY2hPLEdBQ1pSLEtBQUswTyxvQkFBb0JsTyxFQUFNb0IsZUFDL0I1QixLQUFLeU8sb0JBQ1AsQ0FFQUEscUJBQ0UsTUFBTUUsRUFBUzNPLEtBQUtzRCxpQkFBaUIsU0FDL0JzTCxFQUFXRCxFQUFPLEdBQ2xCRSxFQUFXRixFQUFPLEdBQ3BCRSxFQUFTN0osT0FBTzRKLEVBQVNqUSxhQUFhLE1BQU9rUSxFQUFTN0osT0FDdEQ0SixFQUFTNUosT0FBTzZKLEVBQVNsUSxhQUFhLE1BQU9pUSxFQUFTNUosT0FDbkMsS0FBbkI0SixFQUFTNUosT0FBYzZKLEVBQVNsUSxhQUFhLE1BQU8sR0FDakMsS0FBbkJrUSxFQUFTN0osT0FBYzRKLEVBQVNqUSxhQUFhLE1BQU9rUSxFQUFTbk4sYUFBYSxPQUNoRixDQUVBZ04sb0JBQW9CSSxHQUNsQixNQUFNOUosRUFBUStKLE9BQU9ELEVBQU05SixPQUNyQmdLLEVBQU1ELE9BQU9ELEVBQU1wTixhQUFhLFFBQ2hDdU4sRUFBTUYsT0FBT0QsRUFBTXBOLGFBQWEsUUFFbENzRCxFQUFRZ0ssSUFBS0YsRUFBTTlKLE1BQVFnSyxHQUMzQmhLLEVBQVFpSyxJQUFLSCxFQUFNOUosTUFBUWlLLEVBQ2pDLEVBR0ZwTSxlQUFlQyxPQUFPLGNBQWV5TCxHQUVyQyxNQUFNVyxVQUFvQnJQLFlBQ3hCQyxjQUNFQyxRQUNBLE1BQU1vUCxFQUFZblAsS0FBS0ksY0FBYyxLQUNyQytPLEVBQVV4USxhQUFhLE9BQVEsVUFDL0J3USxFQUFVcFEsaUJBQWlCLFFBQVNpQixLQUFLb1AsWUFBWS9PLEtBQUtMLE9BQzFEbVAsRUFBVXBRLGlCQUFpQixTQUFVeUIsSUFDbkNBLEVBQU1DLGlCQUMyQixVQUE3QkQsRUFBTU4sS0FBS1MsZUFBMkJYLEtBQUtvUCxZQUFZNU8sRUFBTSxHQUVyRSxDQUVBNE8sWUFBWTVPLEdBQ1ZBLEVBQU1DLGtCQUNPVCxLQUFLNkIsUUFBUSx1QkFBeUI1QyxTQUFTbUIsY0FBYyx1QkFDckUrSixvQkFBb0IzSixFQUMzQixFQUdGcUMsZUFBZUMsT0FBTyxlQUFnQm9NLEUsV0NsUnRDalEsU0FBU3FFLGlCQUFpQiw0QkFBNEJyRixTQUFTb1IsSUFDN0RBLEVBQVExUSxhQUFhLE9BQVEsVUFDN0IwUSxFQUFRMVEsYUFBYSxnQkFBaUIwUSxFQUFRQyxXQUFXNVEsYUFBYSxTQUVsRTJRLEVBQVE1TixtQkFBbUJDLGFBQWEsT0FDMUMyTixFQUFRMVEsYUFBYSxnQkFBaUIwUSxFQUFRNU4sbUJBQW1CRSxJQUduRTBOLEVBQVF0USxpQkFBaUIsU0FBVXlCLElBQ2pDQSxFQUFNb0IsY0FBY2pELGFBQWEsaUJBQWtCNkIsRUFBTW9CLGNBQWNDLFFBQVEsV0FBV25ELGFBQWEsUUFBUSxJQUc3RzJRLEVBQVF4TixRQUFRLCtCQUNwQndOLEVBQVF2TixjQUFjL0MsaUJBQWlCLFFBQVNnRCxFQUFjLElBR2hFLE1BQU13TixFQUFvQixDQUFDLEVBRTNCLFNBQVNuTyxFQUFVd0ssRUFBVzRELEVBQWlCNUQsR0FDN0MsSUFBSTdOLEVBM0JOLFNBQThCNk4sR0FDNUIsT0FBT3hNLE1BQU1DLEtBQ1h1TSxFQUFVdEksaUJBQ1IsNEtBR04sQ0FxQmlCbU0sQ0FBcUI3RCxHQUNoQzhELEVBQVEzUixFQUFTLEdBQ2pCNFIsRUFBTzVSLEVBQVNBLEVBQVN3QixPQUFTLEdBRXRDZ0MsSUFFQWdPLEVBQWtCSyxRQUFXcFAsSUFDdkJBLEVBQU1sQyxTQUFXc04sR0FBYXBMLEVBQU1sQyxTQUFXcVIsR0FBUW5QLEVBQU1sQyxTQUFXb1IsR0FFNUV6USxTQUFTRixpQkFBaUIsVUFBV3dRLEVBQWtCTSxRQUFRLEVBR2pFTixFQUFrQk8sU0FBVyxXQUMzQjdRLFNBQVN3RSxvQkFBb0IsVUFBVzhMLEVBQWtCTSxRQUM1RCxFQUVBTixFQUFrQk0sUUFBVSxTQUFVclAsR0FDSCxRQUE3QkEsRUFBTU4sS0FBS1MsZ0JBRVhILEVBQU1sQyxTQUFXcVIsR0FBU25QLEVBQU11UCxXQUNsQ3ZQLEVBQU1DLGlCQUNOaVAsRUFBTWxNLFNBSUhoRCxFQUFNbEMsU0FBV3NOLEdBQWFwTCxFQUFNbEMsU0FBV29SLElBQVVsUCxFQUFNdVAsV0FDbEV2UCxFQUFNQyxpQkFDTmtQLEVBQUtuTSxTQUVULEVBRUF2RSxTQUFTRixpQkFBaUIsV0FBWXdRLEVBQWtCTyxVQUN4RDdRLFNBQVNGLGlCQUFpQixVQUFXd1EsRUFBa0JLLFNBRXZESixFQUFlaE0sUUFHYyxVQUEzQmdNLEVBQWVRLFNBQ2YsQ0FBQyxTQUFVLE9BQVEsUUFBUyxPQUFPQyxTQUFTVCxFQUFlVSxPQUMzRFYsRUFBZXhLLE9BRWZ3SyxFQUFlVyxrQkFBa0IsRUFBR1gsRUFBZXhLLE1BQU16RixPQUU3RCxDQUdBLElBQ0VOLFNBQVNtQixjQUFjLGlCQUN6QixDQUFFLE1BQU9zRixJQUlULFdBQ0UsTUFBTTBLLEVBQVUsQ0FDZCxVQUNBLFlBQ0EsWUFDQSxhQUNBLE1BQ0EsUUFDQSxRQUNBLFNBQ0EsT0FDQSxNQUNBLFNBQ0EsWUFFRixJQUFJQyxFQUF3QixLQUN4QkMsRUFBYSxLQUVqQnhSLE9BQU9DLGlCQUFpQixXQUFZeUIsSUFDOUI0UCxFQUFRSCxTQUFTelAsRUFBTU4sS0FBS1MsaUJBQzlCMlAsR0FBYSxFQUNmLElBR0Z4UixPQUFPQyxpQkFBaUIsYUFBY3lCLElBQ3BDOFAsR0FBYSxDQUFJLElBR25CeFIsT0FBT0MsaUJBQ0wsU0FDQSxLQUNNc1IsR0FBdUJBLEVBQXNCOVIsVUFBVUUsT0FBTyxXQUU5RDZSLElBRUpELEVBQXdCcFIsU0FBU3VDLGNBQ2pDNk8sRUFBc0I5UixVQUFVTSxJQUFJLFdBQVUsSUFFaEQsRUFFSixDQTNDRTBSLEVBQ0YsQ0F5REEsU0FBU2hQLEVBQWdCaU8sRUFBaUIsTUFDeEN2USxTQUFTd0Usb0JBQW9CLFVBQVc4TCxFQUFrQkssU0FDMUQzUSxTQUFTd0Usb0JBQW9CLFdBQVk4TCxFQUFrQk8sVUFDM0Q3USxTQUFTd0Usb0JBQW9CLFVBQVc4TCxFQUFrQk0sU0FFdERMLEdBQWdCQSxFQUFlaE0sT0FDckMsQ0FFQSxTQUFTekIsRUFBY3ZCLEdBQ3JCLEdBQWlDLFdBQTdCQSxFQUFNTixLQUFLUyxjQUE0QixPQUUzQyxNQUFNNlAsRUFBcUJoUSxFQUFNbEMsT0FBT3VELFFBQVEsaUJBQ2hELElBQUsyTyxFQUFvQixPQUV6QixNQUFNQyxFQUFpQkQsRUFBbUJwUSxjQUFjLFdBQ3hEb1EsRUFBbUJ2SCxnQkFBZ0IsUUFDbkN3SCxFQUFlOVIsYUFBYSxpQkFBaUIsR0FDN0M4UixFQUFlak4sT0FDakIsQ0FFQSxNQUFNa04sVUFBc0I3USxZQUMxQkMsY0FDRUMsUUFDQUMsS0FBSzhPLE1BQVE5TyxLQUFLSSxjQUFjLFNBQ2hDSixLQUFLMlEsWUFBYyxJQUFJQyxNQUFNLFNBQVUsQ0FBRUMsU0FBUyxJQUVsRDdRLEtBQUs4TyxNQUFNL1AsaUJBQWlCLFNBQVVpQixLQUFLOFEsY0FBY3pRLEtBQUtMLE9BQzlEQSxLQUFLc0QsaUJBQWlCLFVBQVVyRixTQUFTOFMsR0FDdkNBLEVBQU9oUyxpQkFBaUIsUUFBU2lCLEtBQUtnUixjQUFjM1EsS0FBS0wsUUFFN0QsQ0FFQWlSLGdDQUE2QnpNLEVBRTdCQyxvQkFDRXpFLEtBQUtrUixtQkFDTGxSLEtBQUtpUiwyQkFBNkJ2TSxVQUFVQyxlQUFld00sZUFBZ0JuUixLQUFLa1IsaUJBQWlCN1EsS0FBS0wsTUFDeEcsQ0FFQStFLHVCQUNNL0UsS0FBS2lSLDRCQUNQalIsS0FBS2lSLDRCQUVULENBRUFILGNBQWN0USxHQUNaUixLQUFLa1Isa0JBQ1AsQ0FFQUYsY0FBY3hRLEdBQ1pBLEVBQU1DLGlCQUNOLE1BQU0yUSxFQUFnQnBSLEtBQUs4TyxNQUFNOUosTUFFWCxTQUF0QnhFLEVBQU1sQyxPQUFPeUgsS0FBa0IvRixLQUFLOE8sTUFBTXVDLFNBQVdyUixLQUFLOE8sTUFBTXdDLFdBQzVERixJQUFrQnBSLEtBQUs4TyxNQUFNOUosT0FBT2hGLEtBQUs4TyxNQUFNeUMsY0FBY3ZSLEtBQUsyUSxZQUN4RSxDQUVBTyxtQkFDRSxNQUFNbE0sRUFBUXFDLFNBQVNySCxLQUFLOE8sTUFBTTlKLE9BQ2xDLEdBQUloRixLQUFLOE8sTUFBTUUsSUFBSyxDQUNsQixNQUFNQSxFQUFNM0gsU0FBU3JILEtBQUs4TyxNQUFNRSxLQUNaaFAsS0FBS0ksY0FBYyxtQ0FDM0I3QixVQUFVd0ksT0FBTyxXQUFZL0IsR0FBU2dLLEVBQ3BELENBQ0EsR0FBSWhQLEtBQUs4TyxNQUFNRyxJQUFLLENBQ2xCLE1BQU1BLEVBQU01SCxTQUFTckgsS0FBSzhPLE1BQU1HLEtBQ2JqUCxLQUFLSSxjQUFjLGtDQUMzQjdCLFVBQVV3SSxPQUFPLFdBQVkvQixHQUFTaUssRUFDbkQsQ0FDRixFQUdGcE0sZUFBZUMsT0FBTyxpQkFBa0I0TixRQXFCWCxJQUFsQjVSLE9BQU8wUyxVQUNoQjFTLE9BQU8wUyxRQUFVLENBQUMsR0FHcEJBLFFBQVFuUixLQUFPLFNBQVVvUixFQUFJQyxHQUMzQixPQUFPLFdBQ0wsT0FBT0QsRUFBR0UsTUFBTUQsRUFBT0UsVUFDekIsQ0FDRixFQUVBSixRQUFRSyxtQkFBcUIsU0FBVXhQLEVBQVUyQyxHQUMvQyxJQUFLLElBQUk4TSxFQUFJLEVBQUduRyxFQUFRdEosRUFBUzBQLFFBQVF4UyxPQUFRdVMsRUFBSW5HLEVBQU9tRyxJQUFLLENBQy9ELElBQUlFLEVBQVMzUCxFQUFTMFAsUUFBUUQsR0FDOUIsR0FBSTlNLEdBQVNnTixFQUFPaE4sT0FBU0EsR0FBU2dOLEVBQU8xUCxVQUUzQyxPQURBRCxFQUFTNFAsY0FBZ0JILEVBQ2xCQSxDQUVYLENBQ0YsRUFFQU4sUUFBUVUsWUFBYyxTQUFVNVQsRUFBUTZULEVBQVdDLEdBQ2pEOVQsRUFBT1MsaUJBQ0hULEVBQU9TLGlCQUFpQm9ULEVBQVdDLEdBQVUsR0FDN0M5VCxFQUFPK1QsWUFBWSxLQUFPRixFQUFXQyxFQUMzQyxFQUVBWixRQUFRYyxTQUFXLFNBQVVDLEVBQU1SLEdBRWpDLElBQUlTLEdBREpULEVBQVVBLEdBQVcsQ0FBQyxHQUNPLFFBQUssT0FDOUJVLEVBQVNWLEVBQW9CLFlBQUssQ0FBQyxFQUVuQzNFLEVBQU9uTyxTQUFTeVQsY0FBYyxRQUlsQyxJQUFLLElBQUkvTyxLQUhUeUosRUFBS3pPLGFBQWEsU0FBVTZULEdBQzVCcEYsRUFBS3pPLGFBQWEsU0FBVTRULEdBRVpFLEVBQVEsQ0FDdEIsSUFBSUUsRUFBYzFULFNBQVN5VCxjQUFjLFNBQ3pDQyxFQUFZaFUsYUFBYSxPQUFRLFVBQ2pDZ1UsRUFBWWhVLGFBQWEsT0FBUWdGLEdBQ2pDZ1AsRUFBWWhVLGFBQWEsUUFBUzhULEVBQU85TyxJQUN6Q3lKLEVBQUt3RixZQUFZRCxFQUNuQixDQUNBMVQsU0FBU3FDLEtBQUtzUixZQUFZeEYsR0FDMUJBLEVBQUt5RixTQUNMNVQsU0FBU3FDLEtBQUt3UixZQUFZMUYsRUFDNUIsRUFFQW9FLFFBQVF1Qix3QkFBMEIsU0FBVUMsRUFBZUMsRUFBZ0JsQixHQUN6RS9SLEtBQUtrVCxVQUFZalUsU0FBU2lDLGVBQWU4UixHQUN6Q2hULEtBQUttVCxXQUFhbFUsU0FBU2lDLGVBQWUrUixHQUMxQ2pULEtBQUtvVCxrQkFBb0JuVSxTQUFTaUMsZUFBZTZRLEVBQXFCLGFBQUtrQixHQUUzRXpCLFFBQVFVLFlBQVlsUyxLQUFLa1QsVUFBVyxTQUFVMUIsUUFBUW5SLEtBQUtMLEtBQUtxVCxlQUFnQnJULE9BRWhGQSxLQUFLc1QsY0FDTHRULEtBQUt1VCxjQUNQLEVBRUEvQixRQUFRdUIsd0JBQXdCUyxVQUFZLENBQzFDRixZQUFhLFdBQ1gsSUFBSXRPLEVBQVFoRixLQUFLa1QsVUFBVXhSLGFBQWEsZ0JBQ3hDOFAsUUFBUUssbUJBQW1CN1IsS0FBS2tULFVBQVdsTyxHQUMzQ2hGLEtBQUtxVCxnQkFDUCxFQUVBRSxhQUFjLFdBQ1osSUFBSXZPLEVBQVFoRixLQUFLbVQsV0FBV3pSLGFBQWEsZ0JBQ3JDc0QsR0FBU2hGLEtBQUttVCxXQUFXcEIsUUFBUXhTLE9BQVMsR0FDNUNpUyxRQUFRSyxtQkFBbUI3UixLQUFLbVQsV0FBWW5PLEVBRWhELEVBRUFxTyxlQUFnQixTQUFVM04sR0FDeEIsSUFDSStOLEdBREFDLEVBQU0xVCxLQUFLa1QsVUFBVW5CLFFBQVEvUixLQUFLa1QsVUFBVWpCLGdCQUNsQ3ZRLGFBQWEsa0JBQ3ZCaVMsRUFBWTFOLEtBQUtTLE1BQU0rTSxHQUczQixHQURBelQsS0FBSzRULGFBQWE1VCxLQUFLbVQsWUFDbkJRLEdBQWlDLEdBQXBCQSxFQUFVcFUsT0FDekJTLEtBQUtvVCxrQkFBa0JoSyxNQUFNeUssUUFBVSxXQUNsQyxDQUNMLElBQUssSUFBSS9CLEVBQUksRUFBR0EsRUFBSTZCLEVBQVVwVSxPQUFRdVMsSUFBSyxDQUN6QyxJQUFJNEIsS0FBTXpVLFNBQVN5VCxjQUFjLFdBQzdCMU4sTUFBUTJPLEVBQVU3QixHQUFHLEdBQ3pCNEIsRUFBSXBSLFVBQVlxUixFQUFVN0IsR0FBRyxHQUM3QjlSLEtBQUttVCxXQUFXUCxZQUFZYyxFQUM5QixDQUVBMVQsS0FBS29ULGtCQUFrQmhLLE1BQU15SyxRQUFVLEVBQ3pDLENBQ0YsRUFFQUQsYUFBYyxTQUFVdlIsR0FDdEIsS0FBT0EsRUFBU3lSLFlBQ2R6UixFQUFTeVEsWUFBWXpRLEVBQVN5UixXQUVsQyxFQUVBQyxXQUFZLFNBQVUxUixFQUFVMlIsR0FDekIsSUFBSWxDLEVBQUksRUFBYixJQUF3QmtDLEVBQU96VSxPQUFRdVMsRUFBSWtDLEVBQU96VSxPQUFRdVMsSUFBSyxDQUM3RCxJQUFJNEIsRUFBTXpVLFNBQVN5VCxjQUFjLFVBQ2pDZ0IsRUFBSTFPLE1BQVFnUCxFQUFPbEMsR0FDbkI0QixFQUFJcFIsVUFBWTBSLEVBQU9sQyxHQUN2QnpQLEVBQVN1USxZQUFZYyxFQUN2QixDQUNGLEdBR0YsTUFBTU8sVUFBbUJwVSxZQUN2QkMsY0FDRUMsUUFFQUMsS0FBS3dJLGtCQUFvQnhJLEtBQUtJLGNBQWMsV0FFNUNKLEtBQUtqQixpQkFBaUIsUUFBU2lCLEtBQUtrVSxRQUFRN1QsS0FBS0wsT0FDakRBLEtBQUtqQixpQkFBaUIsV0FBWWlCLEtBQUswSSxXQUFXckksS0FBS0wsT0FDdkRBLEtBQUswTSxZQUNQLENBRUFBLGFBQ0UxTSxLQUFLc0QsaUJBQWlCLFdBQVdyRixTQUFTb1IsR0FDeENBLEVBQVF0USxpQkFBaUIsUUFBU2lCLEtBQUs4SixlQUFlekosS0FBS0wsU0FFN0RBLEtBQUtzRCxpQkFBaUIsc0NBQXNDckYsU0FBUzhTLEdBQ25FQSxFQUFPaFMsaUJBQWlCLFFBQVNpQixLQUFLbVUsbUJBQW1COVQsS0FBS0wsUUFFbEUsQ0FFQWtVLFFBQVExVCxHQUNOLEdBQWlDLFdBQTdCQSxFQUFNTixLQUFLUyxjQUE0QixPQUUzQyxNQUFNNlAsRUFBcUJoUSxFQUFNbEMsT0FBT3VELFFBQVEsaUJBQzNDMk8sSUFFTEEsSUFBdUJ4USxLQUFLd0ksa0JBQ3hCeEksS0FBS29VLGdCQUFnQjVULEVBQU9SLEtBQUt3SSxrQkFBa0JwSSxjQUFjLFlBQ2pFSixLQUFLcVUsYUFBYTdELEdBQ3hCLENBRUExRyxlQUFldEosR0FDYixNQUFNaVEsRUFBaUJqUSxFQUFNb0IsY0FDdkIwUyxFQUFpQjdELEVBQWVuQixXQUNoQ2lGLEVBQW9CRCxFQUFlelMsUUFBUSxnQkFDM0NrSSxFQUFTdUssRUFBZTVWLGFBQWEsUUFDckM4VixFQUFnQjFWLE9BQU8yVixXQUFXLG9DQUV4QyxTQUFTQyxJQUNQdFQsRUFBVXFQLEVBQWVoUCxtQkFBb0I2UyxFQUFlbFUsY0FBYyxXQUMxRXFRLEVBQWVoUCxtQkFBbUJnQyxvQkFBb0IsZ0JBQWlCaVIsRUFDekUsQ0FFSUosSUFBbUJ0VSxLQUFLd0ksbUJBQ3RCdUIsR0FBUXZKLEVBQU1DLGlCQUNsQnNKLEVBQVMvSixLQUFLb1UsZ0JBQWdCNVQsRUFBT2lRLEdBQWtCelEsS0FBSzJVLGVBQWVsRSxHQUV2RTNSLE9BQU8yVixXQUFXLHVCQUNwQnhWLFNBQVNrSyxnQkFBZ0JDLE1BQU1FLFlBQVksb0JBQXNCLEdBQUV4SyxPQUFPOFYsa0JBRzVFNVQsWUFBVyxLQUNUc1QsRUFBZS9WLFVBQVVNLElBQUksZ0JBQzdCNFIsRUFBZTlSLGFBQWEsaUJBQWlCLEdBQzdDNFYsR0FBcUJBLEVBQWtCaFcsVUFBVU0sSUFBSSxpQkFDcEQyVixHQUFpQkEsRUFBY0ssUUFDNUJILElBQ0FqRSxFQUFlaFAsbUJBQW1CMUMsaUJBQWlCLGdCQUFpQjJWLEVBQWEsR0FDcEYsSUFFUCxDQUVBQyxlQUFlbEUsR0FDYnpQLFlBQVcsS0FDVGhCLEtBQUt3SSxrQkFBa0JqSyxVQUFVTSxJQUFJLGVBQWUsSUFFdEQ0UixFQUFlOVIsYUFBYSxpQkFBaUIsR0FDN0N5QyxFQUFVcEIsS0FBS3dJLGtCQUFtQmlJLEdBQ2xDeFIsU0FBU3FDLEtBQUsvQyxVQUFVTSxJQUFLLG1CQUFrQm1CLEtBQUtnRSxRQUFROFEsYUFDOUQsQ0FFQVYsZ0JBQWdCNVQsRUFBT2dQLEdBQWlCLFFBQ3hCaEwsSUFBVmhFLElBRUpSLEtBQUt3SSxrQkFBa0JqSyxVQUFVRSxPQUFPLGdCQUN4Q3VCLEtBQUt3SSxrQkFBa0JsRixpQkFBaUIsV0FBV3JGLFNBQVM4VyxJQUMxREEsRUFBUTlMLGdCQUFnQixRQUN4QjhMLEVBQVF4VyxVQUFVRSxPQUFPLGVBQWUsSUFFMUN1QixLQUFLd0ksa0JBQWtCbEYsaUJBQWlCLGlCQUFpQnJGLFNBQVMrVyxJQUNoRUEsRUFBUXpXLFVBQVVFLE9BQU8sZUFBZSxJQUUxQ1EsU0FBU3FDLEtBQUsvQyxVQUFVRSxPQUFRLG1CQUFrQnVCLEtBQUtnRSxRQUFROFEsY0FDL0R2VCxFQUFnQmlPLEdBQ2hCeFAsS0FBS2lWLGVBQWVqVixLQUFLd0ksbUJBRXJCaEksYUFBaUIwVSxlQUFlMUYsR0FBZ0I3USxhQUFhLGlCQUFpQixHQUNwRixDQUVBK0osYUFDRTFILFlBQVcsS0FDTGhCLEtBQUt3SSxrQkFBa0I5SixhQUFhLFVBQVlzQixLQUFLd0ksa0JBQWtCaEssU0FBU1MsU0FBU3VDLGdCQUMzRnhCLEtBQUtvVSxpQkFBaUIsR0FFNUIsQ0FFQUQsbUJBQW1CM1QsR0FDakIsTUFBTThULEVBQWlCOVQsRUFBTW9CLGNBQWNDLFFBQVEsV0FDbkQ3QixLQUFLcVUsYUFBYUMsRUFDcEIsQ0FFQUQsYUFBYUMsR0FDWCxNQUFNQyxFQUFvQkQsRUFBZXpTLFFBQVEsaUJBQ2pEMFMsR0FBcUJBLEVBQWtCaFcsVUFBVUUsT0FBTyxnQkFDeEQ2VixFQUFlL1YsVUFBVUUsT0FBTyxnQkFDaEM2VixFQUFlbFUsY0FBYyxXQUFXekIsYUFBYSxpQkFBaUIsR0FDdEU0QyxFQUFnQitTLEVBQWVsVSxjQUFjLFlBQzdDSixLQUFLaVYsZUFBZVgsRUFDdEIsQ0FFQVcsZUFBZVgsR0FDYixJQUFJYSxFQUVKLE1BQU1DLEVBQW1CQyxTQUNBN1EsSUFBbkIyUSxJQUNGQSxFQUFpQkUsR0FHQ0EsRUFBT0YsRUFFVCxJQUNoQnJXLE9BQU93VyxzQkFBc0JGLElBRTdCZCxFQUFlckwsZ0JBQWdCLFFBQzNCcUwsRUFBZXpTLFFBQVEsa0JBQ3pCVCxFQUFVa1QsRUFBZXpTLFFBQVEsaUJBQWtCeVMsRUFBZWxVLGNBQWMsWUFFcEYsRUFHRnRCLE9BQU93VyxzQkFBc0JGLEVBQy9CLEVBR0Z2UyxlQUFlQyxPQUFPLGNBQWVtUixHQTRDckNwUixlQUFlQyxPQUFPLGdCQTFDdEIsY0FBMkJtUixFQUN6Qm5VLGNBQ0VDLE9BQ0YsQ0FFQTRVLGVBQWVsRSxHQUNielEsS0FBS21ELE9BQVNuRCxLQUFLbUQsUUFBVWxFLFNBQVNtQixjQUFjLG1CQUNwREosS0FBS3VWLGFBQ0h2VixLQUFLdVYsY0FBZ0J2VixLQUFLNkIsUUFBUSxtQkFBbUJ0RCxVQUFVQyxTQUFTLGlDQUFtQyxFQUFJLEVBQ2pIUyxTQUFTa0ssZ0JBQWdCQyxNQUFNRSxZQUM3QiwyQkFDQyxHQUFFakMsU0FBU3JILEtBQUttRCxPQUFPc0csd0JBQXdCQyxPQUFTMUosS0FBS3VWLG1CQUVoRXZWLEtBQUttRCxPQUFPNUUsVUFBVU0sSUFBSSxhQUUxQm1DLFlBQVcsS0FDVGhCLEtBQUt3SSxrQkFBa0JqSyxVQUFVTSxJQUFJLGVBQWUsSUFHdEQ0UixFQUFlOVIsYUFBYSxpQkFBaUIsR0FDN0NHLE9BQU9DLGlCQUFpQixTQUFVaUIsS0FBS3dWLFVBQ3ZDcFUsRUFBVXBCLEtBQUt3SSxrQkFBbUJpSSxHQUNsQ3hSLFNBQVNxQyxLQUFLL0MsVUFBVU0sSUFBSyxtQkFBa0JtQixLQUFLZ0UsUUFBUThRLGFBQzlELENBRUFWLGdCQUFnQjVULEVBQU9nUCxHQUNoQkEsSUFDTHpQLE1BQU1xVSxnQkFBZ0I1VCxFQUFPZ1AsR0FDN0J4UCxLQUFLbUQsT0FBTzVFLFVBQVVFLE9BQU8sYUFDN0JLLE9BQU8yRSxvQkFBb0IsU0FBVXpELEtBQUt3VixVQUM1QyxDQUVBQSxTQUFXQSxLQUNUeFYsS0FBS21ELFFBQ0hsRSxTQUFTa0ssZ0JBQWdCQyxNQUFNRSxZQUM3QiwyQkFDQyxHQUFFakMsU0FBU3JILEtBQUttRCxPQUFPc0csd0JBQXdCQyxPQUFTMUosS0FBS3VWLG1CQUVsRXRXLFNBQVNrSyxnQkFBZ0JDLE1BQU1FLFlBQVksb0JBQXNCLEdBQUV4SyxPQUFPOFYsZ0JBQWdCLElBTTlGLE1BQU1hLFVBQW9CNVYsWUFDeEJDLGNBQ0VDLFFBQ0FDLEtBQUtJLGNBQWMsdUJBQXVCckIsaUJBQWlCLFFBQVNpQixLQUFLMFYsS0FBS3JWLEtBQUtMLE1BQU0sSUFDekZBLEtBQUtqQixpQkFBaUIsU0FBVXlCLElBQ0csV0FBN0JBLEVBQU1OLEtBQUtTLGVBQTRCWCxLQUFLMFYsTUFBTSxJQUVwRDFWLEtBQUt6QixVQUFVQyxTQUFTLGVBQzFCd0IsS0FBS2pCLGlCQUFpQixhQUFjeUIsSUFDUixVQUF0QkEsRUFBTW1WLGFBQTRCblYsRUFBTWxDLE9BQU91RCxRQUFRLGtDQUFrQzdCLEtBQUswVixNQUFNLElBRzFHMVYsS0FBS2pCLGlCQUFpQixTQUFVeUIsSUFDMUJBLEVBQU1sQyxTQUFXMEIsTUFBTUEsS0FBSzBWLE1BQU0sR0FHNUMsQ0FFQWpSLG9CQUNNekUsS0FBSzRWLFFBQ1Q1VixLQUFLNFYsT0FBUSxFQUNiM1csU0FBU3FDLEtBQUtzUixZQUFZNVMsTUFDNUIsQ0FFQTZWLEtBQUtDLEdBQ0g5VixLQUFLK1YsU0FBV0QsRUFDaEIsTUFBTUUsRUFBUWhXLEtBQUtJLGNBQWMsbUJBQ2pDbkIsU0FBU3FDLEtBQUsvQyxVQUFVTSxJQUFJLG1CQUM1Qm1CLEtBQUtyQixhQUFhLE9BQVEsSUFDdEJxWCxHQUFPQSxFQUFNQyxjQUNqQjdVLEVBQVVwQixLQUFNQSxLQUFLSSxjQUFjLG9CQUNuQ3RCLE9BQU9vWCxlQUNULENBRUFSLE9BQ0V6VyxTQUFTcUMsS0FBSy9DLFVBQVVFLE9BQU8sbUJBQy9CUSxTQUFTcUMsS0FBS2lRLGNBQWMsSUFBSTRFLFlBQVksZ0JBQzVDblcsS0FBS2lKLGdCQUFnQixRQUNyQjFILEVBQWdCdkIsS0FBSytWLFVBQ3JCalgsT0FBT29YLGVBQ1QsRUFFRnJULGVBQWVDLE9BQU8sZUFBZ0IyUyxHQUV0QyxNQUFNVyxVQUFvQnZXLFlBQ3hCQyxjQUNFQyxRQUVBLE1BQU1nUixFQUFTL1EsS0FBS0ksY0FBYyxVQUU3QjJRLEdBQ0xBLEVBQU9oUyxpQkFBaUIsU0FBUyxLQUMvQixNQUFNc1gsRUFBUXBYLFNBQVNtQixjQUFjSixLQUFLMEIsYUFBYSxlQUNuRDJVLEdBQU9BLEVBQU1SLEtBQUs5RSxFQUFPLEdBRWpDLEVBRUZsTyxlQUFlQyxPQUFPLGVBQWdCc1QsR0FFdEMsTUFBTUUsVUFBc0J6VyxZQUMxQkMsY0FDRUMsUUFDQSxNQUFNd1csRUFBU3ZXLEtBQUtJLGNBQWMsNEJBQzdCbVcsR0FDTEEsRUFBT3hYLGlCQUFpQixRQUFTaUIsS0FBS2lXLFlBQVk1VixLQUFLTCxNQUN6RCxDQUVBaVcsWUFBWXpTLEdBQVEsR0FFbEIsR0FEQTFFLE9BQU9vWCxpQkFDRmxXLEtBQUswQixhQUFhLFVBQVcsQ0FDaEMsTUFBTStHLEVBQVV4SixTQUFTeVQsY0FBYyxPQUN2Q2pLLEVBQVFtSyxZQUFZNVMsS0FBS0ksY0FBYyxZQUFZcUksUUFBUStOLGtCQUFrQkMsV0FBVSxJQUV2RnpXLEtBQUtyQixhQUFhLFVBQVUsR0FDNUIsTUFBTStYLEVBQWtCMVcsS0FBSzRTLFlBQVluSyxFQUFRckksY0FBYyxnQ0FDM0RvRCxHQUFPa1QsRUFBZ0JsVCxRQUNLLFNBQTVCa1QsRUFBZ0JDLFVBQXVCRCxFQUFnQmhWLGFBQWEsYUFFdEVnVixFQUFnQjNOLE1BRXBCLENBQ0YsRUFHRmxHLGVBQWVDLE9BQU8saUJBQWtCd1QsR0FFeEMsTUFBTU0sVUFBd0IvVyxZQUM1QkMsY0FDRUMsUUFDQUMsS0FBSzZXLE9BQVM3VyxLQUFLSSxjQUFjLG1CQUNqQ0osS0FBSzhXLFlBQWM5VyxLQUFLc0QsaUJBQWlCLGtCQUN6Q3RELEtBQUsrVyxxQkFBc0IsRUFDM0IvVyxLQUFLZ1gsbUJBQXFCaFgsS0FBS0ksY0FBYyw0QkFDN0NKLEtBQUtpWCxpQkFBbUJqWCxLQUFLSSxjQUFjLDBCQUMzQ0osS0FBS2tYLFdBQWFsWCxLQUFLSSxjQUFjLDJCQUNyQ0osS0FBS21YLFdBQWFuWCxLQUFLSSxjQUFjLHVCQUVoQ0osS0FBSzZXLFFBQVc3VyxLQUFLbVgsYUFFMUJuWCxLQUFLb1gsWUFDa0IsSUFBSUMsZ0JBQWdCQyxHQUFZdFgsS0FBS29YLGNBQzdDMVgsUUFBUU0sS0FBSzZXLFFBRTVCN1csS0FBSzZXLE9BQU85WCxpQkFBaUIsU0FBVWlCLEtBQUt1WCxPQUFPbFgsS0FBS0wsT0FDeERBLEtBQUtrWCxXQUFXblksaUJBQWlCLFFBQVNpQixLQUFLZ1IsY0FBYzNRLEtBQUtMLE9BQ2xFQSxLQUFLbVgsV0FBV3BZLGlCQUFpQixRQUFTaUIsS0FBS2dSLGNBQWMzUSxLQUFLTCxPQUNwRSxDQUVBb1gsWUFDRXBYLEtBQUt3WCxrQkFBb0JwWSxNQUFNQyxLQUFLVyxLQUFLOFcsYUFBYTNLLFFBQVFqTyxHQUFZQSxFQUFRdVosWUFBYyxJQUM1RnpYLEtBQUt3WCxrQkFBa0JqWSxPQUFTLElBQ3BDUyxLQUFLMFgsaUJBQW1CMVgsS0FBS3dYLGtCQUFrQixHQUFHRyxXQUFhM1gsS0FBS3dYLGtCQUFrQixHQUFHRyxXQUN6RjNYLEtBQUs0WCxjQUFnQnJPLEtBQUtDLE9BQ3ZCeEosS0FBSzZXLE9BQU9ZLFlBQWN6WCxLQUFLd1gsa0JBQWtCLEdBQUdHLFlBQWMzWCxLQUFLMFgsa0JBRTFFMVgsS0FBSzZYLFdBQWE3WCxLQUFLd1gsa0JBQWtCalksT0FBU1MsS0FBSzRYLGNBQWdCLEVBQ3ZFNVgsS0FBS3VYLFNBQ1AsQ0FFQU8sYUFDRTlYLEtBQUs4VyxZQUFjOVcsS0FBS3NELGlCQUFpQixrQkFDekN0RCxLQUFLb1gsV0FDUCxDQUVBRyxTQUdFLElBQUt2WCxLQUFLNlcsU0FBVzdXLEtBQUttWCxXQUFZLE9BRXRDLE1BQU1ZLEVBQWUvWCxLQUFLZ1ksWUFDMUJoWSxLQUFLZ1ksWUFBY3pPLEtBQUswTyxNQUFNalksS0FBSzZXLE9BQU9xQixXQUFhbFksS0FBSzBYLGtCQUFvQixFQUU1RTFYLEtBQUtnWCxvQkFBc0JoWCxLQUFLaVgsbUJBQ2xDalgsS0FBS2dYLG1CQUFtQnBQLFlBQWM1SCxLQUFLZ1ksWUFDM0NoWSxLQUFLaVgsaUJBQWlCclAsWUFBYzVILEtBQUs2WCxZQUd2QzdYLEtBQUtnWSxhQUFlRCxHQUN0Qi9YLEtBQUt1UixjQUNILElBQUk0RSxZQUFZLGVBQWdCLENBQzlCZ0MsT0FBUSxDQUNOSCxZQUFhaFksS0FBS2dZLFlBQ2xCSSxlQUFnQnBZLEtBQUt3WCxrQkFBa0J4WCxLQUFLZ1ksWUFBYyxPQU05RGhZLEtBQUsrVyxzQkFFTC9XLEtBQUtxWSxlQUFlclksS0FBS3dYLGtCQUFrQixLQUFrQyxJQUEzQnhYLEtBQUs2VyxPQUFPcUIsV0FDaEVsWSxLQUFLa1gsV0FBV3ZZLGFBQWEsV0FBWSxZQUV6Q3FCLEtBQUtrWCxXQUFXak8sZ0JBQWdCLFlBRzlCakosS0FBS3FZLGVBQWVyWSxLQUFLd1gsa0JBQWtCeFgsS0FBS3dYLGtCQUFrQmpZLE9BQVMsSUFDN0VTLEtBQUttWCxXQUFXeFksYUFBYSxXQUFZLFlBRXpDcUIsS0FBS21YLFdBQVdsTyxnQkFBZ0IsWUFFcEMsQ0FFQW9QLGVBQWVuYSxFQUFTb2EsRUFBUyxHQUMvQixNQUFNQyxFQUFtQnZZLEtBQUs2VyxPQUFPWSxZQUFjelgsS0FBSzZXLE9BQU9xQixXQUFhSSxFQUM1RSxPQUFPcGEsRUFBUXlaLFdBQWF6WixFQUFRdVosYUFBZWMsR0FBb0JyYSxFQUFReVosWUFBYzNYLEtBQUs2VyxPQUFPcUIsVUFDM0csQ0FFQWxILGNBQWN4USxHQUNaQSxFQUFNQyxpQkFDTixNQUFNK1gsRUFBT2hZLEVBQU1vQixjQUFjb0MsUUFBUXdVLE1BQVEsRUFDakR4WSxLQUFLeVksb0JBQzBCLFNBQTdCalksRUFBTW9CLGNBQWNtRSxLQUNoQi9GLEtBQUs2VyxPQUFPcUIsV0FBYU0sRUFBT3hZLEtBQUswWCxpQkFDckMxWCxLQUFLNlcsT0FBT3FCLFdBQWFNLEVBQU94WSxLQUFLMFgsaUJBQzNDMVgsS0FBSzZXLE9BQU82QixTQUFTLENBQ25CQyxLQUFNM1ksS0FBS3lZLHFCQUVmLEVBR0Y1VixlQUFlQyxPQUFPLG1CQUFvQjhULEdBeUwxQy9ULGVBQWVDLE9BQU8sc0JBdkx0QixjQUFpQzhULEVBQy9COVcsY0FDRUMsUUFDQUMsS0FBSzRZLHFCQUF1QjVZLEtBQUtJLGNBQWMsbUJBQy9DSixLQUFLK1cscUJBQXNCLEVBRXRCL1csS0FBSzRZLHVCQUVWNVksS0FBSzZZLG9CQUFzQjdZLEtBQUs2VyxPQUFPelcsY0FBYyxxQkFDakRKLEtBQUt3WCxrQkFBa0JqWSxPQUFTLElBQUdTLEtBQUtnWSxZQUFjLEdBRTFEaFksS0FBSzhZLHdCQUEwQjFaLE1BQU1DLEtBQUtXLEtBQUs0WSxxQkFBcUJ0VixpQkFBaUIsMEJBQ3JGdEQsS0FBSzhZLHdCQUF3QjdhLFNBQVM4YSxHQUFTQSxFQUFLaGEsaUJBQWlCLFFBQVNpQixLQUFLZ1osWUFBWTNZLEtBQUtMLFNBQ3BHQSxLQUFLNlcsT0FBTzlYLGlCQUFpQixTQUFVaUIsS0FBS2laLG1CQUFtQjVZLEtBQUtMLE9BQ3BFQSxLQUFLaVoscUJBRURqWixLQUFLSSxjQUFjLDhCQUNyQkosS0FBS2taLHNDQUF1QyxFQUU1Q2xaLEtBQUttWixjQUFnQnJhLE9BQU8yVixXQUFXLHNCQUN2Q3pVLEtBQUt3VSxjQUFnQjFWLE9BQU8yVixXQUFXLG9DQUV2QyxDQUFDelUsS0FBS3dVLGNBQWV4VSxLQUFLbVosZUFBZWxiLFNBQVNtYixJQUNoREEsRUFBV3JhLGlCQUFpQixVQUFVLEtBQ2MsU0FBOUNpQixLQUFLNlcsT0FBT25WLGFBQWEsa0JBQTZCMUIsS0FBS3FaLGFBQWEsR0FDNUUsSUFHSixDQUFDclosS0FBS2tYLFdBQVlsWCxLQUFLbVgsWUFBWWxaLFNBQVM4UyxJQUMxQ0EsRUFBT2hTLGlCQUFpQixTQUFTLEtBQy9CaUIsS0FBS2taLHNDQUF1QyxDQUFJLEdBQy9DLENBQUM3WCxNQUFNLEdBQU0sS0FJOEIsU0FBOUNyQixLQUFLNlcsT0FBT25WLGFBQWEsa0JBQTZCMUIsS0FBS3FaLGNBQ2pFLENBRUFBLGNBQ0VyWixLQUFLc1osY0FBNEMsSUFBNUJ0WixLQUFLNlcsT0FBTzdTLFFBQVF1VixNQUN6Q3ZaLEtBQUtqQixpQkFBaUIsWUFBYWlCLEtBQUt3WixnQkFBZ0JuWixLQUFLTCxPQUM3REEsS0FBS2pCLGlCQUFpQixhQUFjaUIsS0FBS3laLGlCQUFpQnBaLEtBQUtMLE9BQy9EQSxLQUFLakIsaUJBQWlCLFVBQVdpQixLQUFLd1osZ0JBQWdCblosS0FBS0wsT0FDM0RBLEtBQUtqQixpQkFBaUIsV0FBWWlCLEtBQUt5WixpQkFBaUJwWixLQUFLTCxPQUV6REEsS0FBS0ksY0FBYyx5QkFDckJKLEtBQUswWixxQkFBdUIxWixLQUFLSSxjQUFjLHdCQUMvQ0osS0FBSzBaLHFCQUFxQjNhLGlCQUFpQixRQUFTaUIsS0FBSzJaLGVBQWV0WixLQUFLTCxPQUM3RUEsS0FBSzRaLDJCQUE0QixFQUNqQzVaLEtBQUsrSSxRQUVML0ksS0FBS3dVLGNBQWNLLFNBQVc3VSxLQUFLa1osdUNBQXlDbFosS0FBS21aLGNBQWN0RSxRQUFVN1UsS0FBSzZaLFFBQVU3WixLQUFLK0ksTUFFakksQ0FFQWlJLGNBQWN4USxHQUNaVCxNQUFNaVIsY0FBY3hRLEdBQ3BCLE1BQU1zWixFQUFvQyxJQUFyQjlaLEtBQUtnWSxZQUNwQitCLEVBQWMvWixLQUFLZ1ksY0FBZ0JoWSxLQUFLd1gsa0JBQWtCalksUUFFM0R1YSxHQUFpQkMsS0FFbEJELEdBQTZDLGFBQTdCdFosRUFBTW9CLGNBQWNtRSxLQUN0Qy9GLEtBQUt5WSxvQkFDSHpZLEtBQUs2VyxPQUFPcUIsV0FBYWxZLEtBQUs2WSxvQkFBb0JwQixZQUFjelgsS0FBS3dYLGtCQUFrQmpZLE9BQ2hGd2EsR0FBNEMsU0FBN0J2WixFQUFNb0IsY0FBY21FLE9BQzVDL0YsS0FBS3lZLG9CQUFzQixHQUU3QnpZLEtBQUs2VyxPQUFPNkIsU0FBUyxDQUNuQkMsS0FBTTNZLEtBQUt5WSxzQkFFZixDQUVBbEIsU0FDRXhYLE1BQU13WCxTQUNOdlgsS0FBS2dhLHFCQUF1QmhhLEtBQUtzRCxpQkFBaUIseUJBQ2xEdEQsS0FBS2tYLFdBQVdqTyxnQkFBZ0IsWUFFM0JqSixLQUFLZ2EscUJBQXFCemEsU0FFL0JTLEtBQUtnYSxxQkFBcUIvYixTQUFTOGEsSUFDakNBLEVBQUt4YSxVQUFVRSxPQUFPLGdDQUN0QnNhLEVBQUs5UCxnQkFBZ0IsZUFBZSxJQUV0Q2pKLEtBQUtnYSxxQkFBcUJoYSxLQUFLZ1ksWUFBYyxHQUFHelosVUFBVU0sSUFBSSxnQ0FDOURtQixLQUFLZ2EscUJBQXFCaGEsS0FBS2dZLFlBQWMsR0FBR3JaLGFBQWEsZ0JBQWdCLEdBQy9FLENBRUFnYixpQkFDRTNaLEtBQUtpYSxzQkFBc0JqYSxLQUFLNFosMkJBQ2hDNVosS0FBSzRaLDBCQUE0QjVaLEtBQUs2WixRQUFVN1osS0FBSytJLE9BQ3JEL0ksS0FBSzRaLDJCQUE2QjVaLEtBQUs0Wix5QkFDekMsQ0FFQUgsaUJBQWlCalosR0FDZixHQUFJUixLQUFLMFoscUJBQXNCLENBQzdCLE1BQU1RLEVBQ0oxWixFQUFNbEMsU0FBVzBCLEtBQUswWixzQkFBd0IxWixLQUFLMFoscUJBQXFCbGIsU0FBU2dDLEVBQU1sQyxRQUN6RixJQUFLMEIsS0FBSzRaLDJCQUE2Qk0sRUFBeUIsT0FDaEVsYSxLQUFLK0ksTUFDUCxNQUFZL0ksS0FBS3dVLGNBQWNLLFNBQVk3VSxLQUFLa1osdUNBQXdDbFosS0FBS21aLGNBQWN0RSxTQUN6RzdVLEtBQUsrSSxNQUVULENBRUF5USxnQkFBZ0JoWixHQUNWUixLQUFLMFosc0JBRUxsWixFQUFNbEMsU0FBVzBCLEtBQUswWixzQkFBd0IxWixLQUFLMFoscUJBQXFCbGIsU0FBU2dDLEVBQU1sQyxVQUMxRDBCLEtBQUs0WiwwQkFDbEM1WixLQUFLK0ksT0FDSS9JLEtBQUs0WiwyQkFDZDVaLEtBQUs2WixRQUVFN1osS0FBS0ksY0FBYyw0QkFBNEI1QixTQUFTZ0MsRUFBTWxDLFNBQ3ZFMEIsS0FBSzZaLE9BRVQsQ0FFQTlRLE9BQ0UvSSxLQUFLNlcsT0FBT2xZLGFBQWEsWUFBYSxPQUN0Q3diLGNBQWNuYSxLQUFLb2EsVUFDbkJwYSxLQUFLb2EsU0FBV0MsWUFBWXJhLEtBQUtzYSxpQkFBaUJqYSxLQUFLTCxNQUFPQSxLQUFLc1osY0FDckUsQ0FFQU8sUUFDRTdaLEtBQUs2VyxPQUFPbFksYUFBYSxZQUFhLFVBQ3RDd2IsY0FBY25hLEtBQUtvYSxTQUNyQixDQUVBSCxzQkFBc0JNLEdBQ2hCQSxHQUNGdmEsS0FBSzBaLHFCQUFxQm5iLFVBQVVNLElBQUksK0JBQ3hDbUIsS0FBSzBaLHFCQUFxQi9hLGFBQWEsYUFBY0csT0FBTzBiLHFCQUFxQkMsaUJBRWpGemEsS0FBSzBaLHFCQUFxQm5iLFVBQVVFLE9BQU8sK0JBQzNDdUIsS0FBSzBaLHFCQUFxQi9hLGFBQWEsYUFBY0csT0FBTzBiLHFCQUFxQkUsZ0JBRXJGLENBRUFKLG1CQUNFLE1BQU03QixFQUNKelksS0FBS2dZLGNBQWdCaFksS0FBSzhXLFlBQVl2WCxPQUNsQyxFQUNBUyxLQUFLNlcsT0FBT3FCLFdBQWFsWSxLQUFLNlcsT0FBT3pXLGNBQWMscUJBQXFCcVgsWUFDOUV6WCxLQUFLNlcsT0FBTzZCLFNBQVMsQ0FDbkJDLEtBQU1GLEdBRVYsQ0FFQVEscUJBQ0VqWixLQUFLd1gsa0JBQWtCdlosU0FBUSxDQUFDMGMsRUFBTXhjLEtBQ3BDLE1BQU15YyxFQUFlRCxFQUFLclgsaUJBQWlCLEtBQ3ZDbkYsSUFBVTZCLEtBQUtnWSxZQUFjLEdBQzNCNEMsRUFBYXJiLFFBQ2ZxYixFQUFhM2MsU0FBUzhTLElBQ3BCQSxFQUFPOUgsZ0JBQWdCLFdBQVcsSUFFdEMwUixFQUFLaGMsYUFBYSxjQUFlLFNBQ2pDZ2MsRUFBSzFSLGdCQUFnQixjQUVqQjJSLEVBQWFyYixRQUNmcWIsRUFBYTNjLFNBQVM4UyxJQUNwQkEsRUFBT3BTLGFBQWEsV0FBWSxLQUFLLElBRXpDZ2MsRUFBS2hjLGFBQWEsY0FBZSxRQUNqQ2djLEVBQUtoYyxhQUFhLFdBQVksTUFDaEMsR0FFSixDQUVBcWEsWUFBWXhZLEdBQ1ZBLEVBQU1DLGlCQUNOLE1BQU1nWSxFQUNKelksS0FBSzZXLE9BQU9xQixXQUNabFksS0FBSzZZLG9CQUFvQnBCLGFBQ3RCelgsS0FBSzhZLHdCQUF3QjNLLFFBQVEzTixFQUFNb0IsZUFBaUIsRUFBSTVCLEtBQUtnWSxhQUMxRWhZLEtBQUs2VyxPQUFPNkIsU0FBUyxDQUNuQkMsS0FBTUYsR0FFVixJQUtGLE1BQU1vQyxVQUF1QmhiLFlBQzNCQyxjQUNFQyxRQUNBQyxLQUFLakIsaUJBQWlCLFNBQVVpQixLQUFLOGEsZ0JBQ3ZDLENBRUFBLGtCQUNFOWEsS0FBSythLGdCQUNML2EsS0FBS2diLGlCQUNMaGIsS0FBS2liLGlCQUFnQixFQUFNLElBQUksR0FDL0JqYixLQUFLa2IsMkJBQ0xsYixLQUFLbWIscUJBQ0xuYixLQUFLb2Isd0JBRUFwYixLQUFLcWIsZ0JBSVJyYixLQUFLc2IsY0FDTHRiLEtBQUt1YixZQUNMdmIsS0FBS3diLHFCQUNMeGIsS0FBS3liLG9CQUNMemIsS0FBSzBiLG1CQVBMMWIsS0FBS2liLGlCQUFnQixFQUFNLElBQUksR0FDL0JqYixLQUFLMmIsaUJBUVQsQ0FFQVosZ0JBQ0UvYSxLQUFLK1IsUUFBVTNTLE1BQU1DLEtBQUtXLEtBQUtzRCxpQkFBaUIsV0FBWXNZLEdBQVdBLEVBQU81VyxPQUNoRixDQUVBZ1csaUJBQ0VoYixLQUFLcWIsZUFBaUJyYixLQUFLNmIsaUJBQWlCblEsTUFBTW9RLElBQ3hDQSxFQUFRL0osUUFDYjVMLEtBQUksQ0FBQzZMLEVBQVE3VCxJQUNMNkIsS0FBSytSLFFBQVE1VCxLQUFXNlQsSUFFaEMvQixVQUFTLElBRWhCLENBRUFxTCxjQUNFLElBQUt0YixLQUFLcWIsZUFBZ0IsT0FDMUIsSUFBS3JiLEtBQUtxYixlQUFlVSxlQUFnQixPQUVsQjljLFNBQVNxRSxpQkFBa0Isc0JBQXFCdEQsS0FBS2dFLFFBQVE1QixhQUNyRW5FLFNBQVMrZCxHQUN0QkEsRUFBYUMsZUFBZ0IsR0FBRWpjLEtBQUtnRSxRQUFRNUIsV0FBV3BDLEtBQUtxYixlQUFlVSxlQUFlcGEsTUFBTSxLQUdsRyxNQUFNdWEsRUFBZWpkLFNBQVNtQixjQUFlLGlCQUFnQkosS0FBS2dFLFFBQVE1Qix5Q0FDMUUsSUFBSzhaLEVBQWMsT0FDbkIsTUFBTUMsRUFBZ0JELEVBQWE5YixjQUFlLG1CQUFrQkosS0FBS3FiLGVBQWVVLGVBQWVwYSxRQUN2R3VhLEVBQWFFLFFBQVFELEVBQ3ZCLENBRUFaLFlBQ092YixLQUFLcWIsZ0JBQTZDLFVBQTNCcmIsS0FBS2dFLFFBQVFxWSxXQUN6Q3ZkLE9BQU9rTyxRQUFRc1AsYUFBYSxDQUFDLEVBQUcsR0FBSyxHQUFFdGMsS0FBS2dFLFFBQVFpSCxlQUFlakwsS0FBS3FiLGVBQWUxWixLQUN6RixDQUVBK1osaUJBQ0UsTUFBTWEsRUFBY3RkLFNBQVNpQyxlQUFnQixTQUFRbEIsS0FBS2dFLFFBQVE1QixXQUM3RG1hLEdBQWdCQSxFQUFZRixXQUNqQ0UsRUFBWUYsVUFBVyxHQUFFdmQsT0FBTzBkLFVBQVV4YyxLQUFLZ0UsUUFBUWlILGVBQWVqTCxLQUFLcWIsZUFBZTFaLEtBQzVGLENBRUE2WixxQkFDdUJ2YyxTQUFTcUUsaUJBQzNCLGlCQUFnQnRELEtBQUtnRSxRQUFRNUIsc0NBQXNDcEMsS0FBS2dFLFFBQVE1QixXQUV0RW5FLFNBQVN3ZSxJQUNwQixNQUFNM04sRUFBUTJOLEVBQVlyYyxjQUFjLG9CQUN4QzBPLEVBQU05SixNQUFRaEYsS0FBS3FiLGVBQWUxWixHQUNsQ21OLEVBQU15QyxjQUFjLElBQUlYLE1BQU0sU0FBVSxDQUFFQyxTQUFTLElBQVEsR0FFL0QsQ0FFQXVLLHdCQUNFLE1BQU1zQixFQUE0QjFjLEtBQUsyYyxZQUFZeFEsUUFDaEQyUCxHQUFZOWIsS0FBS0ksY0FBYyxZQUFZNEUsUUFBVThXLEVBQVFjLFVBRTFEQyxFQUFnQixJQUFJN2MsS0FBS3NELGlCQUFpQix5QkFDaER1WixFQUFjNWUsU0FBUSxDQUFDK1QsRUFBUTdULEtBQzdCLEdBQWMsSUFBVkEsRUFBYSxPQUNqQixNQUFNMmUsRUFBZSxJQUFJOUssRUFBTzFPLGlCQUFpQixnQ0FDM0N5WixFQUF5QkYsRUFBYzFlLEVBQVEsR0FBR2lDLGNBQWMsWUFBWTRFLE1BQzVFZ1ksRUFBNkJOLEVBQ2hDdlEsUUFBUTJQLEdBQVlBLEVBQVFtQixXQUFhbkIsRUFBUyxTQUFRM2QsT0FBYTRlLElBQ3ZFNVcsS0FBSytXLEdBQWtCQSxFQUFlLFNBQVEvZSxFQUFRLE9BQ3pENkIsS0FBS21kLHFCQUFxQkwsRUFBY0UsRUFBMkIsR0FFdkUsQ0FFQUcscUJBQXFCQyxFQUFlQyxHQUNsQ0QsRUFBY25mLFNBQVM2USxJQUNqQnVPLEVBQXVCcE4sU0FBU25CLEVBQU1wTixhQUFhLFVBQ3JEb04sRUFBTXdPLFVBQVl4TyxFQUFNcE4sYUFBYSxTQUVyQ29OLEVBQU13TyxVQUFZeGUsT0FBT3llLGVBQWVDLHdCQUF3QmhXLFFBQVEsVUFBV3NILEVBQU1wTixhQUFhLFNBQ3hHLEdBRUosQ0FFQXdaLDJCQUNFLE1BQU11QyxFQUFxQnhlLFNBQVNtQixjQUFjLHVCQUM3Q3FkLElBRUR6ZCxLQUFLcWIsZ0JBQWtCcmIsS0FBS3FiLGVBQWU0QixVQUM3Q1EsRUFBbUJDLGtCQUFrQjFkLEtBQUtxYixlQUFlMVosS0FFekQ4YixFQUFtQnhVLGdCQUFnQixhQUNuQ3dVLEVBQW1CbmIsVUFBWSxJQUVuQyxDQUVBNlkscUJBQ0UsTUFBTS9ZLEVBQVVwQyxLQUFLNkIsUUFBUSxXQUM3QixJQUFLTyxFQUFTLE9BRWQsTUFBTXFhLEVBQWNyYSxFQUFRaEMsY0FBYyxnQkFDdENxYyxHQUFhQSxFQUFZa0Isb0JBQy9CLENBRUFsQyxvQkFDRSxNQUFNbUMsRUFBcUI1ZCxLQUFLcWIsZUFBZTFaLEdBQ3pDa2MsRUFBWTdkLEtBQUtnRSxRQUFROFosZ0JBQWtCOWQsS0FBS2dFLFFBQVE4WixnQkFBa0I5ZCxLQUFLZ0UsUUFBUTVCLFFBRTdGNkMsTUFDRyxHQUFFakYsS0FBS2dFLFFBQVFpSCxlQUFlMlMsZ0JBQzdCNWQsS0FBS2dFLFFBQVE4WixnQkFBa0I5ZCxLQUFLZ0UsUUFBUThaLGdCQUFrQjlkLEtBQUtnRSxRQUFRNUIsV0FHNUVnRCxNQUFNQyxHQUFhQSxFQUFTQyxTQUM1QkYsTUFBTUcsSUFFTCxHQUFJdkYsS0FBS3FiLGVBQWUxWixLQUFPaWMsRUFBb0IsT0FFbkQsTUFBTW5iLEdBQU8sSUFBSUMsV0FBWUMsZ0JBQWdCNEMsRUFBYyxhQUNyRHdZLEVBQWM5ZSxTQUFTaUMsZUFBZ0IsU0FBUWxCLEtBQUtnRSxRQUFRNUIsV0FDNUR5QyxFQUFTcEMsRUFBS3ZCLGVBQ2pCLFNBQVFsQixLQUFLZ0UsUUFBUThaLGdCQUFrQjlkLEtBQUtnRSxRQUFROFosZ0JBQWtCOWQsS0FBS2dFLFFBQVE1QixXQUVoRjRiLEVBQVl2YixFQUFLdkIsZUFDcEIsT0FBTWxCLEtBQUtnRSxRQUFROFosZ0JBQWtCOWQsS0FBS2dFLFFBQVE4WixnQkFBa0I5ZCxLQUFLZ0UsUUFBUTVCLFdBRTlFNmIsRUFBaUJoZixTQUFTaUMsZUFBZ0IsT0FBTWxCLEtBQUtnRSxRQUFRNUIsV0FDN0Q4YixFQUFrQnpiLEVBQUt2QixlQUMxQixhQUFZbEIsS0FBS2dFLFFBQVE4WixnQkFBa0I5ZCxLQUFLZ0UsUUFBUThaLGdCQUFrQjlkLEtBQUtnRSxRQUFRNUIsV0FFcEYrYixFQUF1QmxmLFNBQVNpQyxlQUFnQixhQUFZbEIsS0FBS2dFLFFBQVE1QixXQUUzRXlDLEdBQVVrWixJQUFhQSxFQUFZemIsVUFBWXVDLEVBQU92QyxXQUN0RDRiLEdBQW1CQyxJQUFzQkEsRUFBcUI3YixVQUFZNGIsRUFBZ0I1YixXQUMxRjBiLEdBQWFDLElBQ2ZBLEVBQWUzYixVQUFZMGIsRUFBVTFiLFVBQ3JDMmIsRUFBZTFmLFVBQVV3SSxPQUFPLG9CQUFxQmlYLEVBQVV6ZixVQUFVQyxTQUFTLHVCQUdwRixNQUFNNGYsRUFBUW5mLFNBQVNpQyxlQUFnQixTQUFRbEIsS0FBS2dFLFFBQVE1QixXQUV4RGdjLEdBQU9BLEVBQU03ZixVQUFVRSxPQUFPLHFCQUU5QjBmLEdBQ0ZBLEVBQXFCNWYsVUFBVXdJLE9BQU8sb0JBQW1ELEtBQTlCbVgsRUFBZ0JaLFdBRTdFLE1BQU1lLEVBQW1CNWIsRUFBS3ZCLGVBQWdCLHVCQUFzQjJjLEtBQ3BFN2QsS0FBS2liLGlCQUNIb0QsR0FBbUJBLEVBQWlCM2YsYUFBYSxZQUNqREksT0FBT3llLGVBQWVlLFNBR3hCNVcsUUFBUS9DLGVBQWU0WixjQUFlLENBQ3BDQyxLQUFNLENBQ0pYLFlBQ0FwYixPQUNBcVosUUFBUzliLEtBQUtxYixpQkFFaEIsR0FFUixDQUVBSixnQkFBZ0JyUSxHQUFVLEVBQU10RixFQUFNbVosR0FBYyxHQUNsRCxNQUFNaEMsRUFBY3hkLFNBQVNpQyxlQUFnQixnQkFBZWxCLEtBQUtnRSxRQUFRNUIsV0FDekUsSUFBS3FhLEVBQWEsT0FDbEIsTUFBTWlDLEVBQVlqQyxFQUFZcmMsY0FBYyxnQkFDdEN1ZSxFQUFnQmxDLEVBQVlyYyxjQUFjLHVCQUMzQ3NlLElBRUQ5VCxHQUNGOFQsRUFBVS9mLGFBQWEsV0FBWSxZQUMvQjJHLElBQU1xWixFQUFjL1csWUFBY3RDLEtBRXRDb1osRUFBVXpWLGdCQUFnQixZQUMxQjBWLEVBQWMvVyxZQUFjOUksT0FBT3llLGVBQWVxQixXQUl0RCxDQUVBakQsaUJBQ0UsTUFBTTVLLEVBQVM5UixTQUFTaUMsZUFBZ0IsZ0JBQWVsQixLQUFLZ0UsUUFBUTVCLFdBQzlEc2MsRUFBWTNOLEVBQU8zUSxjQUFjLGdCQUNqQ3VlLEVBQWdCNU4sRUFBTzNRLGNBQWMsdUJBQ3JDZ2UsRUFBUW5mLFNBQVNpQyxlQUFnQixTQUFRbEIsS0FBS2dFLFFBQVE1QixXQUN0RHljLEVBQVk1ZixTQUFTaUMsZUFBZ0IsYUFBWWxCLEtBQUtnRSxRQUFRNUIsV0FDOUQwYyxFQUFNN2YsU0FBU2lDLGVBQWdCLE9BQU1sQixLQUFLZ0UsUUFBUTVCLFdBRW5Ec2MsSUFDTEMsRUFBYy9XLFlBQWM5SSxPQUFPeWUsZUFBZXdCLFlBQzlDWCxHQUFPQSxFQUFNN2YsVUFBVU0sSUFBSSxxQkFDM0JnZ0IsR0FBV0EsRUFBVXRnQixVQUFVTSxJQUFJLHFCQUNuQ2lnQixHQUFLQSxFQUFJdmdCLFVBQVVNLElBQUkscUJBQzdCLENBRUFnZCxpQkFFRSxPQURBN2IsS0FBSzJjLFlBQWMzYyxLQUFLMmMsYUFBZTFXLEtBQUtTLE1BQU0xRyxLQUFLSSxjQUFjLDZCQUE2QndILGFBQzNGNUgsS0FBSzJjLFdBQ2QsRUFHRjlaLGVBQWVDLE9BQU8sa0JBQW1CK1gsR0F5QnpDaFksZUFBZUMsT0FBTyxpQkF2QnRCLGNBQTRCK1gsRUFDMUIvYSxjQUNFQyxPQUNGLENBRUFvZCxxQkFBcUJDLEVBQWVDLEdBQ2xDRCxFQUFjbmYsU0FBUzZRLElBQ2pCdU8sRUFBdUJwTixTQUFTbkIsRUFBTXBOLGFBQWEsVUFDckRvTixFQUFNdlEsVUFBVUUsT0FBTyxZQUV2QnFRLEVBQU12USxVQUFVTSxJQUFJLFdBQ3RCLEdBRUosQ0FFQWtjLGdCQUNFLE1BQU1pRSxFQUFZNWYsTUFBTUMsS0FBS1csS0FBS3NELGlCQUFpQixhQUNuRHRELEtBQUsrUixRQUFVaU4sRUFBVTdZLEtBQUs4WSxHQUNyQjdmLE1BQU1DLEtBQUs0ZixFQUFTM2IsaUJBQWlCLFVBQVVvSSxNQUFNd1QsR0FBVUEsRUFBTUMsVUFBU25hLE9BRXpGLElBS0YsTUFBTW9hLFVBQStCdmYsWUFDbkNDLGNBQ0VDLE9BQ0YsQ0FFQTBFLG9CQTZCRSxJQUFJakYsc0JBNUJ1QjZmLENBQUMvSCxFQUFTdFosS0FDOUJzWixFQUFRLEdBQUdsWixpQkFDaEJKLEVBQVNZLFVBQVVvQixNQUVuQmlGLE1BQU1qRixLQUFLZ0UsUUFBUWlILEtBQ2hCN0YsTUFBTUMsR0FBYUEsRUFBU0MsU0FDNUJGLE1BQU1FLElBQ0wsTUFBTTdDLEVBQU94RCxTQUFTeVQsY0FBYyxPQUNwQ2pRLEVBQUtILFVBQVlnRCxFQUNqQixNQUFNZ2EsRUFBa0I3YyxFQUFLckMsY0FBYywyQkFFdkNrZixHQUFtQkEsRUFBZ0JoZCxVQUFVaWQsT0FBT2hnQixTQUN0RFMsS0FBS3NDLFVBQVlnZCxFQUFnQmhkLFlBRzlCdEMsS0FBS0ksY0FBYyx3QkFBMEJKLEtBQUt6QixVQUFVQyxTQUFTLDJCQUN4RXdCLEtBQUt2QixTQUdIZ0UsRUFBS3JDLGNBQWMsZ0JBQ3JCSixLQUFLekIsVUFBVU0sSUFBSSxrQ0FDckIsSUFFRDRHLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUUsSUFDaEIsR0FHc0NyRixLQUFLTCxNQUFPLENBQUVQLFdBQVksc0JBQXVCQyxRQUFRTSxLQUN2RyxFQUdGNkMsZUFBZUMsT0FBTywwQkFBMkJzYyxFLEtDaHBDNUN2YyxlQUFldUYsSUFBSSxzQkFDdEJ2RixlQUFlQyxPQUNiLG9CQUNBLGNBQStCakQsWUFDN0JDLGNBQ0VDLFFBQ0FDLEtBQUtqQyxTQUFXLENBQ2QrUSxNQUFPOU8sS0FBS0ksY0FBYyx5REFDMUIyUSxPQUFRL1EsS0FBS0ksY0FBYyxVQUMzQm9mLE1BQU94ZixLQUFLSSxjQUFjLDhCQUU1QkosS0FBS2pDLFNBQVNnVCxPQUFPaFMsaUJBQWlCLFFBQVNpQixLQUFLeWYsYUFBYXBmLEtBQUtMLE9BQ3RFQSxLQUFLakMsU0FBU2dULE9BQU9oUyxpQkFBaUIsV0FBWWlCLEtBQUswZixjQUFjcmYsS0FBS0wsT0FDMUVBLEtBQUtqQixpQkFBaUIsUUFBU2lCLEtBQUsyZixpQkFBaUJ0ZixLQUFLTCxPQUUxREEsS0FBS3NELGlCQUFpQixLQUFLckYsU0FBUzBjLEdBQVNBLEVBQUs1YixpQkFBaUIsUUFBU2lCLEtBQUs0ZixZQUFZdmYsS0FBS0wsUUFDcEcsQ0FFQTZmLFlBQ0U3ZixLQUFLakMsU0FBU2dULE9BQU9wUyxhQUFhLGdCQUFpQixTQUNuRHFCLEtBQUtqQyxTQUFTeWhCLE1BQU03Z0IsYUFBYSxVQUFVLEVBQzdDLENBRUFnaEIsaUJBQWlCbmYsR0FDa0IsV0FBN0JBLEVBQU1OLEtBQUtTLGVBRTBDLFNBQXREWCxLQUFLakMsU0FBU2dULE9BQU9yUCxhQUFhLG1CQUNyQzFCLEtBQUs2ZixZQUNMcmYsRUFBTXNmLGtCQUNOOWYsS0FBS2pDLFNBQVNnVCxPQUFPdk4sUUFDdkIsQ0FFQW9jLFlBQVlwZixHQUNWQSxFQUFNQyxpQkFDTixNQUFNMk0sRUFBT3BOLEtBQUtJLGNBQWMsUUFDaENKLEtBQUtqQyxTQUFTK1EsTUFBTTlKLE1BQVF4RSxFQUFNb0IsY0FBY29DLFFBQVFnQixNQUNwRG9JLEdBQU1BLEVBQUt5RixRQUNqQixDQUVBNE0sZUFDRXpmLEtBQUtqQyxTQUFTZ1QsT0FBT3ZOLFFBQ3JCeEQsS0FBS2pDLFNBQVN5aEIsTUFBTU8sZ0JBQWdCLFVBQ3BDL2YsS0FBS2pDLFNBQVNnVCxPQUFPcFMsYUFDbkIsaUJBQ3dELFVBQXZEcUIsS0FBS2pDLFNBQVNnVCxPQUFPclAsYUFBYSxrQkFBOEI4TCxXQUVyRSxDQUVBa1MsY0FBY2xmLEdBQ1osTUFBTXdmLEVBQ0poZ0IsS0FBS2pDLFNBQVN5aEIsTUFBTWhoQixTQUFTZ0MsRUFBTXlmLGdCQUFrQmpnQixLQUFLakMsU0FBU2dULE9BQU92UyxTQUFTZ0MsRUFBTXlmLGVBQ3RGemYsRUFBTXlmLGVBQWtCRCxHQUMzQmhnQixLQUFLNmYsV0FFVCxJLE1DckROLFNBQVNLLEVBQWNDLEdBQ3JCLE1BQU1DLEVBQWVuaEIsU0FBU3lULGNBQWMsT0FjNUMsT0FiQTBOLEVBQWF6aEIsYUFBYSxNQUFRLEdBQUV3aEIsRUFBTUUsT0FDMUMxWSxRQUFVMUksU0FBU3lULGNBQWMsT0FlbkMsU0FBd0I5RyxFQUFXdVUsR0FDakN2VSxFQUFVak4sYUFBYSxRQUFTLDJCQUNoQ2lOLEVBQVVqTixhQUFhLGNBQWUsUUFDdENpTixFQUFVeEMsTUFBTWtYLGdCQUFtQixRQUFPSCxFQUFNRSxRQUNoRHpVLEVBQVV4QyxNQUFNbVgsZ0JBQWtCLDRCQUNwQyxDQW5CRUMsQ0FBZTdZLFFBQVN5WSxHQUV4QkQsRUFBTS9XLE1BQU1xWCxRQUFVLE1BQ3RCQyxFQUFxQlAsR0FFckJDLEVBQWFPLE9BQVMsS0FDcEJELEVBQXFCUCxHQUNyQkEsRUFBTXJlLGNBQWM4ZSxhQUFhalosUUFBU3dZLEdBQzFDQSxFQUFNL1csTUFBTXFYLFFBQVUsTUFBTSxFQUd2QjlZLE9BQ1QsQ0FTQSxTQUFTK1ksRUFBcUJQLEdBQ0xBLEVBQU1yZSxjQUFjQSxjQUFjMUIsY0FBZSw2QkFDekQ3QixVQUFVd0ksT0FBTyxTQUNsQyxDQUVBLFNBQVM4WixFQUFjVixFQUFPM2YsRUFBT3NnQixHQUVuQyxNQUFNQyxFQUFRWixFQUFNYSxPQUFTYixFQUFNYyxNQUM3QnJWLEVBQVlwTCxFQUFNbEMsT0FBT21MLHdCQUN6QnlYLEVBQVkxZ0IsRUFBTTJnQixRQUFVdlYsRUFBVStNLEtBQ3RDeUksRUFBWTVnQixFQUFNNmdCLFFBQVV6VixFQUFVMFYsSUFDdENDLEVBQWNMLEdBQWFmLEVBQU0xSSxZQUFjLEtBQW5DLElBQ1orSixFQUFjSixHQUFjakIsRUFBTTFJLFlBQWNzSixFQUFTLEtBQTdDLElBR2xCcFosUUFBUXlCLE1BQU1xWSxtQkFBc0IsR0FBRUYsS0FBWUMsSUFDbEQ3WixRQUFReUIsTUFBTXNZLGVBQW9CdkIsRUFBTWMsTUFBUUgsRUFBaEIsSUFDbEMsQ0FVaUI3aEIsU0FBU3FFLGlCQUFpQix3QkFDbENyRixTQUFTa2lCLElBQ2RBLEVBQU13QixRQUFXbmhCLEtBVnJCLFNBQWlCMmYsRUFBT1csR0FDdEIsTUFBTW5aLEVBQVV1WSxFQUFjQyxHQUM5QnhZLEVBQVFnYSxRQUFVLElBQU1oYSxFQUFRbEosU0FDaENrSixFQUFRaWEsWUFBZXBoQixHQUFVcWdCLEVBQWNWLEVBQU8zZixFQVFuQ3NnQixHQVBuQm5aLEVBQVFrYSxhQUFlLElBQU1sYSxFQUFRbEosUUFDdkMsQ0FNTXFqQixDQUFRM0IsR0FDUlUsRUFBY1YsRUFBTzNmLEVBS1QsRUFMMEIsQ0FDdkMsRyxXQzFETCxNQUFNdWhCLFVBQW1CQyxXQUN2QmxpQixjQUNFQyxRQUNBQyxLQUFLaWlCLGdCQUFrQmhqQixTQUFTcUUsaUJBQWlCLHdCQUNqRHRELEtBQUtraUIscUJBQ1AsQ0FFQUEsc0JBQ0UsSUFBSUMsRUFBaUIsR0FDckJuaUIsS0FBS2lpQixnQkFBZ0Joa0IsU0FBUzZRLEdBQVVxVCxFQUFlcFUsS0FBS2UsRUFBTTFCLFFBQ2xFcE4sS0FBSzhPLE1BQU0vUCxpQkFBaUIsUUFBU2lCLEtBQUtvaUIsYUFBYS9oQixLQUFLTCxPQUN4RG1pQixFQUFlNWlCLE9BQVMsSUFDNUI0aUIsRUFBZWxrQixTQUFTbVAsR0FBU0EsRUFBS3JPLGlCQUFpQixRQUFTaUIsS0FBS3FpQixZQUFZaGlCLEtBQUtMLFNBQ3RGQSxLQUFLaWlCLGdCQUFnQmhrQixTQUFTNlEsR0FBVUEsRUFBTS9QLGlCQUFpQixRQUFTaUIsS0FBS3NpQixRQUFRamlCLEtBQUtMLFNBQzVGLENBRUFxaUIsWUFBWTdoQixHQUNWVCxNQUFNc2lCLFlBQVk3aEIsR0FDZFQsTUFBTXdpQixtQkFDUnZpQixLQUFLd2lCLFdBQVcsR0FBSXhpQixLQUFLOE8sTUFFN0IsQ0FFQXdULFFBQVE5aEIsR0FDTixNQUFNbEMsRUFBU2tDLEVBQU1sQyxPQUNyQjBCLEtBQUt3aUIsV0FBV2xrQixFQUFPMEcsTUFBTzFHLEVBQ2hDLENBRUE4akIsZUFDd0J0akIsT0FBTzJqQixXQUFhLEtBRXhDemlCLEtBQUswaUIsZUFBZSxDQUFFQyxTQUFVLFVBRXBDLENBRUFILFdBQVd4ZCxFQUFPMUcsR0FDaEIwQixLQUFLaWlCLGdCQUFnQmhrQixTQUFTNlEsSUFDeEJBLElBQVV4USxJQUNad1EsRUFBTTlKLE1BQVFBLEVBQ2hCLEdBRUosRUFHRm5DLGVBQWVDLE9BQU8sY0FBZWlmLEUsS0M1Q2hDbGYsZUFBZXVGLElBQUksa0JBQ3RCdkYsZUFBZUMsT0FDYixnQkFDQSxjQUEyQmpELFlBQ3pCQyxjQUNFQyxRQUNBQyxLQUFLakMsU0FBVyxDQUNkNmtCLFdBQVk1aUIsS0FBS0ksY0FBYyx5QkFDL0J5aUIsT0FBUTdpQixLQUFLSSxjQUFjLHlCQUMzQjBpQixXQUFZOWlCLEtBQUtJLGNBQWMsOEJBRWpDSixLQUFLK2lCLElBQU1qa0IsT0FBTzJWLFdBQVcsc0JBQ3hCelUsS0FBS2pDLFNBQVMra0IsYUFFbkI5aUIsS0FBS2pDLFNBQVM4a0IsT0FBTzlqQixpQkFBaUIsZUFBZ0JxRixTQUFTcEUsS0FBS2dqQixlQUFlM2lCLEtBQUtMLE1BQU8sTUFDL0ZBLEtBQUtqQyxTQUFTK2tCLFdBQVd4ZixpQkFBaUIsaUJBQWlCckYsU0FBU2dsQixJQUNsRUEsRUFDRzdpQixjQUFjLFVBQ2RyQixpQkFBaUIsUUFBU2lCLEtBQUtpYyxlQUFlNWIsS0FBS0wsS0FBTWlqQixFQUFjamYsUUFBUTFGLFFBQVEsR0FBTyxJQUUvRjBCLEtBQUtnRSxRQUFRbVYsY0FBY2xKLFNBQVMsY0FBZ0JqUSxLQUFLK2lCLElBQUlsTyxTQUFTN1UsS0FBS2tqQixxQkFDakYsQ0FFQUYsZUFBZXhpQixHQUNiLE1BQU0yaUIsRUFBWW5qQixLQUFLakMsU0FBUytrQixXQUFXMWlCLGNBQ3hDLGlCQUFnQkksRUFBTTJYLE9BQU9DLGVBQWVwVSxRQUFRb2YsYUFFdkRwakIsS0FBS3FqQixtQkFBbUJGLEVBQzFCLENBRUFsSCxlQUFlbUgsRUFBU2hILEdBQ3RCLE1BQU1rSCxFQUFjdGpCLEtBQUtqQyxTQUFTOGtCLE9BQU96aUIsY0FBZSxtQkFBa0JnakIsT0FNMUUsR0FMQXBqQixLQUFLakMsU0FBUzhrQixPQUFPdmYsaUJBQWlCLG1CQUFtQnJGLFNBQVNDLElBQ2hFQSxFQUFRSyxVQUFVRSxPQUFPLFlBQVksSUFFdkM2a0IsRUFBWS9rQixVQUFVTSxJQUFJLGFBRXRCdWQsRUFBUyxDQUVYLEdBREFrSCxFQUFZeGhCLGNBQWNzYSxRQUFRa0gsR0FDOUJ0akIsS0FBS2pDLFNBQVMra0IsV0FBWSxDQUM1QixNQUFNUyxFQUFrQnZqQixLQUFLakMsU0FBUytrQixXQUFXMWlCLGNBQWUsaUJBQWdCZ2pCLE9BQ2hGRyxFQUFnQnpoQixjQUFjc2EsUUFBUW1ILEVBQ3hDLENBQ0l2akIsS0FBS2pDLFNBQVM4a0IsT0FBT2hNLFFBQVE3VyxLQUFLakMsU0FBUzhrQixPQUFPL0ssWUFDeEQsQ0FhQSxHQVhBOVgsS0FBS3dqQixzQkFDTDFrQixPQUFPa0MsWUFBVyxLQUNaaEIsS0FBS2pDLFNBQVMra0IsWUFDaEJRLEVBQVl4aEIsY0FBYzRXLFNBQVMsQ0FBRUMsS0FBTTJLLEVBQVkzTCxhQUVwRDNYLEtBQUtqQyxTQUFTK2tCLFlBQTZDLFlBQS9COWlCLEtBQUtnRSxRQUFRbVYsZUFDNUNtSyxFQUFZWixlQUFlLENBQUVDLFNBQVUsVUFDekMsSUFFRjNpQixLQUFLeWpCLGdCQUFnQkgsSUFFaEJ0akIsS0FBS2pDLFNBQVMra0IsV0FBWSxPQUMvQixNQUFNUyxFQUFrQnZqQixLQUFLakMsU0FBUytrQixXQUFXMWlCLGNBQWUsaUJBQWdCZ2pCLE9BQ2hGcGpCLEtBQUtxakIsbUJBQW1CRSxHQUN4QnZqQixLQUFLMGpCLG1CQUFtQkosRUFBYUMsRUFBZ0J2ZixRQUFRMmYsY0FDL0QsQ0FFQU4sbUJBQW1CRixHQUNabmpCLEtBQUtqQyxTQUFTK2tCLFlBQWVLLElBRWxDbmpCLEtBQUtqQyxTQUFTK2tCLFdBQ1h4ZixpQkFBaUIsVUFDakJyRixTQUFTQyxHQUFZQSxFQUFRK0ssZ0JBQWdCLGtCQUNoRGthLEVBQVUvaUIsY0FBYyxVQUFVekIsYUFBYSxnQkFBZ0IsR0FDM0RxQixLQUFLakMsU0FBUytrQixXQUFXekssZUFBZThLLEVBQVcsS0FFdkRuakIsS0FBS2pDLFNBQVMra0IsV0FBV2pNLE9BQU82QixTQUFTLENBQUVDLEtBQU13SyxFQUFVeEwsYUFDN0QsQ0FFQStMLG1CQUFtQkUsRUFBWUMsR0FDN0IsTUFBTTFELEVBQVF5RCxFQUFXeGpCLGNBQWMscUNBQ2xDK2YsSUFDTEEsRUFBTVEsT0FBUyxLQUNiM2dCLEtBQUtqQyxTQUFTNmtCLFdBQVdqa0IsYUFBYSxlQUFlLEdBQ3JEcUIsS0FBS2pDLFNBQVM2a0IsV0FBV3RnQixVQUFZeEQsT0FBTzBiLHFCQUFxQnNKLGVBQWV0YyxRQUFRLFVBQVdxYyxHQUNuRzdpQixZQUFXLEtBQ1RoQixLQUFLakMsU0FBUzZrQixXQUFXamtCLGFBQWEsZUFBZSxFQUFLLEdBQ3pELElBQUssRUFFVndoQixFQUFNRSxJQUFNRixFQUFNRSxJQUNwQixDQUVBb0QsZ0JBQWdCRyxHQUNkOWtCLE9BQU9vWCxnQkFDUCxNQUFNNk4sRUFBZ0JILEVBQVd4akIsY0FBYyxtQkFDM0MyakIsR0FBZUEsRUFBYzlOLGFBQVksRUFDL0MsQ0FFQXVOLHNCQUNFeGpCLEtBQUtna0IsYUFBZWhrQixLQUFLZ2tCLGNBQWdCL2tCLFNBQVNtQixjQUFjLGlCQUMzREosS0FBS2drQixjQUNWaGtCLEtBQUtna0IsYUFBYXpTLGNBQWMsSUFBSVgsTUFBTSx1QkFDNUMsQ0FFQXNTLHFCQUNPbGpCLEtBQUtqQyxTQUFTOGtCLE9BQU9oTSxTQUMxQjdXLEtBQUtqQyxTQUFTOGtCLE9BQU9oTSxPQUFPbFksYUFBYSxPQUFRLGdCQUNqRHFCLEtBQUtqQyxTQUFTOGtCLE9BQU8vTCxZQUFZN1ksU0FBU2dtQixHQUFVQSxFQUFNdGxCLGFBQWEsT0FBUSxrQkFDakYsSSxNQ3hHTixNQUFNdWxCLFVBQXNCdmEsYUFDMUI3SixjQUNFQyxRQUVJQyxLQUFLSSxjQUFjLCtCQUErQkosS0FBS1UsS0FBSyxDQUFFcEMsT0FBUTBCLEtBQUtJLGNBQWMsWUFDL0YsRUFHRnlDLGVBQWVDLE9BQU8saUJBQWtCb2hCLEUsS0NSbkNyaEIsZUFBZXVGLElBQUksd0JBQ3RCdkYsZUFBZUMsT0FDYixzQkFDQSxjQUFpQ2pELFlBQy9CQyxjQUNFQyxRQUVLQyxLQUFLdEIsYUFBYSxlQUV2QnNCLEtBQUtta0IsVUFBWW5rQixLQUFLSSxjQUFjLFlBQVlxSSxRQUFRK04sa0JBQWtCQyxXQUFVLEdBQ3BGelcsS0FBS29rQixtQkFBcUJwa0IsS0FBS29rQixtQkFBbUIvakIsS0FBS0wsTUFDdkRBLEtBQUswZCxrQkFBa0IxZCxLQUFLZ0UsUUFBUXFnQixXQUN0QyxDQUVBM0csa0JBQWtCMkcsR0FDaEIsSUFBSUMsRUFBVXRrQixLQUFLZ0UsUUFBUXNnQixRQUN0QkEsRUFBUUMsU0FBUyxPQUNwQkQsR0FBb0IsS0FJdEJyZixNQUYyQixHQUFFcWYsYUFBbUJELHFDQUc3Q2pmLE1BQU1DLEdBQWFBLEVBQVNDLFNBQzVCRixNQUFNRSxJQUNMLE1BQU1rZixHQUFtQixJQUFJOWhCLFdBQzFCQyxnQkFBZ0IyQyxFQUFNLGFBQ3RCbEYsY0FBYyxvQkFDakJKLEtBQUt5a0IsY0FBY0QsRUFBaUIsSUFFckMvZSxPQUFPQyxJQUNOLE1BQU1xTCxFQUFTL1EsS0FBS0ksY0FBYyxVQUM5QjJRLEdBQVFBLEVBQU90TixvQkFBb0IsUUFBU3pELEtBQUtva0Isb0JBQ3JEcGtCLEtBQUswa0IsYUFBYSxHQUV4QixDQUVBTixtQkFBbUJua0IsR0FDakJELEtBQUswZCxrQkFBa0IxZCxLQUFLZ0UsUUFBUXFnQixVQUN0QyxDQUVBSyxjQUNFMWtCLEtBQUtzQyxVQUFZLEdBQ2pCdEMsS0FBSzRTLFlBQVk1UyxLQUFLbWtCLFdBRXRCbmtCLEtBQUtJLGNBQWMsVUFBVXJCLGlCQUFpQixRQUFTaUIsS0FBS29rQixtQkFDOUQsQ0FFQUssY0FBY0QsR0FDWixNQUFNRyxFQUFTMWxCLFNBQVNtQixjQUFjLDhCQUV0QyxHQURJdWtCLEdBQVFBLEVBQU9sbUIsVUFDZCtsQixFQUFpQnBrQixjQUFjLCtCQUdsQyxPQUZBSixLQUFLc0MsVUFBWSxRQUNqQnRDLEtBQUtpSixnQkFBZ0IsYUFJdkJqSixLQUFLc0MsVUFBWWtpQixFQUFpQnBrQixjQUFjLCtCQUErQjJNLFVBQy9FL00sS0FBS3JCLGFBQWEsWUFBYSxJQUUvQk0sU0FBU3FDLEtBQUtzUixZQUFZNFIsRUFBaUJwa0IsY0FBYywrQkFFekQsTUFBTTJRLEVBQVMvUSxLQUFLSSxjQUFjLFVBQzlCMlEsR0FDRkEsRUFBT2hTLGlCQUFpQixTQUFVa0IsSUFDaENoQixTQUFTbUIsY0FBYyw4QkFBOEJ5VixLQUFLNVYsRUFBSTNCLE9BQU8sR0FFM0UsSUFLRHVFLGVBQWV1RixJQUFJLCtCQUN0QnZGLGVBQWVDLE9BQ2IsNkJBQ0EsY0FBdUNqRCxZQUNyQ0MsY0FDRUMsUUFFQUMsS0FBS29ELFlBQWNwRCxLQUFLcUQsZ0JBQWdCaEQsS0FBS0wsTUFFN0NBLEtBQUtJLGNBQWMsVUFBVXJCLGlCQUFpQixTQUFTLEtBQ3JEaUIsS0FBSzBWLE1BQU0sSUFHYjFWLEtBQUtqQixpQkFBaUIsU0FBVXlCLElBQ0csV0FBN0JBLEVBQU1OLEtBQUtTLGVBQTRCWCxLQUFLMFYsTUFBTSxHQUUxRCxDQUVBclMsZ0JBQWdCcEQsR0FDZCxNQUFNM0IsRUFBUzJCLEVBQUkzQixPQUVqQkEsR0FBVTBCLE1BQ1QxQixFQUFPdUQsUUFBUSwrQkFDSCxnQ0FBYnZELEVBQU9xRCxJQUVQM0IsS0FBSzBWLE1BRVQsQ0FFQUEsT0FDRTFWLEtBQUtpSixnQkFBZ0IsUUFDckJoSyxTQUFTcUMsS0FBS21DLG9CQUFvQixRQUFTekQsS0FBS29ELGFBQ2hEbkUsU0FBU3FDLEtBQUsvQyxVQUFVRSxPQUFPLG1CQUMvQjhDLGdCQUFnQnZCLEtBQUttQixhQUN2QixDQUVBMFUsS0FBSzFVLEdBQ0huQixLQUFLbUIsYUFBZUEsRUFDcEJuQixLQUFLckIsYUFBYSxPQUFRLElBQzFCTSxTQUFTcUMsS0FBS3ZDLGlCQUFpQixRQUFTaUIsS0FBS29ELGFBQzdDbkUsU0FBU3FDLEtBQUsvQyxVQUFVTSxJQUFJLG1CQUM1QnVDLFVBQVVwQixLQUNaLEksTUNqSE4sTUFBTTRrQixVQUF5QjVDLFdBQzdCbGlCLGNBQ0VDLFFBQ0FDLEtBQUs2a0IsY0FBZ0IsQ0FBQyxFQUN0QjdrQixLQUFLOGtCLHdCQUEwQjlrQixLQUFLSSxjQUFjLDRCQUNsREosS0FBSytrQiw2QkFBK0I5bEIsU0FBU3FFLGlCQUFpQixxQkFDOUR0RCxLQUFLK0osUUFBUyxFQUNkL0osS0FBS2dsQixnQkFBa0IsSUFBSUMsZ0JBQzNCamxCLEtBQUtrbEIsV0FBYSxHQUVsQmxsQixLQUFLa2lCLHFCQUNQLENBRUFBLHNCQUNFbGlCLEtBQUs4TyxNQUFNMUIsS0FBS3JPLGlCQUFpQixTQUFVaUIsS0FBS21sQixhQUFhOWtCLEtBQUtMLE9BRWxFQSxLQUFLOE8sTUFBTS9QLGlCQUFpQixRQUFTaUIsS0FBS29sQixRQUFRL2tCLEtBQUtMLE9BQ3ZEQSxLQUFLakIsaUJBQWlCLFdBQVlpQixLQUFLMEksV0FBV3JJLEtBQUtMLE9BQ3ZEQSxLQUFLakIsaUJBQWlCLFFBQVNpQixLQUFLcWxCLFFBQVFobEIsS0FBS0wsT0FDakRBLEtBQUtqQixpQkFBaUIsVUFBV2lCLEtBQUtzbEIsVUFBVWpsQixLQUFLTCxNQUN2RCxDQUVBdWxCLFdBQ0UsT0FBT3ZsQixLQUFLOE8sTUFBTTlKLE1BQU11YSxNQUMxQixDQUVBbGIsV0FDRXRFLE1BQU1zRSxXQUNOLE1BQU1taEIsRUFBZ0J4bEIsS0FBS3VsQixXQUN0QnZsQixLQUFLa2xCLFlBQWVNLEVBQWNDLFdBQVd6bEIsS0FBS2tsQixhQUdyRGxsQixLQUFLSSxjQUFjLDhDQUE4QzNCLFNBSW5FdUIsS0FBSzBsQixvQkFBb0IxbEIsS0FBS2tsQixXQUFZTSxHQUUxQ3hsQixLQUFLa2xCLFdBQWFNLEVBRWJ4bEIsS0FBS2tsQixXQUFXM2xCLE9BS3JCUyxLQUFLMmxCLGlCQUFpQjNsQixLQUFLa2xCLFlBSnpCbGxCLEtBQUtHLE9BQU0sRUFLZixDQUVBZ2xCLGFBQWEza0IsR0FDTlIsS0FBS3VsQixXQUFXaG1CLFNBQVVTLEtBQUtJLGNBQWMsNkJBQTZCSSxFQUFNQyxnQkFDdkYsQ0FFQTRoQixZQUFZN2hCLEdBQ1ZULE1BQU1zaUIsWUFBWTdoQixHQUNkVCxNQUFNd2lCLG9CQUNSdmlCLEtBQUtrbEIsV0FBYSxHQUNsQmxsQixLQUFLZ2xCLGdCQUFnQlksUUFDckI1bEIsS0FBS2dsQixnQkFBa0IsSUFBSUMsZ0JBQzNCamxCLEtBQUs2bEIsY0FBYSxHQUV0QixDQUVBVCxVQUNFLE1BQU1VLEVBQW9COWxCLEtBQUt1bEIsV0FFMUJPLEVBQWtCdm1CLFNBRW5CUyxLQUFLa2xCLGFBQWVZLEVBRXRCOWxCLEtBQUtxRSxXQUNxQyxTQUFqQ3JFLEtBQUswQixhQUFhLFdBQzNCMUIsS0FBS1UsT0FFTFYsS0FBSzJsQixpQkFBaUIzbEIsS0FBS2tsQixZQUUvQixDQUVBeGMsYUFDRTFILFlBQVcsS0FDSmhCLEtBQUt4QixTQUFTUyxTQUFTdUMsZ0JBQWdCeEIsS0FBS0csT0FBTyxHQUU1RCxDQUVBa2xCLFFBQVE3a0IsR0FJTixPQUhLUixLQUFLdWxCLFdBQVdobUIsUUFBUVMsS0FBS0csT0FBTSxHQUN4Q0ssRUFBTUMsaUJBRUVELEVBQU1OLE1BQ1osSUFBSyxVQUNIRixLQUFLK2xCLGFBQWEsTUFDbEIsTUFDRixJQUFLLFlBQ0gvbEIsS0FBSytsQixhQUFhLFFBQ2xCLE1BQ0YsSUFBSyxRQUNIL2xCLEtBQUtnbUIsZUFHWCxDQUVBVixVQUFVOWtCLEdBRVcsWUFBZkEsRUFBTU4sTUFBcUMsY0FBZk0sRUFBTU4sTUFDcENNLEVBQU1DLGdCQUVWLENBRUFpbEIsb0JBQW9CTyxFQUFjQyxHQUNoQyxNQUFNQyxFQUF1Qm5tQixLQUFLSSxjQUFjLDRDQUMxQ2dtQixFQUFvQkQsR0FBc0I3SSxVQUNoRCxHQUFJOEksRUFBbUIsQ0FDckIsR0FBSUEsRUFBa0JDLE1BQU0sSUFBSUMsT0FBT0wsRUFBYyxNQUFNMW1CLE9BQVMsRUFFbEUsT0FFRixNQUFNZ25CLEVBQWdCSCxFQUFrQjVlLFFBQVF5ZSxFQUFjQyxHQUM5REMsRUFBcUI3SSxVQUFZaUosQ0FDbkMsQ0FDRixDQUVBUixhQUFhUyxHQUNYLElBQUt4bUIsS0FBSzBCLGFBQWEsUUFBUyxPQUVoQyxNQUFNK2tCLEVBQXVCLE9BQWRELEVBQ1RFLEVBQWtCMW1CLEtBQUtJLGNBQWMsMEJBSXJDdW1CLEVBQXFCdm5CLE1BQU1DLEtBQUtXLEtBQUtzRCxpQkFBaUIsdUNBQXVDNkksUUFDaEdqTyxHQUFxQyxPQUF6QkEsRUFBUTBvQixlQUV2QixJQUFJQyxFQUFxQixFQUV6QixHQUFJSixJQUFXQyxFQUFpQixPQUVoQyxJQUFJSSxHQUF3QixFQUN4QmhWLEVBQUksRUFFUixNQUFpQyxJQUExQmdWLEdBQStCaFYsR0FBSzZVLEVBQW1CcG5CLFFBQ3hEb25CLEVBQW1CN1UsS0FBTzRVLElBQzVCSSxFQUF1QmhWLEdBRXpCQSxJQVdGLEdBUkE5UixLQUFLK21CLGNBQWNuZixZQUFjLElBRTVCNmUsR0FBVUMsRUFDYkcsRUFBcUJDLElBQXlCSCxFQUFtQnBuQixPQUFTLEVBQUksRUFBSXVuQixFQUF1QixFQUNoR0wsSUFDVEksRUFBOEMsSUFBekJDLEVBQTZCSCxFQUFtQnBuQixPQUFTLEVBQUl1bkIsRUFBdUIsR0FHdkdELElBQXVCQyxFQUFzQixPQUVqRCxNQUFNdGxCLEVBQWdCbWxCLEVBQW1CRSxHQUV6Q3JsQixFQUFjN0MsYUFBYSxpQkFBaUIsR0FDeEMrbkIsR0FBaUJBLEVBQWdCL25CLGFBQWEsaUJBQWlCLEdBRW5FcUIsS0FBSzhPLE1BQU1uUSxhQUFhLHdCQUF5QjZDLEVBQWNHLEdBQ2pFLENBRUFxa0IsZUFDRSxNQUFNZ0IsRUFBaUJobkIsS0FBS0ksY0FBYywwREFFdEM0bUIsR0FBZ0JBLEVBQWVDLE9BQ3JDLENBRUF0QixpQkFBaUJULEdBQ2YsTUFBTWdDLEVBQVdoQyxFQUFXMWQsUUFBUSxJQUFLLEtBQUsyZixjQUM5Q25uQixLQUFLb25CLDRCQUVEcG5CLEtBQUs2a0IsY0FBY3FDLEdBQ3JCbG5CLEtBQUtxbkIsb0JBQW9Ccm5CLEtBQUs2a0IsY0FBY3FDLElBSTlDamlCLE1BQU8sR0FBRUMsT0FBT29pQiwyQkFBMkJDLG1CQUFtQnJDLGtDQUE0QyxDQUN4R3NDLE9BQVF4bkIsS0FBS2dsQixnQkFBZ0J3QyxTQUU1QnBpQixNQUFNQyxJQUNMLElBQUtBLEVBQVNvaUIsR0FBSSxDQUNoQixJQUFJN2hCLEVBQVEsSUFBSThoQixNQUFNcmlCLEVBQVNzaUIsUUFFL0IsTUFEQTNuQixLQUFLRyxRQUNDeUYsQ0FDUixDQUVBLE9BQU9QLEVBQVNDLE1BQU0sSUFFdkJGLE1BQU1FLElBQ0wsTUFBTXNpQixHQUFnQixJQUFJbGxCLFdBQ3ZCQyxnQkFBZ0IyQyxFQUFNLGFBQ3RCbEYsY0FBYyxzQ0FBc0NrQyxVQUV2RHRDLEtBQUsra0IsNkJBQTZCOW1CLFNBQVM0cEIsSUFDekNBLEVBQXlCaEQsY0FBY3FDLEdBQVlVLENBQWEsSUFFbEU1bkIsS0FBS3FuQixvQkFBb0JPLEVBQWMsSUFFeENuaUIsT0FBT0csSUFDTixHQUFvQixLQUFoQkEsR0FBTzFGLEtBS1gsTUFEQUYsS0FBS0csUUFDQ3lGLENBQUssR0FFakIsQ0FFQXdoQiw0QkFDRXBuQixLQUFLK21CLGNBQWdCL21CLEtBQUsrbUIsZUFBaUIvbUIsS0FBS0ksY0FBYyw2QkFDOURKLEtBQUs4bkIsWUFBYzluQixLQUFLOG5CLGFBQWU5bkIsS0FBSzBCLGFBQWEscUJBRXpEMUIsS0FBSytuQixrQkFBa0IvbkIsS0FBSzhuQixhQUM1QjluQixLQUFLckIsYUFBYSxXQUFXLEVBQy9CLENBRUFvcEIsa0JBQWtCQyxHQUNoQmhvQixLQUFLK21CLGNBQWNwb0IsYUFBYSxjQUFlLFNBQy9DcUIsS0FBSyttQixjQUFjbmYsWUFBY29nQixFQUVqQ2huQixZQUFXLEtBQ1RoQixLQUFLK21CLGNBQWNwb0IsYUFBYSxjQUFlLE9BQU8sR0FDckQsSUFDTCxDQUVBMG9CLG9CQUFvQk8sR0FDbEI1bkIsS0FBSzhrQix3QkFBd0J4aUIsVUFBWXNsQixFQUN6QzVuQixLQUFLckIsYUFBYSxXQUFXLEdBRTdCcUIsS0FBS2lvQix1QkFDTGpvQixLQUFLVSxNQUNQLENBRUF1bkIsdUJBQ0Vqb0IsS0FBS2lKLGdCQUFnQixXQUNyQmpKLEtBQUsrbkIsa0JBQWtCL25CLEtBQUtJLGNBQWMsb0RBQW9Ed0gsWUFDaEcsQ0FFQXNnQixzQkFHRSxPQUZBbG9CLEtBQUttb0IsaUJBQ0hycEIsT0FBTzhWLFlBQWMzVixTQUFTbUIsY0FBYyxtQkFBbUJxSix3QkFBd0JDLE9BQ2xGMUosS0FBS21vQixnQkFDZCxDQUVBem5CLE9BQ0VWLEtBQUs4a0Isd0JBQXdCMWIsTUFBTWdmLFVBQVlwb0IsS0FBS21vQixrQkFBcUIsR0FBRW5vQixLQUFLa29CLDBCQUNoRmxvQixLQUFLckIsYUFBYSxRQUFRLEdBQzFCcUIsS0FBSzhPLE1BQU1uUSxhQUFhLGlCQUFpQixHQUN6Q3FCLEtBQUsrSixRQUFTLENBQ2hCLENBRUE1SixNQUFNa29CLEdBQWtCLEdBQ3RCcm9CLEtBQUs2bEIsYUFBYXdDLEdBQ2xCcm9CLEtBQUsrSixRQUFTLENBQ2hCLENBRUE4YixhQUFhd0MsR0FBa0IsR0FDekJBLElBQ0Zyb0IsS0FBSzhPLE1BQU05SixNQUFRLEdBQ25CaEYsS0FBS2lKLGdCQUFnQixZQUV2QixNQUFNcWYsRUFBV3RvQixLQUFLSSxjQUFjLDBCQUVoQ2tvQixHQUFVQSxFQUFTM3BCLGFBQWEsaUJBQWlCLEdBRXJEcUIsS0FBSzhPLE1BQU1uUSxhQUFhLHdCQUF5QixJQUNqRHFCLEtBQUtpSixnQkFBZ0IsV0FDckJqSixLQUFLaUosZ0JBQWdCLFFBQ3JCakosS0FBSzhPLE1BQU1uUSxhQUFhLGlCQUFpQixHQUN6Q3FCLEtBQUttb0Isa0JBQW1CLEVBQ3hCbm9CLEtBQUs4a0Isd0JBQXdCN2IsZ0JBQWdCLFFBQy9DLEVBR0ZwRyxlQUFlQyxPQUFPLG9CQUFxQjhoQixFLEtDcFJ0Qy9oQixlQUFldUYsSUFBSSxpQkFDdEJ2RixlQUFlQyxPQUNiLGVBQ0EsY0FBMEJqRCxZQUN4QkMsY0FDRUMsUUFFQUMsS0FBS29OLEtBQU9wTixLQUFLSSxjQUFjLFFBQy9CSixLQUFLb04sS0FBS2hOLGNBQWMsYUFBYW1vQixVQUFXLEVBQ2hEdm9CLEtBQUtvTixLQUFLck8saUJBQWlCLFNBQVVpQixLQUFLcUssZ0JBQWdCaEssS0FBS0wsT0FDL0RBLEtBQUt3b0IsS0FBT3ZwQixTQUFTbUIsY0FBYyxzQkFBd0JuQixTQUFTbUIsY0FBYyxlQUNsRkosS0FBS3lvQixhQUFlem9CLEtBQUtJLGNBQWMsbUJBQ25DbkIsU0FBU21CLGNBQWMsZ0JBQWdCSixLQUFLeW9CLGFBQWE5cEIsYUFBYSxnQkFBaUIsVUFFM0ZxQixLQUFLMG9CLFdBQXlDLFNBQTVCMW9CLEtBQUtnRSxRQUFRMGtCLFVBQ2pDLENBRUFyZSxnQkFBZ0JwSyxHQUVkLEdBREFBLEVBQUlRLGlCQUNvRCxTQUFwRFQsS0FBS3lvQixhQUFhL21CLGFBQWEsaUJBQTZCLE9BRWhFMUIsS0FBSzJkLHFCQUVMM2QsS0FBS3lvQixhQUFhOXBCLGFBQWEsaUJBQWlCLEdBQ2hEcUIsS0FBS3lvQixhQUFhbHFCLFVBQVVNLElBQUksV0FDaENtQixLQUFLSSxjQUFjLDZCQUE2QjdCLFVBQVVFLE9BQU8sVUFFakUsTUFBTWtxQixFQUFTbmlCLFlBQVksY0FDM0JtaUIsRUFBT0MsUUFBUSxvQkFBc0Isd0JBQzlCRCxFQUFPQyxRQUFRLGdCQUV0QixNQUFNdmIsRUFBVyxJQUFJQyxTQUFTdE4sS0FBS29OLE1BQy9CcE4sS0FBS3dvQixPQUNQbmIsRUFBU3diLE9BQ1AsV0FDQTdvQixLQUFLd29CLEtBQUtybUIsc0JBQXNCZ0UsS0FBSy9ELEdBQVlBLEVBQVFULE1BRTNEMEwsRUFBU3diLE9BQU8sZUFBZ0IvcEIsT0FBT3VILFNBQVNDLFVBQ2hEdEcsS0FBS3dvQixLQUFLM25CLGlCQUFpQjVCLFNBQVN1QyxnQkFFdENtbkIsRUFBT3JuQixLQUFPK0wsRUFFZHBJLE1BQU8sR0FBRUMsT0FBTzRqQixlQUFnQkgsR0FDN0J2akIsTUFBTUMsR0FBYUEsRUFBUzBqQixTQUM1QjNqQixNQUFNQyxJQUNMLEdBQUlBLEVBQVNzaUIsT0FBUSxDQUNuQmpnQixRQUFRL0MsZUFBZXFrQixVQUFXLENBQ2hDbmtCLE9BQVEsZUFDUm9rQixpQkFBa0I1YixFQUFTakYsSUFBSSxNQUMvQnZCLE9BQVF4QixFQUFTd0IsUUFBVXhCLEVBQVM2akIsWUFDcEM5aEIsUUFBUy9CLEVBQVMrQixVQUVwQnBILEtBQUsyZCxtQkFBbUJ0WSxFQUFTNmpCLGFBRWpDLE1BQU1DLEVBQWlCbnBCLEtBQUt5b0IsYUFBYXJvQixjQUFjLHFCQUN2RCxJQUFLK29CLEVBQWdCLE9BS3JCLE9BSkFucEIsS0FBS3lvQixhQUFhOXBCLGFBQWEsaUJBQWlCLEdBQ2hEcUIsS0FBS3lvQixhQUFhcm9CLGNBQWMsUUFBUTdCLFVBQVVNLElBQUksVUFDdERzcUIsRUFBZTVxQixVQUFVRSxPQUFPLGVBQ2hDdUIsS0FBSzRGLE9BQVEsRUFFZixDQUFPLElBQUs1RixLQUFLd29CLEtBRWYsWUFEQTFwQixPQUFPdUgsU0FBV3ZILE9BQU9vRyxPQUFPQyxVQUk3Qm5GLEtBQUs0RixPQUNSOEIsUUFBUS9DLGVBQWVDLFdBQVksQ0FBRUMsT0FBUSxlQUFnQm9rQixpQkFBa0I1YixFQUFTakYsSUFBSSxRQUM5RnBJLEtBQUs0RixPQUFRLEVBQ2IsTUFBTXdqQixFQUFnQnBwQixLQUFLNkIsUUFBUSxtQkFDL0J1bkIsR0FDRm5xQixTQUFTcUMsS0FBS3ZDLGlCQUNaLGVBQ0EsS0FDRWlDLFlBQVcsS0FDVGhCLEtBQUt3b0IsS0FBS3htQixlQUFlcUQsRUFBUyxHQUNsQyxHQUVKLENBQUVoRSxNQUFNLElBRVYrbkIsRUFBYzFULE1BQUssSUFFbkIxVixLQUFLd29CLEtBQUt4bUIsZUFBZXFELEVBQzNCLElBRURJLE9BQU9DLElBQ05DLFFBQVFDLE1BQU1GLEVBQUUsSUFFakJtQyxTQUFRLEtBQ1A3SCxLQUFLeW9CLGFBQWFscUIsVUFBVUUsT0FBTyxXQUMvQnVCLEtBQUt3b0IsTUFBUXhvQixLQUFLd29CLEtBQUtqcUIsVUFBVUMsU0FBUyxhQUFhd0IsS0FBS3dvQixLQUFLanFCLFVBQVVFLE9BQU8sWUFDakZ1QixLQUFLNEYsT0FBTzVGLEtBQUt5b0IsYUFBYXhmLGdCQUFnQixpQkFDbkRqSixLQUFLSSxjQUFjLDZCQUE2QjdCLFVBQVVNLElBQUksU0FBUyxHQUU3RSxDQUVBOGUsbUJBQW1CMEwsR0FBZSxHQUM1QnJwQixLQUFLMG9CLGFBRVQxb0IsS0FBS3NwQixvQkFDSHRwQixLQUFLc3BCLHFCQUF1QnRwQixLQUFLSSxjQUFjLHdDQUM1Q0osS0FBS3NwQixzQkFDVnRwQixLQUFLcXBCLGFBQWVycEIsS0FBS3FwQixjQUFnQnJwQixLQUFLc3BCLG9CQUFvQmxwQixjQUFjLGdDQUVoRkosS0FBS3NwQixvQkFBb0J2SixnQkFBZ0IsVUFBV3NKLEdBRWhEQSxJQUNGcnBCLEtBQUtxcEIsYUFBYXpoQixZQUFjeWhCLElBRXBDLElDN0dEeG1CLGVBQWV1RixJQUFJLGlCQUN0QnZGLGVBQWVDLE9BQ2IsZUFDQSxjQUEwQmpELFlBQ3hCQyxjQUNFQyxRQUNBQyxLQUFLOE8sTUFBUTlPLEtBQUtJLGNBQWMsb0JBQ2hDSixLQUFLcWIsZUFBaUJyYixLQUFLSSxjQUFjLHVCQUN6Q0osS0FBS3VwQixlQUFpQnZwQixLQUFLSSxjQUFjLGtCQUN6Q0osS0FBS3lvQixhQUFlem9CLEtBQUtJLGNBQWMsa0JBQ3pDLENBRUFtRSw0QkFBeUJDLEVBQ3pCZ2xCLCtCQUE0QmhsQixFQUU1QkMsb0JBQ096RSxLQUFLOE8sUUFDVjlPLEtBQUt5cEIsYUFBZXpwQixLQUFLSSxjQUFjLDJCQUNsQ0osS0FBS3lwQixlQUNWenBCLEtBQUswcEIsdUJBQ0ExcEIsS0FBS2dFLFFBQVE4WixrQkFDaEI5ZCxLQUFLdUUsdUJBQXlCRyxVQUFVQyxlQUFlQyxXQUFZNUUsS0FBSzJwQixtQkFBbUJ0cEIsS0FBS0wsUUFFbEdBLEtBQUt3cEIsMEJBQTRCOWtCLFVBQVVDLGVBQWU0WixlQUFnQi9kLElBQ3hFLE1BQU1xZCxFQUFZN2QsS0FBS2dFLFFBQVE4WixnQkFBa0I5ZCxLQUFLZ0UsUUFBUThaLGdCQUFrQjlkLEtBQUtnRSxRQUFRNUIsUUFDekY1QixFQUFNZ2UsS0FBS1gsWUFBY0EsSUFDN0I3ZCxLQUFLNHBCLG9CQUFvQnBwQixFQUFNZ2UsS0FBS1gsVUFBV3JkLEVBQU1nZSxLQUFLL2IsTUFDMUR6QyxLQUFLMHBCLHVCQUFzQixLQUUvQixDQUVBM2tCLHVCQUNNL0UsS0FBS3VFLHdCQUNQdkUsS0FBS3VFLHlCQUVIdkUsS0FBS3dwQiwyQkFDUHhwQixLQUFLd3BCLDJCQUVULENBRUFFLHVCQUNFLE1BQU1sTCxFQUFPLENBQ1hxTCxhQUFjN3BCLEtBQUs4TyxNQUFNOUssUUFBUTZsQixhQUFleGlCLFNBQVNySCxLQUFLOE8sTUFBTTlLLFFBQVE2bEIsY0FBZ0IsRUFDNUY3YSxJQUFLaFAsS0FBSzhPLE1BQU05SyxRQUFRZ0wsSUFBTTNILFNBQVNySCxLQUFLOE8sTUFBTTlLLFFBQVFnTCxLQUFPLEVBQ2pFQyxJQUFLalAsS0FBSzhPLE1BQU05SyxRQUFRaUwsSUFBTTVILFNBQVNySCxLQUFLOE8sTUFBTTlLLFFBQVFpTCxLQUFPLEtBQ2pFdUosS0FBTXhZLEtBQUs4TyxNQUFNMEosS0FBT25SLFNBQVNySCxLQUFLOE8sTUFBTTBKLE1BQVEsR0FHdEQsSUFBSXhKLEVBQU13UCxFQUFLeFAsSUFDZixNQUFNQyxFQUFtQixPQUFidVAsRUFBS3ZQLElBQWV1UCxFQUFLdlAsSUFBTXVQLEVBQUt2UCxJQUFNdVAsRUFBS3FMLGFBQy9DLE9BQVI1YSxJQUFjRCxFQUFNekYsS0FBS3lGLElBQUlBLEVBQUtDLElBQ2xDdVAsRUFBS3FMLGNBQWdCckwsRUFBS3hQLE1BQUtBLEVBQU16RixLQUFLeUYsSUFBSUEsRUFBS3dQLEVBQUtoRyxPQUU1RHhZLEtBQUs4TyxNQUFNRSxJQUFNQSxFQUNqQmhQLEtBQUs4TyxNQUFNRyxJQUFNQSxFQUNqQmpQLEtBQUs4TyxNQUFNOUosTUFBUWdLLEVBQ25CdEgsUUFBUS9DLGVBQWV3TSxvQkFBZ0IzTSxFQUN6QyxDQUVBbWxCLHFCQUNPM3BCLEtBQUtxYixnQkFBbUJyYixLQUFLcWIsZUFBZXJXLFFBQ2pEaEYsS0FBS0ksY0FBYywwQ0FBMEM3QixVQUFVRSxPQUFPLFVBQzlFd0csTUFBTyxHQUFFakYsS0FBS2dFLFFBQVFpSCxlQUFlakwsS0FBS3FiLGVBQWVyVyxvQkFBb0JoRixLQUFLZ0UsUUFBUTVCLFdBQ3ZGZ0QsTUFBTUMsR0FDRUEsRUFBU0MsU0FFakJGLE1BQU1HLElBQ0wsTUFBTTlDLEdBQU8sSUFBSUMsV0FBWUMsZ0JBQWdCNEMsRUFBYyxhQUMzRHZGLEtBQUs0cEIsb0JBQW9CNXBCLEtBQUtnRSxRQUFRNUIsUUFBU0ssR0FDL0N6QyxLQUFLMHBCLHNCQUFzQixJQUU1QmprQixPQUFPQyxJQUNOQyxRQUFRQyxNQUFNRixFQUFFLElBRWpCbUMsU0FBUSxLQUNQN0gsS0FBS0ksY0FBYywwQ0FBMEM3QixVQUFVTSxJQUFJLFNBQVMsSUFFMUYsQ0FFQStxQixvQkFBb0IvTCxFQUFXcGIsR0FDN0IsTUFBTXFuQixFQUFzQnJuQixFQUFLdkIsZUFBZ0IsaUJBQWdCMmMsS0FDM0RrTSxFQUFZLENBQUMsbUJBQW9CLG1CQUFvQixvQkFDM0QsSUFBSyxJQUFJMW5CLEtBQVkwbkIsRUFBVyxDQUM5QixNQUFNQyxFQUFVaHFCLEtBQUt5cEIsYUFBYXJwQixjQUFjaUMsR0FDMUM0bkIsRUFBVUgsRUFBb0IxcEIsY0FBY2lDLEdBQ2xELEdBQUsybkIsR0FBWUMsRUFDakIsR0FBaUIscUJBQWI1bkIsRUFBaUMsQ0FDbkMsTUFBTTZuQixFQUFhLENBQUMscUJBQXNCLFdBQVksV0FBWSxRQUNsRSxJQUFLLElBQUlDLEtBQWFELEVBQVksQ0FDaEMsTUFBTUUsRUFBZUgsRUFBUXZvQixhQUFheW9CLEdBQ3JCLE9BQWpCQyxHQUF1QkosRUFBUXJyQixhQUFhd3JCLEVBQVdDLEVBQzdELENBQ0YsTUFDRUosRUFBUTFuQixVQUFZMm5CLEVBQVEzbkIsU0FFaEMsQ0FDRixJQ2hHRE8sZUFBZXVGLElBQUksa0JBQ3RCdkYsZUFBZUMsT0FDYixnQkFDQSxjQUEyQjJTLFlBQ3pCM1YsY0FDRUMsT0FDRixDQUVBMlYsT0FDRTNWLE1BQU0yVixNQUNSLENBRUFHLEtBQUtDLEdBQ0gvVixNQUFNOFYsS0FBS0MsR0FDWDlWLEtBQUtxcUIsaUJBQ1AsQ0FFQUEsa0JBQ0VycUIsS0FBS3NELGlCQUNGLHVDQUFzQ3RELEtBQUsrVixTQUFTclUsYUFBYSx1QkFDbEV6RCxTQUFTQyxJQUNUQSxFQUFRSyxVQUFVRSxPQUFPLFNBQVMsSUFFcEMsTUFBTTZrQixFQUFjdGpCLEtBQUtJLGNBQWUsbUJBQWtCSixLQUFLK1YsU0FBU3JVLGFBQWEsc0JBQy9FNG9CLEVBQXNCaEgsRUFBWWxqQixjQUFjLFlBQ2hEbXFCLEVBQXFCRCxFQUFzQkEsRUFBb0I3aEIsUUFBVSxLQUMvRTZhLEVBQVkva0IsVUFBVU0sSUFBSSxVQUMxQnlrQixFQUFZWixpQkFFWixNQUFNOVcsRUFBWTVMLEtBQUtJLGNBQWMscUJBQ3JDd0wsRUFBVXNNLFlBQWNvTCxFQUFZckMsTUFBUXJWLEVBQVU2TCxhQUFlLEVBRzNDLGtCQUF4QjZMLEVBQVkzTSxVQUNaNFQsR0FDQUEsRUFBbUJucUIsY0FBYyxnQkFFakNrakIsRUFBWXJOLGFBQ2hCLElDdENEcFQsZUFBZXVGLElBQUksa0JBQ3RCdkYsZUFBZUMsT0FDYixnQkFDQSxjQUEyQndULGNBQ3pCeFcsY0FDRUMsT0FDRixDQUVBa1csY0FDRWxXLE1BQU1rVyxjQUVOekUsUUFBUWdaLGFBQWEsQ0FDbkIsQ0FDRXprQixLQUFNLGtCQUNOMGtCLFFBQVMsTUFDVEMsT0FBUTFxQixLQUFLMnFCLG1CQUFtQnRxQixLQUFLTCxRQUczQyxDQUVBMnFCLG1CQUFtQjlqQixHQUNiQSxJQUVKN0csS0FBSzRxQixjQUFnQixJQUFJcFosUUFBUXFaLGNBQWM3cUIsS0FBS0ksY0FBYyxpQkFDcEUsSUFLTnRCLE9BQU9nc0IsYUFBZSxDQUNwQkMsZ0JBQ0V2WixRQUFRZ1osYUFBYSxDQUNuQixDQUNFemtCLEtBQU0sYUFDTjBrQixRQUFTLE1BQ1RDLE9BQVExcUIsS0FBS2dyQixlQUFlM3FCLEtBQUtMLFFBR3ZDLEVBRUFnckIsZUFBZW5rQixHQUNUQSxJQUVDL0gsT0FBT21zQixXQUtaaHNCLFNBQVNxRSxpQkFBaUIsd0JBQXdCckYsU0FBU2l0QixJQUN6RHBzQixPQUFPbXNCLFVBQVVFLFVBQVVsbEIsS0FBS1MsTUFBTXdrQixFQUFVdGpCLGNBQ2hEc2pCLEVBQVV6c0IsUUFBUSxJQUVwQkssT0FBT21zQixVQUFVRyxtQkFSZm5zQixTQUFTRixpQkFBaUIsMEJBQTBCLElBQU1pQixLQUFLZ3JCLG1CQVNuRSxHQUdGbHNCLE9BQU9DLGlCQUFpQixvQkFBb0IsS0FDdENELE9BQU9nc0IsY0FBY2hzQixPQUFPZ3NCLGFBQWFDLGVBQWUsSUN6RHpEbG9CLGVBQWV1RixJQUFJLG9CQUN0QnZGLGVBQWVDLE9BQ2Isa0JBQ0EsY0FBNEIyUyxZQUMxQjNWLGNBQ0VDLFFBQ0FDLEtBQUtrYyxhQUFlbGMsS0FBS0ksY0FBYyx3QkFDekMsQ0FFQXNWLEtBQUsyVixHQUFlLEdBQ2xCLE1BQU1DLEVBQW1CcnNCLFNBQVNtQixjQUFjLHNCQUF3Qm5CLFNBQVNtQixjQUFjLGVBQzNGa3JCLEdBQWtCQSxFQUFpQnpxQixpQkFBaUJiLEtBQUsrVixVQUM3RC9WLEtBQUtrYyxhQUFhNVosVUFBWSxHQUUxQitvQixJQUFjcnJCLEtBQUsrVixTQUFXLE1BQ2xDaFcsTUFBTTJWLE1BQ1IsQ0FFQUcsS0FBS0MsR0FDSEEsRUFBT25YLGFBQWEsaUJBQWlCLEdBQ3JDbVgsRUFBT3ZYLFVBQVVNLElBQUksV0FDckJpWCxFQUFPMVYsY0FBYyw2QkFBNkI3QixVQUFVRSxPQUFPLFVBRW5Fd0csTUFBTTZRLEVBQU9wVSxhQUFhLHFCQUN2QjBELE1BQU1DLEdBQWFBLEVBQVNDLFNBQzVCRixNQUFNRyxJQUNMLE1BQU1nbUIsR0FBZSxJQUFJN29CLFdBQVlDLGdCQUFnQjRDLEVBQWMsYUFDbkV2RixLQUFLd3JCLGVBQWlCRCxFQUFhbnJCLGNBQWMsK0JBQ2pESixLQUFLeXJCLHVCQUNMenJCLEtBQUswckIsb0JBQ0wxckIsS0FBSzJyQixhQUFhM3JCLEtBQUtrYyxhQUFjbGMsS0FBS3dyQixlQUFlbHBCLFdBRXJEeEQsT0FBTzBTLFNBQVdBLFFBQVFvYSxlQUM1QnBhLFFBQVFvYSxjQUFjQyxPQUdwQi9zQixPQUFPZ3NCLGNBQWNoc0IsT0FBT2dzQixhQUFhQyxnQkFFN0MvcUIsS0FBSzhyQiw0QkFDTDlyQixLQUFLK3JCLG1CQUNML3JCLEtBQUtnc0IsNkJBQ0xqc0IsTUFBTThWLEtBQUtDLEVBQU8sSUFFbkJqTyxTQUFRLEtBQ1BpTyxFQUFPN00sZ0JBQWdCLGlCQUN2QjZNLEVBQU92WCxVQUFVRSxPQUFPLFdBQ3hCcVgsRUFBTzFWLGNBQWMsNkJBQTZCN0IsVUFBVU0sSUFBSSxTQUFTLEdBRS9FLENBRUE4c0IsYUFBYXp0QixFQUFTdUUsR0FDcEJ2RSxFQUFRb0UsVUFBWUcsRUFHcEJ2RSxFQUFRb0YsaUJBQWlCLFVBQVVyRixTQUFTZ3VCLElBQzFDLE1BQU1DLEVBQWVqdEIsU0FBU3lULGNBQWMsVUFDNUN0VCxNQUFNQyxLQUFLNHNCLEVBQWEvQixZQUFZanNCLFNBQVNrc0IsSUFDM0MrQixFQUFhdnRCLGFBQWF3ckIsRUFBVXBrQixLQUFNb2tCLEVBQVVubEIsTUFBTSxJQUU1RGtuQixFQUFhdFosWUFBWTNULFNBQVNrdEIsZUFBZUYsRUFBYTNwQixZQUM5RDJwQixFQUFhM2MsV0FBVzhjLGFBQWFGLEVBQWNELEVBQWEsR0FFcEUsQ0FFQUQsNkJBQ0UsTUFBTUssRUFBZ0Jyc0IsS0FBS2tjLGFBQWE5YixjQUFjLGtDQUNqRGlzQixHQUVMQSxFQUFjMXRCLGFBQWEsa0JBQW1CLFFBQ2hELENBRUErc0Isb0JBQ0UsTUFBTVksRUFBcUJ0c0IsS0FBS3dyQixlQUFlcHJCLGNBQWMsdUJBQ3pEa3NCLEdBQW9CQSxFQUFtQjd0QixTQUUzQyxNQUFNOHRCLEVBQWV2c0IsS0FBS3dyQixlQUFlcHJCLGNBQWMsaUJBQ25EbXNCLEdBQWNBLEVBQWE5dEIsU0FFL0IsTUFBTSt0QixFQUFjeHNCLEtBQUt3ckIsZUFBZWxvQixpQkFBaUIsZ0JBQ3JEa3BCLEdBQWFBLEVBQVl2dUIsU0FBU29ZLEdBQVVBLEVBQU01WCxVQUN4RCxDQUVBZ3RCLHVCQUNFLE1BQU01TixFQUFZN2QsS0FBS3dyQixlQUFleG5CLFFBQVE1QixRQUM5Q3BDLEtBQUt3ckIsZUFBZWxwQixVQUFZdEMsS0FBS3dyQixlQUFlbHBCLFVBQVVtcUIsV0FBVzVPLEVBQVksWUFBV0EsS0FDaEc3ZCxLQUFLd3JCLGVBQWVsb0IsaUJBQWlCLGlEQUFpRHJGLFNBQVNDLElBQzdGQSxFQUFROEYsUUFBUThaLGdCQUFrQkQsQ0FBUyxHQUUvQyxDQUVBaU8sNEJBQ0UsTUFBTVksRUFBYzFzQixLQUFLa2MsYUFBYTliLGNBQWMsMEJBQy9Dc3NCLElBRUxBLEVBQVkvdEIsYUFBYSxPQUFRLGdCQUNqQyt0QixFQUFZcHBCLGlCQUFpQixrQkFBa0JyRixTQUFTMHVCLEdBQU9BLEVBQUdodUIsYUFBYSxPQUFRLGtCQUN6RixDQUVBb3RCLG1CQUNFLE1BQU1hLEVBQVU1c0IsS0FBS2tjLGFBQWE5YixjQUFjLFlBRWhELElBRHVCd3NCLEVBQVFydUIsVUFBVUMsU0FBUyxvQkFDN0IsT0FFckIsTUFBTXF1QixFQUFjRCxFQUFRdHBCLGlCQUFpQix1QkFDN0MsSUFBS3VwQixFQUFZdHRCLE9BQVEsT0FFekIsSUFBSXV0QixFQUNGLGdHQUVFRixFQUFRcnVCLFVBQVVDLFNBQVMsbUJBQzdCc3VCLEVBQWtCQSxFQUFnQnRsQixRQUFRLFFBQVMsU0FDMUNvbEIsRUFBUXJ1QixVQUFVQyxTQUFTLG9CQUNwQ3N1QixFQUFrQkEsRUFBZ0J0bEIsUUFBUSxRQUFTLFVBR3JEcWxCLEVBQVk1dUIsU0FBUzh1QixHQUFRQSxFQUFJcHVCLGFBQWEsUUFBU211QixJQUN6RCxJQ3BIRGpxQixlQUFldUYsSUFBSSxtQkFDdEJ2RixlQUFlQyxPQUFPLGlCQUFrQixjQUE0QmpELFlBQ2xFQyxjQUNFQyxRQUNBQyxLQUFLZ3RCLGNBQWdCaHRCLEtBQUtJLGNBQWUsdUJBQXVCSixLQUFLZ0UsUUFBUTZaLGFBQzdFN2QsS0FBS2d0QixjQUFjekUsVUFBVyxFQUM5QnZvQixLQUFLaXRCLG1CQUFxQmp0QixLQUFLSSxjQUFlLHNCQUFzQkosS0FBS2dFLFFBQVE2WixhQUNqRjdkLEtBQUtpdEIsbUJBQW1CMUUsVUFBVyxFQUNuQ3ZvQixLQUFLa3RCLFdBQWFsdEIsS0FBS0ksY0FBZSxvQkFBb0JKLEtBQUtnRSxRQUFRNlosYUFDdkU3ZCxLQUFLbXRCLFVBQVludEIsS0FBS0ksY0FBZSxtQkFBbUJKLEtBQUtnRSxRQUFRNlosYUFDckU3ZCxLQUFLb3RCLGFBQWVwdEIsS0FBS0ksY0FBZSxzQkFBc0JKLEtBQUtnRSxRQUFRNlosYUFDM0U3ZCxLQUFLcXRCLFlBQWNydEIsS0FBS0ksY0FBZSxzQkFBc0JKLEtBQUtnRSxRQUFRNlosYUFDMUU3ZCxLQUFLc3RCLGVBQWlCdHRCLEtBQUtJLGNBQWUsOEJBQThCSixLQUFLZ0UsUUFBUTZaLGFBQ2pGN2QsS0FBS3N0QixpQkFBZ0J0dEIsS0FBS3N0QixlQUFldG9CLE9BQVEsSUFBSXVvQixNQUFPQyxxQkFFaEV4dEIsS0FBS3NwQixvQkFBc0J0cEIsS0FBS0ksY0FBYyxrREFDOUNKLEtBQUt5dEIsaUJBQW1CenRCLEtBQUtzcEIscUJBQXFCbHBCLGNBQWMsTUFDaEVKLEtBQUtxcEIsYUFBZXJwQixLQUFLc3BCLHFCQUFxQmxwQixjQUFjLGtCQUM1REosS0FBSzB0QixtQkFBcUIxdEIsS0FBS3FwQixjQUFjL0wsVUFDN0N0ZCxLQUFLMnRCLHdCQUEwQjN0QixLQUFLZ0UsUUFBUWlsQixpQkFDNUNqcEIsS0FBS2pCLGlCQUFpQixTQUFVaUIsS0FBS3FFLFNBQVNoRSxLQUFLTCxPQUNuREEsS0FBS3FFLFVBQ1AsQ0FFQUUsNEJBQXlCQyxFQUN6QmdsQiwrQkFBNEJobEIsRUFDNUJvcEIsMkJBQXdCcHBCLEVBRXhCQyxvQkFDRXpFLEtBQUt1RSx1QkFBeUJHLFVBQVVDLGVBQWVDLFlBQWFwRSxJQUM3QyxpQkFBakJBLEVBQU1xRSxRQUE2QnJFLEVBQU15b0IsaUJBQWlCemIsYUFBZXhOLEtBQUsydEIseUJBQ2hGM3RCLEtBQUs2dEIsb0JBQ1AsSUFHRjd0QixLQUFLd3BCLDBCQUE0QjlrQixVQUFVQyxlQUFlNFosZUFBZ0IvZCxJQUNwRUEsRUFBTWdlLEtBQUtYLFlBQWM3ZCxLQUFLZ0UsUUFBUTZaLFlBQ3hDN2QsS0FBSzJ0Qix3QkFBMEJudEIsRUFBTWdlLEtBQUsxQyxRQUFRbmEsR0FBRzZMLFdBQ3ZELElBR0Z4TixLQUFLdUUsdUJBQXlCRyxVQUFVQyxlQUFlcWtCLFdBQVl4b0IsSUFDNUMsaUJBQWpCQSxFQUFNcUUsUUFBNkJyRSxFQUFNeW9CLGlCQUFpQnpiLGFBQWV4TixLQUFLMnRCLHlCQUNoRjN0QixLQUFLOHRCLG9CQUFvQnR0QixFQUFNNEcsUUFBUzVHLEVBQU1xRyxPQUNoRCxHQUVKLENBRUE5Qix1QkFDTS9FLEtBQUt1RSx3QkFDUHZFLEtBQUt1RSx5QkFHSHZFLEtBQUt3cEIsMkJBQ1B4cEIsS0FBS3dwQiw0QkFHSHhwQixLQUFLNHRCLHVCQUNQNXRCLEtBQUs0dEIsdUJBRVQsQ0FFQXZwQixXQUNNckUsS0FBS2d0QixjQUFjN04sUUFDckJuZixLQUFLK3RCLHFCQUVML3RCLEtBQUtndUIsbUJBQ0xodUIsS0FBS2l1QixxQkFDTGp1QixLQUFLa3VCLG9CQUVULENBRUFDLGNBQ0UsTUFBTyxDQUNMbnVCLEtBQUtrdEIsV0FDTGx0QixLQUFLbXRCLFVBQ0xudEIsS0FBS290QixhQUNMcHRCLEtBQUtxdEIsWUFFVCxDQUVBZSxvQkFDRSxNQUFPLElBQUlwdUIsS0FBS211QixjQUFlbnVCLEtBQUtzdEIsZUFDdEMsQ0FFQVUsbUJBQ0VodUIsS0FBS211QixjQUFjbHdCLFNBQVNvd0IsR0FBVUEsRUFBTXJwQixNQUFRLElBQ3RELENBRUErb0Isb0JBQ0UvdEIsS0FBS291QixvQkFBb0Jud0IsU0FBU293QixHQUFVQSxFQUFNOUYsVUFBVyxHQUMvRCxDQUVBMEYscUJBQ0VqdUIsS0FBS291QixvQkFBb0Jud0IsU0FBU293QixHQUFVQSxFQUFNOUYsVUFBVyxHQUMvRCxDQUVBdUYsb0JBQW9CUSxFQUFPaHRCLEdBR3pCLEdBRkF0QixLQUFLa3VCLG9CQUNMbHVCLEtBQUtzcEIsb0JBQW9CaUYsUUFBUyxFQUNkLGlCQUFUanRCLEVBRVQsT0FEQXRCLEtBQUtxcEIsYUFBYS9MLFVBQVl0ZCxLQUFLMHRCLG1CQUM1QmMsT0FBT2xYLFFBQVFoVyxHQUFNckQsU0FBUSxFQUFFMEYsRUFBS3FCLE1BQ3pDLE1BQU15cEIsRUFBa0IsaUJBQWlCOXFCLFdBQWUzRCxLQUFLZ0UsUUFBUTZaLFlBQy9ENlEsRUFBaUIsY0FBYy9xQixLQUFTM0QsS0FBS2dFLFFBQVE2WixZQUNyRHpXLEVBQVcsR0FBRXBDLEVBQU1pSixLQUFLLFFBQ3hCMGdCLEVBQXNCM3VCLEtBQUtJLGNBQWUsSUFBR3F1QixLQUM3Q0csRUFBbUJELEdBQXFCdnVCLGNBQWMsa0JBQzVELElBQUt3dUIsRUFBa0IsT0FFbkI1dUIsS0FBS3l0QixrQkFDUHp0QixLQUFLeXRCLGlCQUFpQjdhLFlBQVk1UyxLQUFLNnVCLG9CQUFvQkgsRUFBZXRuQixJQUc1RXduQixFQUFpQnRSLFVBQWEsR0FBRWxXLEtBQ2hDdW5CLEVBQW9CcHdCLFVBQVVFLE9BQU8sVUFFckMsTUFBTXF3QixFQUFlOXVCLEtBQU0sR0FBRTJELFVBQ3hCbXJCLElBRUxBLEVBQWFud0IsYUFBYSxnQkFBZ0IsR0FDMUNtd0IsRUFBYW53QixhQUFhLG1CQUFvQjh2QixHQUFlLElBSWpFenVCLEtBQUtxcEIsYUFBYS9MLFVBQVloYyxDQUNoQyxDQUVBdXRCLG9CQUFvQnZ3QixFQUFROEksR0FDMUIsTUFBTXVsQixFQUFLMXRCLFNBQVN5VCxjQUFjLE1BQzVCcWMsRUFBSTl2QixTQUFTeVQsY0FBYyxLQUtqQyxPQUpBcWMsRUFBRXB3QixhQUFhLE9BQVFMLEdBQ3ZCeXdCLEVBQUV6UixVQUFZbFcsRUFDZHVsQixFQUFHL1osWUFBWW1jLEdBQ2ZwQyxFQUFHL2UsVUFBWSxnQkFDUitlLENBQ1QsQ0FFQXVCLG9CQUNFbHVCLEtBQUtzcEIsb0JBQW9CaUYsUUFBUyxFQUU5QnZ1QixLQUFLeXRCLG1CQUFrQnp0QixLQUFLeXRCLGlCQUFpQm5yQixVQUFZLElBRTdEdEMsS0FBS3NELGlCQUFpQixvQ0FBb0NyRixTQUFRb3dCLElBQ2hFQSxFQUFNOXZCLFVBQVVNLElBQUksVUFDcEIsTUFBTW13QixFQUFZWCxFQUFNanVCLGNBQWMsa0JBQ2xDNHVCLElBQVdBLEVBQVUxUixVQUFZLEdBQUUsSUFHekMsQ0FBQ3RkLEtBQUtrdEIsV0FBWWx0QixLQUFLb3RCLGFBQWNwdEIsS0FBS210QixVQUFXbnRCLEtBQUtxdEIsYUFBYXB2QixTQUFRNndCLElBQzdFQSxFQUFhbndCLGFBQWEsZ0JBQWdCLEdBQzFDbXdCLEVBQWE3bEIsZ0JBQWdCLG1CQUFtQixHQUVwRCxDQUVBNGtCLHFCQUNNN3RCLEtBQUtndEIsY0FBYzdOLFVBQ3JCbmYsS0FBS2d0QixjQUFjN04sU0FBVSxFQUM3Qm5mLEtBQUtndUIsbUJBQ0xodUIsS0FBS2t1QixvQkFFVCxJLE1DaktKLE1BQU1sTSxVQUFtQm5pQixZQUN2QkMsY0FDRUMsUUFDQUMsS0FBSzhPLE1BQVE5TyxLQUFLSSxjQUFjLHdCQUNoQ0osS0FBS2l2QixZQUFjanZCLEtBQUtJLGNBQWMsd0JBRWxDSixLQUFLOE8sUUFDUDlPLEtBQUs4TyxNQUFNMUIsS0FBS3JPLGlCQUFpQixRQUFTaUIsS0FBS3FpQixZQUFZaGlCLEtBQUtMLE9BQ2hFQSxLQUFLOE8sTUFBTS9QLGlCQUNULFFBQ0FxRixVQUFVNUQsSUFDUlIsS0FBS3FFLFNBQVM3RCxFQUFNLEdBQ25CLEtBQUtILEtBQUtMLE9BR25CLENBRUFrdkIsb0JBQ0UsTUFBTUMsRUFBZ0JudkIsS0FBS2l2QixZQUFZMXdCLFVBQVVDLFNBQVMsVUFDdER3QixLQUFLOE8sTUFBTTlKLE1BQU16RixPQUFTLEdBQUs0dkIsRUFDakNudkIsS0FBS2l2QixZQUFZMXdCLFVBQVVFLE9BQU8sVUFDRyxJQUE1QnVCLEtBQUs4TyxNQUFNOUosTUFBTXpGLFFBQWlCNHZCLEdBQzNDbnZCLEtBQUtpdkIsWUFBWTF3QixVQUFVTSxJQUFJLFNBRW5DLENBRUF3RixXQUNFckUsS0FBS2t2QixtQkFDUCxDQUVBM00sa0JBQ0UsT0FBUXRqQixTQUFTbUIsY0FBYywyQkFDakMsQ0FFQWlpQixZQUFZN2hCLEdBRVZBLEVBQU1DLGlCQUVGVCxLQUFLdWlCLG9CQUNQdmlCLEtBQUs4TyxNQUFNOUosTUFBUSxHQUNuQmhGLEtBQUs4TyxNQUFNdEwsUUFDWHhELEtBQUtrdkIsb0JBRVQsRUFHRnJzQixlQUFlQyxPQUFPLGNBQWVrZixFLEtDOUNoQ25mLGVBQWV1RixJQUFJLGlCQUN0QnZGLGVBQWVDLE9BQ2IsZUFDQSxjQUEwQnlGLGtCQUN4QnpJLGNBQ0VDLFFBRUFDLEtBQUtqQyxTQUFXLENBQ2R3ZSxZQUFhdmMsS0FBS0ksY0FBYyxVQUNoQ2d2QixhQUFjcHZCLEtBQUtJLGNBQWMsV0FDakNtRCxZQUFhdkQsS0FBS0ksY0FBYyx3QkFDaENpdkIsZUFBZ0JydkIsS0FBS0ksY0FBYyx3QkFDbkNrdkIsU0FBVXR2QixLQUFLSSxjQUFjLFVBRS9CSixLQUFLdXZCLFdBQWF2dkIsS0FBS2pDLFNBQVN1eEIsU0FBV3R2QixLQUFLakMsU0FBU3V4QixTQUFTdHFCLE1BQVEvRixTQUFTb0gsU0FBUzZILEtBRXhGc2hCLFVBQVVDLE9BQ1p6dkIsS0FBS3dJLGtCQUFrQjdKLGFBQWEsU0FBVSxJQUM5Q3FCLEtBQUtqQyxTQUFTd2UsWUFBWWhlLFVBQVVFLE9BQU8sVUFDM0N1QixLQUFLakMsU0FBU3dlLFlBQVl4ZCxpQkFBaUIsU0FBUyxLQUNsRHl3QixVQUFVQyxNQUFNLENBQUV4a0IsSUFBS2pMLEtBQUt1dkIsV0FBWWpCLE1BQU9ydkIsU0FBU3F2QixPQUFRLE1BR2xFdHVCLEtBQUt3SSxrQkFBa0J6SixpQkFBaUIsU0FBVWlCLEtBQUswdkIsY0FBY3J2QixLQUFLTCxPQUMxRUEsS0FBS3dJLGtCQUNGcEksY0FBYyx1QkFDZHJCLGlCQUFpQixRQUFTaUIsS0FBSzJ2QixnQkFBZ0J0dkIsS0FBS0wsT0FDdkRBLEtBQUt3SSxrQkFBa0JwSSxjQUFjLHdCQUF3QnJCLGlCQUFpQixRQUFTaUIsS0FBS0csTUFBTUUsS0FBS0wsT0FFM0csQ0FFQTB2QixnQkFDTzF2QixLQUFLd0ksa0JBQWtCOUgsT0FDMUJWLEtBQUtqQyxTQUFTc3hCLGVBQWU5d0IsVUFBVU0sSUFBSSxVQUMzQ21CLEtBQUtqQyxTQUFTc3hCLGVBQWV6bkIsWUFBYyxHQUMzQzVILEtBQUtqQyxTQUFTd0YsWUFBWWhGLFVBQVVNLElBQUksVUFDeENtQixLQUFLakMsU0FBU3F4QixhQUFhNXJCLFFBRS9CLENBRUFtc0Isa0JBQ0VILFVBQVVJLFVBQVVDLFVBQVU3dkIsS0FBS2pDLFNBQVN1eEIsU0FBU3RxQixPQUFPSSxNQUFLLEtBQy9EcEYsS0FBS2pDLFNBQVNzeEIsZUFBZTl3QixVQUFVRSxPQUFPLFVBQzlDdUIsS0FBS2pDLFNBQVNzeEIsZUFBZXpuQixZQUFjOUksT0FBTzBiLHFCQUFxQnNWLGFBQ3ZFOXZCLEtBQUtqQyxTQUFTd0YsWUFBWWhGLFVBQVVFLE9BQU8sVUFDM0N1QixLQUFLakMsU0FBU3dGLFlBQVlDLE9BQU8sR0FFckMsQ0FFQTZZLFVBQVVwUixHQUNSakwsS0FBS3V2QixXQUFhdGtCLEVBQ2xCakwsS0FBS2pDLFNBQVN1eEIsU0FBU3RxQixNQUFRaUcsQ0FDakMsSSxNQ3BETixNQUFNOGtCLFVBQXVCbHdCLFlBQzNCQyxjQUNFQyxRQUNlQyxLQUFLSSxjQUFjLFVBQzNCckIsaUJBQWlCLFNBQVV5QixJQUNoQ1IsS0FBS2d3QixlQUFleHZCLEdBQ3BCLE1BQU15dkIsRUFBcUJ6dkIsRUFBTWxDLE9BQU91RCxRQUFRLG1CQUFtQnpCLGNBQWMsbUJBQzdFNnZCLElBQXVCQSxFQUFtQjF4QixVQUFVQyxTQUFTLFdBQy9EeXhCLEVBQW1CN3ZCLGNBQWMsU0FBU29ELE9BQzVDLEdBRUosQ0FDQXdzQixlQUFleHZCLEdBQ2IsTUFBTTB2QixFQUFnQjF2QixFQUFNbEMsT0FBT3VELFFBQVEsc0JBQXNCQSxRQUFRLG1CQUN0RHF1QixFQUFjOXZCLGNBQWMsZ0JBQy9DSixLQUFLc0QsaUJBQWlCLGVBQWVyRixTQUFTQyxHQUFZQSxFQUFRSyxVQUFVd0ksT0FBTyxZQUNuRm1wQixFQUFjNXNCLGlCQUFpQixtQkFBbUJyRixTQUFTMGMsR0FBU0EsRUFBS3BjLFVBQVV3SSxPQUFPLFdBQzVGLEVBR0ZsRSxlQUFlQyxPQUFPLG1CQUFvQml0QixFLFdDcEIxQyxTQUFTSSxJQUNQLE1BQU01RCxFQUFldHRCLFNBQVNxRSxpQkFBaUIsdUJBQy9DaXBCLEdBQWdCQSxFQUFhdHVCLFNBQVNvWSxHQUFVQSxFQUFNWCxRQUN4RCxDQUVBelcsU0FBU0YsaUJBQWlCLHdCQUF3QixTQUFVeUIsR0FHMUQsR0FGQTJ2QixLQUM2QjN2QixFQUFNbEMsT0FBT0MsVUFBVUMsU0FBUyxvQkFDbEMsT0FFM0IsTUFBTTR4QixFQUEyQjV2QixFQUFNbEMsT0FBT3VELFFBQVEsdUJBQ3REdXVCLEVBQXlCdlcsUUFFekI3WSxZQUFXLFdBQ1RvdkIsRUFBeUJ2WixPQUFPNkIsU0FBUyxDQUN2Q0MsS0FBTW5ZLEVBQU1sQyxPQUFPcVosWUFFdkIsR0FBRyxJQUNMLElBRUExWSxTQUFTRixpQkFBaUIsMEJBQTBCLFNBQVV5QixHQUU1RCxJQUQrQkEsRUFBTWxDLE9BQU9DLFVBQVVDLFNBQVMsb0JBQ2xDLE9BQzdCLE1BQU00eEIsRUFBMkI1dkIsRUFBTWxDLE9BQU91RCxRQUFRLHVCQUNsRHV1QixFQUF5QnhXLDJCQUEyQndXLEVBQXlCcm5CLE1BQ25GLElBRUE5SixTQUFTRixpQkFBaUIsd0JBQXdCLEtBQ2hEb3hCLElBQ0EsTUFBTUUsRUFBb0JweEIsU0FBU21CLGNBQWMsMkJBQ2pELEdBQUtpd0IsR0FDREEsRUFBbUIsQ0FDckIsTUFBTW5FLEVBQWVqdEIsU0FBU3lULGNBQWMsVUFDNUN3WixFQUFhN0wsSUFBTWdRLEVBQWtCaFEsSUFDckNnUSxFQUFrQi9nQixXQUFXOGMsYUFBYUYsRUFBY21FLEVBQzFELEtBR0ZweEIsU0FBU0YsaUJBQWlCLDJCQUEyQixJQUFNb3hCLE1BRTNEbHhCLFNBQVNGLGlCQUFpQiwwQkFBMEIsSUFBTW94QixNQUUxRGx4QixTQUFTRixpQkFBaUIsNEJBQTRCLElBQU1veEIsTUFFNURseEIsU0FBU0YsaUJBQWlCLDhCQUE4QixJQUFNb3hCLE1BRTlEbHhCLFNBQVNGLGlCQUFpQixnQ0FBZ0MsSUFBTW94QixLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYnVpbGQvLi9zcmMvYW5pbWF0aW9ucy5qcyIsIndlYnBhY2s6Ly9idWlsZC8uL3NyYy9jYXJ0LWRyYXdlci5qcyIsIndlYnBhY2s6Ly9idWlsZC8uL3NyYy9jYXJ0LW5vdGlmaWNhdGlvbi5qcyIsIndlYnBhY2s6Ly9idWlsZC8uL3NyYy9jYXJ0LmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL2RldGFpbHMtZGlzY2xvc3VyZS5qcyIsIndlYnBhY2s6Ly9idWlsZC8uL3NyYy9kZXRhaWxzLW1vZGFsLmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL2ZhY2V0cy5qcyIsIndlYnBhY2s6Ly9idWlsZC8uL3NyYy9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vYnVpbGQvLi9zcmMvbG9jYWxpemF0aW9uLWZvcm0uanMiLCJ3ZWJwYWNrOi8vYnVpbGQvLi9zcmMvbWFnbmlmeS5qcyIsIndlYnBhY2s6Ly9idWlsZC8uL3NyYy9tYWluLXNlYXJjaC5qcyIsIndlYnBhY2s6Ly9idWlsZC8uL3NyYy9tZWRpYS1nYWxsZXJ5LmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL3Bhc3N3b3JkLW1vZGFsLmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL3BpY2t1cC1hdmFpbGFiaWxpdHkuanMiLCJ3ZWJwYWNrOi8vYnVpbGQvLi9zcmMvcHJlZGljdGl2ZS1zZWFyY2guanMiLCJ3ZWJwYWNrOi8vYnVpbGQvLi9zcmMvcHJvZHVjdC1mb3JtLmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL3Byb2R1Y3QtaW5mby5qcyIsIndlYnBhY2s6Ly9idWlsZC8uL3NyYy9wcm9kdWN0LW1vZGFsLmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL3Byb2R1Y3QtbW9kZWwuanMiLCJ3ZWJwYWNrOi8vYnVpbGQvLi9zcmMvcXVpY2stYWRkLmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL3JlY2lwaWVudC1mb3JtLmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL3NlYXJjaC1mb3JtLmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL3NoYXJlLmpzIiwid2VicGFjazovL2J1aWxkLy4vc3JjL3Nob3ctbW9yZS5qcyIsIndlYnBhY2s6Ly9idWlsZC8uL3NyYy90aGVtZS1lZGl0b3IuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU0NST0xMX0FOSU1BVElPTl9UUklHR0VSX0NMQVNTTkFNRSA9ICdzY3JvbGwtdHJpZ2dlcic7XG5jb25zdCBTQ1JPTExfQU5JTUFUSU9OX09GRlNDUkVFTl9DTEFTU05BTUUgPSAnc2Nyb2xsLXRyaWdnZXItLW9mZnNjcmVlbic7XG5jb25zdCBTQ1JPTExfQU5JTUFUSU9OX0NBTkNFTF9DTEFTU05BTUUgPSAnc2Nyb2xsLXRyaWdnZXItLWNhbmNlbCc7XG5mdW5jdGlvbiBvbkludGVyc2VjdGlvbihlbGVtZW50cywgb2JzZXJ2ZXIpIHtcbiAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICBpZiAoZWxlbWVudC5pc0ludGVyc2VjdGluZykge1xuICAgICAgY29uc3QgZWxlbWVudFRhcmdldCA9IGVsZW1lbnQudGFyZ2V0O1xuICAgICAgaWYgKGVsZW1lbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFNDUk9MTF9BTklNQVRJT05fT0ZGU0NSRUVOX0NMQVNTTkFNRSkpIHtcbiAgICAgICAgZWxlbWVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKFNDUk9MTF9BTklNQVRJT05fT0ZGU0NSRUVOX0NMQVNTTkFNRSk7XG4gICAgICAgIGlmIChlbGVtZW50VGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGF0YS1jYXNjYWRlJykpXG4gICAgICAgICAgZWxlbWVudFRhcmdldC5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgYC0tYW5pbWF0aW9uLW9yZGVyOiAke2luZGV4fTtgKTtcbiAgICAgIH1cbiAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50VGFyZ2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWxlbWVudC50YXJnZXQuY2xhc3NMaXN0LmFkZChTQ1JPTExfQU5JTUFUSU9OX09GRlNDUkVFTl9DTEFTU05BTUUpO1xuICAgICAgZWxlbWVudC50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZShTQ1JPTExfQU5JTUFUSU9OX0NBTkNFTF9DTEFTU05BTUUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVTY3JvbGxBbmltYXRpb25UcmlnZ2VyKHJvb3RFbCA9IGRvY3VtZW50LCBpc0Rlc2lnbk1vZGVFdmVudCA9IGZhbHNlKSB7XG4gIGNvbnN0IGFuaW1hdGlvblRyaWdnZXJFbGVtZW50cyA9IEFycmF5LmZyb20ocm9vdEVsLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoU0NST0xMX0FOSU1BVElPTl9UUklHR0VSX0NMQVNTTkFNRSkpO1xuICBpZiAoYW5pbWF0aW9uVHJpZ2dlckVsZW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIGlmIChpc0Rlc2lnbk1vZGVFdmVudCkge1xuICAgIGFuaW1hdGlvblRyaWdnZXJFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Njcm9sbC10cmlnZ2VyLS1kZXNpZ24tbW9kZScpO1xuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKG9uSW50ZXJzZWN0aW9uLCB7XG4gICAgcm9vdE1hcmdpbjogJzBweCAwcHggLTUwcHggMHB4JyxcbiAgfSk7XG4gIGFuaW1hdGlvblRyaWdnZXJFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50KSA9PiBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpKTtcbn1cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiBpbml0aWFsaXplU2Nyb2xsQW5pbWF0aW9uVHJpZ2dlcigpKTtcblxuLy8gaWYgKFNob3BpZnkuZGVzaWduTW9kZSkge1xuLy8gICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzaG9waWZ5OnNlY3Rpb246bG9hZCcsIChldmVudCkgPT4gaW5pdGlhbGl6ZVNjcm9sbEFuaW1hdGlvblRyaWdnZXIoZXZlbnQudGFyZ2V0LCB0cnVlKSk7XG4vLyAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6c2VjdGlvbjpyZW9yZGVyJywgKCkgPT4gaW5pdGlhbGl6ZVNjcm9sbEFuaW1hdGlvblRyaWdnZXIoZG9jdW1lbnQsIHRydWUpKTtcbi8vIH1cbiIsImNsYXNzIENhcnREcmF3ZXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2dCkgPT4gZXZ0LmNvZGUgPT09ICdFc2NhcGUnICYmIHRoaXMuY2xvc2UoKSk7XG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcjQ2FydERyYXdlci1PdmVybGF5JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2V0SGVhZGVyQ2FydEljb25BY2Nlc3NpYmlsaXR5KCk7XG4gIH1cblxuICBzZXRIZWFkZXJDYXJ0SWNvbkFjY2Vzc2liaWxpdHkoKSB7XG4gICAgY29uc3QgY2FydExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY2FydC1pY29uLWJ1YmJsZScpO1xuICAgIGNhcnRMaW5rLnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgICBjYXJ0TGluay5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGFzcG9wdXAnLCAnZGlhbG9nJyk7XG4gICAgY2FydExpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLm9wZW4oY2FydExpbmspO1xuICAgIH0pO1xuICAgIGNhcnRMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5jb2RlLnRvVXBwZXJDYXNlKCkgPT09ICdTUEFDRScpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5vcGVuKGNhcnRMaW5rKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9wZW4odHJpZ2dlcmVkQnkpIHtcbiAgICBpZiAodHJpZ2dlcmVkQnkpIHRoaXMuc2V0QWN0aXZlRWxlbWVudCh0cmlnZ2VyZWRCeSk7XG4gICAgY29uc3QgY2FydERyYXdlck5vdGUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tpZF49XCJEZXRhaWxzLVwiXSBzdW1tYXJ5Jyk7XG4gICAgaWYgKGNhcnREcmF3ZXJOb3RlICYmICFjYXJ0RHJhd2VyTm90ZS5oYXNBdHRyaWJ1dGUoJ3JvbGUnKSkgdGhpcy5zZXRTdW1tYXJ5QWNjZXNzaWJpbGl0eShjYXJ0RHJhd2VyTm90ZSk7XG4gICAgLy8gaGVyZSB0aGUgYW5pbWF0aW9uIGRvZXNuJ3Qgc2VlbSB0byBhbHdheXMgZ2V0IHRyaWdnZXJlZC4gQSB0aW1lb3V0IHNlZW0gdG8gaGVscFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKCdhbmltYXRlJywgJ2FjdGl2ZScpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgKCkgPT4ge1xuICAgICAgICBjb25zdCBjb250YWluZXJUb1RyYXBGb2N1c09uID0gdGhpcy5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWVtcHR5JylcbiAgICAgICAgICA/IHRoaXMucXVlcnlTZWxlY3RvcignLmRyYXdlcl9faW5uZXItZW1wdHknKVxuICAgICAgICAgIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NhcnREcmF3ZXInKTtcbiAgICAgICAgY29uc3QgZm9jdXNFbGVtZW50ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcuZHJhd2VyX19pbm5lcicpIHx8IHRoaXMucXVlcnlTZWxlY3RvcignLmRyYXdlcl9fY2xvc2UnKTtcbiAgICAgICAgdHJhcEZvY3VzKGNvbnRhaW5lclRvVHJhcEZvY3VzT24sIGZvY3VzRWxlbWVudCk7XG4gICAgICB9LFxuICAgICAgeyBvbmNlOiB0cnVlIH1cbiAgICApO1xuXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgcmVtb3ZlVHJhcEZvY3VzKHRoaXMuYWN0aXZlRWxlbWVudCk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgfVxuXG4gIHNldFN1bW1hcnlBY2Nlc3NpYmlsaXR5KGNhcnREcmF3ZXJOb3RlKSB7XG4gICAgY2FydERyYXdlck5vdGUuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgIGNhcnREcmF3ZXJOb3RlLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuXG4gICAgaWYgKGNhcnREcmF3ZXJOb3RlLm5leHRFbGVtZW50U2libGluZy5nZXRBdHRyaWJ1dGUoJ2lkJykpIHtcbiAgICAgIGNhcnREcmF3ZXJOb3RlLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIGNhcnREcmF3ZXJOb3RlLm5leHRFbGVtZW50U2libGluZy5pZCk7XG4gICAgfVxuXG4gICAgY2FydERyYXdlck5vdGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgIWV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnZGV0YWlscycpLmhhc0F0dHJpYnV0ZSgnb3BlbicpKTtcbiAgICB9KTtcblxuICAgIGNhcnREcmF3ZXJOb3RlLnBhcmVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBvbktleVVwRXNjYXBlKTtcbiAgfVxuXG4gIHJlbmRlckNvbnRlbnRzKHBhcnNlZFN0YXRlKSB7XG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcuZHJhd2VyX19pbm5lcicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtZW1wdHknKSAmJlxuICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCcuZHJhd2VyX19pbm5lcicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWVtcHR5Jyk7XG4gICAgdGhpcy5wcm9kdWN0SWQgPSBwYXJzZWRTdGF0ZS5pZDtcbiAgICB0aGlzLmdldFNlY3Rpb25zVG9SZW5kZXIoKS5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICBjb25zdCBzZWN0aW9uRWxlbWVudCA9IHNlY3Rpb24uc2VsZWN0b3JcbiAgICAgICAgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlY3Rpb24uc2VsZWN0b3IpXG4gICAgICAgIDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VjdGlvbi5pZCk7XG4gICAgICBzZWN0aW9uRWxlbWVudC5pbm5lckhUTUwgPSB0aGlzLmdldFNlY3Rpb25Jbm5lckhUTUwocGFyc2VkU3RhdGUuc2VjdGlvbnNbc2VjdGlvbi5pZF0sIHNlY3Rpb24uc2VsZWN0b3IpO1xuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJyNDYXJ0RHJhd2VyLU92ZXJsYXknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldFNlY3Rpb25Jbm5lckhUTUwoaHRtbCwgc2VsZWN0b3IgPSAnLnNob3BpZnktc2VjdGlvbicpIHtcbiAgICByZXR1cm4gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJykucXVlcnlTZWxlY3RvcihzZWxlY3RvcikuaW5uZXJIVE1MO1xuICB9XG5cbiAgZ2V0U2VjdGlvbnNUb1JlbmRlcigpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBpZDogJ2NhcnQtZHJhd2VyJyxcbiAgICAgICAgc2VsZWN0b3I6ICcjQ2FydERyYXdlcicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2NhcnQtaWNvbi1idWJibGUnLFxuICAgICAgfSxcbiAgICBdO1xuICB9XG5cbiAgZ2V0U2VjdGlvbkRPTShodG1sLCBzZWxlY3RvciA9ICcuc2hvcGlmeS1zZWN0aW9uJykge1xuICAgIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGh0bWwsICd0ZXh0L2h0bWwnKS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgfVxuXG4gIHNldEFjdGl2ZUVsZW1lbnQoZWxlbWVudCkge1xuICAgIHRoaXMuYWN0aXZlRWxlbWVudCA9IGVsZW1lbnQ7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjYXJ0LWRyYXdlcicsIENhcnREcmF3ZXIpO1xuXG5jbGFzcyBDYXJ0RHJhd2VySXRlbXMgZXh0ZW5kcyBDYXJ0SXRlbXMge1xuICBnZXRTZWN0aW9uc1RvUmVuZGVyKCkge1xuICAgIHJldHVybiBbXG4gICAgICB7XG4gICAgICAgIGlkOiAnQ2FydERyYXdlcicsXG4gICAgICAgIHNlY3Rpb246ICdjYXJ0LWRyYXdlcicsXG4gICAgICAgIHNlbGVjdG9yOiAnLmRyYXdlcl9faW5uZXInLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdjYXJ0LWljb24tYnViYmxlJyxcbiAgICAgICAgc2VjdGlvbjogJ2NhcnQtaWNvbi1idWJibGUnLFxuICAgICAgICBzZWxlY3RvcjogJy5zaG9waWZ5LXNlY3Rpb24nLFxuICAgICAgfSxcbiAgICBdO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY2FydC1kcmF3ZXItaXRlbXMnLCBDYXJ0RHJhd2VySXRlbXMpO1xuIiwiY2xhc3MgQ2FydE5vdGlmaWNhdGlvbiBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMubm90aWZpY2F0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcnQtbm90aWZpY2F0aW9uJyk7XG4gICAgdGhpcy5oZWFkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzdGlja3ktaGVhZGVyJyk7XG4gICAgdGhpcy5vbkJvZHlDbGljayA9IHRoaXMuaGFuZGxlQm9keUNsaWNrLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLm5vdGlmaWNhdGlvbi5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQpID0+IGV2dC5jb2RlID09PSAnRXNjYXBlJyAmJiB0aGlzLmNsb3NlKCkpO1xuICAgIHRoaXMucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uW3R5cGU9XCJidXR0b25cIl0nKS5mb3JFYWNoKChjbG9zZUJ1dHRvbikgPT5cbiAgICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKVxuICAgICk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMubm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ2FuaW1hdGUnLCAnYWN0aXZlJyk7XG5cbiAgICB0aGlzLm5vdGlmaWNhdGlvbi5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbi5mb2N1cygpO1xuICAgICAgICB0cmFwRm9jdXModGhpcy5ub3RpZmljYXRpb24pO1xuICAgICAgfSxcbiAgICAgIHsgb25jZTogdHJ1ZSB9XG4gICAgKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQm9keUNsaWNrKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMubm90aWZpY2F0aW9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQm9keUNsaWNrKTtcblxuICAgIHJlbW92ZVRyYXBGb2N1cyh0aGlzLmFjdGl2ZUVsZW1lbnQpO1xuICB9XG5cbiAgcmVuZGVyQ29udGVudHMocGFyc2VkU3RhdGUpIHtcbiAgICB0aGlzLmNhcnRJdGVtS2V5ID0gcGFyc2VkU3RhdGUua2V5O1xuICAgIHRoaXMuZ2V0U2VjdGlvbnNUb1JlbmRlcigpLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlY3Rpb24uaWQpLmlubmVySFRNTCA9IHRoaXMuZ2V0U2VjdGlvbklubmVySFRNTChcbiAgICAgICAgcGFyc2VkU3RhdGUuc2VjdGlvbnNbc2VjdGlvbi5pZF0sXG4gICAgICAgIHNlY3Rpb24uc2VsZWN0b3JcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5oZWFkZXIpIHRoaXMuaGVhZGVyLnJldmVhbCgpO1xuICAgIHRoaXMub3BlbigpO1xuICB9XG5cbiAgZ2V0U2VjdGlvbnNUb1JlbmRlcigpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBpZDogJ2NhcnQtbm90aWZpY2F0aW9uLXByb2R1Y3QnLFxuICAgICAgICBzZWxlY3RvcjogYFtpZD1cImNhcnQtbm90aWZpY2F0aW9uLXByb2R1Y3QtJHt0aGlzLmNhcnRJdGVtS2V5fVwiXWAsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2NhcnQtbm90aWZpY2F0aW9uLWJ1dHRvbicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2NhcnQtaWNvbi1idWJibGUnLFxuICAgICAgfSxcbiAgICBdO1xuICB9XG5cbiAgZ2V0U2VjdGlvbklubmVySFRNTChodG1sLCBzZWxlY3RvciA9ICcuc2hvcGlmeS1zZWN0aW9uJykge1xuICAgIHJldHVybiBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGh0bWwsICd0ZXh0L2h0bWwnKS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKS5pbm5lckhUTUw7XG4gIH1cblxuICBoYW5kbGVCb2R5Q2xpY2soZXZ0KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcbiAgICBpZiAodGFyZ2V0ICE9PSB0aGlzLm5vdGlmaWNhdGlvbiAmJiAhdGFyZ2V0LmNsb3Nlc3QoJ2NhcnQtbm90aWZpY2F0aW9uJykpIHtcbiAgICAgIGNvbnN0IGRpc2Nsb3N1cmUgPSB0YXJnZXQuY2xvc2VzdCgnZGV0YWlscy1kaXNjbG9zdXJlLCBoZWFkZXItbWVudScpO1xuICAgICAgdGhpcy5hY3RpdmVFbGVtZW50ID0gZGlzY2xvc3VyZSA/IGRpc2Nsb3N1cmUucXVlcnlTZWxlY3Rvcignc3VtbWFyeScpIDogbnVsbDtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRBY3RpdmVFbGVtZW50KGVsZW1lbnQpIHtcbiAgICB0aGlzLmFjdGl2ZUVsZW1lbnQgPSBlbGVtZW50O1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY2FydC1ub3RpZmljYXRpb24nLCBDYXJ0Tm90aWZpY2F0aW9uKTtcbiIsImNsYXNzIENhcnRSZW1vdmVCdXR0b24gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cbmNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGNhcnRJdGVtcyA9IHRoaXMuY2xvc2VzdCgnY2FydC1pdGVtcycpIHx8IHRoaXMuY2xvc2VzdCgnY2FydC1kcmF3ZXItaXRlbXMnKTtcbiAgICAgIGNhcnRJdGVtcy51cGRhdGVRdWFudGl0eSh0aGlzLmRhdGFzZXQuaW5kZXgsIDApO1xuICAgIH0pO2FhYWFcbiAgfVxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdjYXJ0LXJlbW92ZS1idXR0b24nLCBDYXJ0UmVtb3ZlQnV0dG9uKTtcblxuY2xhc3MgQ2FydEl0ZW1zIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubGluZUl0ZW1TdGF0dXNFbGVtZW50ID1cbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzaG9wcGluZy1jYXJ0LWxpbmUtaXRlbS1zdGF0dXMnKSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ2FydERyYXdlci1MaW5lSXRlbVN0YXR1cycpO1xuXG4gICAgY29uc3QgZGVib3VuY2VkT25DaGFuZ2UgPSBkZWJvdW5jZSgoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMub25DaGFuZ2UoZXZlbnQpO1xuICAgIH0sIE9OX0NIQU5HRV9ERUJPVU5DRV9USU1FUik7XG5cbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGRlYm91bmNlZE9uQ2hhbmdlLmJpbmQodGhpcykpO1xuICB9XG5cbiAgY2FydFVwZGF0ZVVuc3Vic2NyaWJlciA9IHVuZGVmaW5lZDtcblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLmNhcnRVcGRhdGVVbnN1YnNjcmliZXIgPSBzdWJzY3JpYmUoUFVCX1NVQl9FVkVOVFMuY2FydFVwZGF0ZSwgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoZXZlbnQuc291cmNlID09PSAnY2FydC1pdGVtcycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5vbkNhcnRVcGRhdGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICh0aGlzLmNhcnRVcGRhdGVVbnN1YnNjcmliZXIpIHtcbiAgICAgIHRoaXMuY2FydFVwZGF0ZVVuc3Vic2NyaWJlcigpO1xuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy51cGRhdGVRdWFudGl0eShldmVudC50YXJnZXQuZGF0YXNldC5pbmRleCwgZXZlbnQudGFyZ2V0LnZhbHVlLCBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmdldEF0dHJpYnV0ZSgnbmFtZScpKTtcbiAgfVxuXG4gIG9uQ2FydFVwZGF0ZSgpIHtcbiAgICBmZXRjaChgJHtyb3V0ZXMuY2FydF91cmx9P3NlY3Rpb25faWQ9bWFpbi1jYXJ0LWl0ZW1zYClcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlVGV4dCkgPT4ge1xuICAgICAgICBjb25zdCBodG1sID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZVRleHQsICd0ZXh0L2h0bWwnKTtcbiAgICAgICAgY29uc3Qgc291cmNlUXR5ID0gaHRtbC5xdWVyeVNlbGVjdG9yKCdjYXJ0LWl0ZW1zJyk7XG4gICAgICAgIHRoaXMuaW5uZXJIVE1MID0gc291cmNlUXR5LmlubmVySFRNTDtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZ2V0U2VjdGlvbnNUb1JlbmRlcigpIHtcbiAgICByZXR1cm4gW1xuICAgICAge1xuICAgICAgICBpZDogJ21haW4tY2FydC1pdGVtcycsXG4gICAgICAgIHNlY3Rpb246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLWNhcnQtaXRlbXMnKS5kYXRhc2V0LmlkLFxuICAgICAgICBzZWxlY3RvcjogJy5qcy1jb250ZW50cycsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2NhcnQtaWNvbi1idWJibGUnLFxuICAgICAgICBzZWN0aW9uOiAnY2FydC1pY29uLWJ1YmJsZScsXG4gICAgICAgIHNlbGVjdG9yOiAnLnNob3BpZnktc2VjdGlvbicsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBpZDogJ2NhcnQtbGl2ZS1yZWdpb24tdGV4dCcsXG4gICAgICAgIHNlY3Rpb246ICdjYXJ0LWxpdmUtcmVnaW9uLXRleHQnLFxuICAgICAgICBzZWxlY3RvcjogJy5zaG9waWZ5LXNlY3Rpb24nLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgaWQ6ICdtYWluLWNhcnQtZm9vdGVyJyxcbiAgICAgICAgc2VjdGlvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tY2FydC1mb290ZXInKS5kYXRhc2V0LmlkLFxuICAgICAgICBzZWxlY3RvcjogJy5qcy1jb250ZW50cycsXG4gICAgICB9LFxuICAgIF07XG4gIH1cblxuICB1cGRhdGVRdWFudGl0eShsaW5lLCBxdWFudGl0eSwgbmFtZSkge1xuICAgIHRoaXMuZW5hYmxlTG9hZGluZyhsaW5lKTtcblxuICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBsaW5lLFxuICAgICAgcXVhbnRpdHksXG4gICAgICBzZWN0aW9uczogdGhpcy5nZXRTZWN0aW9uc1RvUmVuZGVyKCkubWFwKChzZWN0aW9uKSA9PiBzZWN0aW9uLnNlY3Rpb24pLFxuICAgICAgc2VjdGlvbnNfdXJsOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsXG4gICAgfSk7XG5cbiAgICBmZXRjaChgJHtyb3V0ZXMuY2FydF9jaGFuZ2VfdXJsfWAsIHsgLi4uZmV0Y2hDb25maWcoKSwgLi4ueyBib2R5IH0gfSlcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChzdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBwYXJzZWRTdGF0ZSA9IEpTT04ucGFyc2Uoc3RhdGUpO1xuICAgICAgICBjb25zdCBxdWFudGl0eUVsZW1lbnQgPVxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBRdWFudGl0eS0ke2xpbmV9YCkgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYERyYXdlci1xdWFudGl0eS0ke2xpbmV9YCk7XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcnQtaXRlbScpO1xuXG4gICAgICAgIGlmIChwYXJzZWRTdGF0ZS5lcnJvcnMpIHtcbiAgICAgICAgICBxdWFudGl0eUVsZW1lbnQudmFsdWUgPSBxdWFudGl0eUVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgICAgIHRoaXMudXBkYXRlTGl2ZVJlZ2lvbnMobGluZSwgcGFyc2VkU3RhdGUuZXJyb3JzKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWVtcHR5JywgcGFyc2VkU3RhdGUuaXRlbV9jb3VudCA9PT0gMCk7XG4gICAgICAgIGNvbnN0IGNhcnREcmF3ZXJXcmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FydC1kcmF3ZXInKTtcbiAgICAgICAgY29uc3QgY2FydEZvb3RlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLWNhcnQtZm9vdGVyJyk7XG5cbiAgICAgICAgaWYgKGNhcnRGb290ZXIpIGNhcnRGb290ZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtZW1wdHknLCBwYXJzZWRTdGF0ZS5pdGVtX2NvdW50ID09PSAwKTtcbiAgICAgICAgaWYgKGNhcnREcmF3ZXJXcmFwcGVyKSBjYXJ0RHJhd2VyV3JhcHBlci5jbGFzc0xpc3QudG9nZ2xlKCdpcy1lbXB0eScsIHBhcnNlZFN0YXRlLml0ZW1fY291bnQgPT09IDApO1xuXG4gICAgICAgIHRoaXMuZ2V0U2VjdGlvbnNUb1JlbmRlcigpLmZvckVhY2goKHNlY3Rpb24pID0+IHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50VG9SZXBsYWNlID1cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNlY3Rpb24uaWQpLnF1ZXJ5U2VsZWN0b3Ioc2VjdGlvbi5zZWxlY3RvcikgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VjdGlvbi5pZCk7XG4gICAgICAgICAgZWxlbWVudFRvUmVwbGFjZS5pbm5lckhUTUwgPSB0aGlzLmdldFNlY3Rpb25Jbm5lckhUTUwoXG4gICAgICAgICAgICBwYXJzZWRTdGF0ZS5zZWN0aW9uc1tzZWN0aW9uLnNlY3Rpb25dLFxuICAgICAgICAgICAgc2VjdGlvbi5zZWxlY3RvclxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCB1cGRhdGVkVmFsdWUgPSBwYXJzZWRTdGF0ZS5pdGVtc1tsaW5lIC0gMV0gPyBwYXJzZWRTdGF0ZS5pdGVtc1tsaW5lIC0gMV0ucXVhbnRpdHkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBtZXNzYWdlID0gJyc7XG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPT09IHBhcnNlZFN0YXRlLml0ZW1zLmxlbmd0aCAmJiB1cGRhdGVkVmFsdWUgIT09IHBhcnNlSW50KHF1YW50aXR5RWxlbWVudC52YWx1ZSkpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIHVwZGF0ZWRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB3aW5kb3cuY2FydFN0cmluZ3MuZXJyb3I7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSB3aW5kb3cuY2FydFN0cmluZ3MucXVhbnRpdHlFcnJvci5yZXBsYWNlKCdbcXVhbnRpdHldJywgdXBkYXRlZFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51cGRhdGVMaXZlUmVnaW9ucyhsaW5lLCBtZXNzYWdlKTtcblxuICAgICAgICBjb25zdCBsaW5lSXRlbSA9XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYENhcnRJdGVtLSR7bGluZX1gKSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgQ2FydERyYXdlci1JdGVtLSR7bGluZX1gKTtcbiAgICAgICAgaWYgKGxpbmVJdGVtICYmIGxpbmVJdGVtLnF1ZXJ5U2VsZWN0b3IoYFtuYW1lPVwiJHtuYW1lfVwiXWApKSB7XG4gICAgICAgICAgY2FydERyYXdlcldyYXBwZXJcbiAgICAgICAgICAgID8gdHJhcEZvY3VzKGNhcnREcmF3ZXJXcmFwcGVyLCBsaW5lSXRlbS5xdWVyeVNlbGVjdG9yKGBbbmFtZT1cIiR7bmFtZX1cIl1gKSlcbiAgICAgICAgICAgIDogbGluZUl0ZW0ucXVlcnlTZWxlY3RvcihgW25hbWU9XCIke25hbWV9XCJdYCkuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChwYXJzZWRTdGF0ZS5pdGVtX2NvdW50ID09PSAwICYmIGNhcnREcmF3ZXJXcmFwcGVyKSB7XG4gICAgICAgICAgdHJhcEZvY3VzKGNhcnREcmF3ZXJXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5kcmF3ZXJfX2lubmVyLWVtcHR5JyksIGNhcnREcmF3ZXJXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ2EnKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcnQtaXRlbScpICYmIGNhcnREcmF3ZXJXcmFwcGVyKSB7XG4gICAgICAgICAgdHJhcEZvY3VzKGNhcnREcmF3ZXJXcmFwcGVyLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FydC1pdGVtX19uYW1lJykpO1xuICAgICAgICB9XG4gICAgICAgIHB1Ymxpc2goUFVCX1NVQl9FVkVOVFMuY2FydFVwZGF0ZSwgeyBzb3VyY2U6ICdjYXJ0LWl0ZW1zJyB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5sb2FkaW5nLW92ZXJsYXknKS5mb3JFYWNoKChvdmVybGF5KSA9PiBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpKTtcbiAgICAgICAgY29uc3QgZXJyb3JzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcnQtZXJyb3JzJykgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NhcnREcmF3ZXItQ2FydEVycm9ycycpO1xuICAgICAgICBlcnJvcnMudGV4dENvbnRlbnQgPSB3aW5kb3cuY2FydFN0cmluZ3MuZXJyb3I7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICB0aGlzLmRpc2FibGVMb2FkaW5nKGxpbmUpO1xuICAgICAgfSk7XG4gIH1cblxuICB1cGRhdGVMaXZlUmVnaW9ucyhsaW5lLCBtZXNzYWdlKSB7XG4gICAgY29uc3QgbGluZUl0ZW1FcnJvciA9XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgTGluZS1pdGVtLWVycm9yLSR7bGluZX1gKSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgQ2FydERyYXdlci1MaW5lSXRlbUVycm9yLSR7bGluZX1gKTtcbiAgICBpZiAobGluZUl0ZW1FcnJvcikgbGluZUl0ZW1FcnJvci5xdWVyeVNlbGVjdG9yKCcuY2FydC1pdGVtX19lcnJvci10ZXh0JykuaW5uZXJIVE1MID0gbWVzc2FnZTtcblxuICAgIHRoaXMubGluZUl0ZW1TdGF0dXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcblxuICAgIGNvbnN0IGNhcnRTdGF0dXMgPVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcnQtbGl2ZS1yZWdpb24tdGV4dCcpIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdDYXJ0RHJhd2VyLUxpdmVSZWdpb25UZXh0Jyk7XG4gICAgY2FydFN0YXR1cy5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgZmFsc2UpO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjYXJ0U3RhdHVzLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCB0cnVlKTtcbiAgICB9LCAxMDAwKTtcbiAgfVxuXG4gIGdldFNlY3Rpb25Jbm5lckhUTUwoaHRtbCwgc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJykucXVlcnlTZWxlY3RvcihzZWxlY3RvcikuaW5uZXJIVE1MO1xuICB9XG5cbiAgZW5hYmxlTG9hZGluZyhsaW5lKSB7XG4gICAgY29uc3QgbWFpbkNhcnRJdGVtcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluLWNhcnQtaXRlbXMnKSB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnQ2FydERyYXdlci1DYXJ0SXRlbXMnKTtcbiAgICBtYWluQ2FydEl0ZW1zLmNsYXNzTGlzdC5hZGQoJ2NhcnRfX2l0ZW1zLS1kaXNhYmxlZCcpO1xuXG4gICAgY29uc3QgY2FydEl0ZW1FbGVtZW50cyA9IHRoaXMucXVlcnlTZWxlY3RvckFsbChgI0NhcnRJdGVtLSR7bGluZX0gLmxvYWRpbmctb3ZlcmxheWApO1xuICAgIGNvbnN0IGNhcnREcmF3ZXJJdGVtRWxlbWVudHMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoYCNDYXJ0RHJhd2VyLUl0ZW0tJHtsaW5lfSAubG9hZGluZy1vdmVybGF5YCk7XG5cbiAgICBbLi4uY2FydEl0ZW1FbGVtZW50cywgLi4uY2FydERyYXdlckl0ZW1FbGVtZW50c10uZm9yRWFjaCgob3ZlcmxheSkgPT4gb3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKSk7XG5cbiAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKTtcbiAgICB0aGlzLmxpbmVJdGVtU3RhdHVzRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgZmFsc2UpO1xuICB9XG5cbiAgZGlzYWJsZUxvYWRpbmcobGluZSkge1xuICAgIGNvbnN0IG1haW5DYXJ0SXRlbXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFpbi1jYXJ0LWl0ZW1zJykgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0NhcnREcmF3ZXItQ2FydEl0ZW1zJyk7XG4gICAgbWFpbkNhcnRJdGVtcy5jbGFzc0xpc3QucmVtb3ZlKCdjYXJ0X19pdGVtcy0tZGlzYWJsZWQnKTtcblxuICAgIGNvbnN0IGNhcnRJdGVtRWxlbWVudHMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoYCNDYXJ0SXRlbS0ke2xpbmV9IC5sb2FkaW5nLW92ZXJsYXlgKTtcbiAgICBjb25zdCBjYXJ0RHJhd2VySXRlbUVsZW1lbnRzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKGAjQ2FydERyYXdlci1JdGVtLSR7bGluZX0gLmxvYWRpbmctb3ZlcmxheWApO1xuXG4gICAgY2FydEl0ZW1FbGVtZW50cy5mb3JFYWNoKChvdmVybGF5KSA9PiBvdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpKTtcbiAgICBjYXJ0RHJhd2VySXRlbUVsZW1lbnRzLmZvckVhY2goKG92ZXJsYXkpID0+IG92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJykpO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnY2FydC1pdGVtcycsIENhcnRJdGVtcyk7XG5cbmlmICghY3VzdG9tRWxlbWVudHMuZ2V0KCdjYXJ0LW5vdGUnKSkge1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoXG4gICAgJ2NhcnQtbm90ZScsXG4gICAgY2xhc3MgQ2FydE5vdGUgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgJ2NoYW5nZScsXG4gICAgICAgICAgZGVib3VuY2UoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyBub3RlOiBldmVudC50YXJnZXQudmFsdWUgfSk7XG4gICAgICAgICAgICBmZXRjaChgJHtyb3V0ZXMuY2FydF91cGRhdGVfdXJsfWAsIHsgLi4uZmV0Y2hDb25maWcoKSwgLi4ueyBib2R5IH0gfSk7XG4gICAgICAgICAgfSwgT05fQ0hBTkdFX0RFQk9VTkNFX1RJTUVSKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbiIsImNsYXNzIERldGFpbHNEaXNjbG9zdXJlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2RldGFpbHMnKTtcbiAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLm1haW5EZXRhaWxzVG9nZ2xlLnF1ZXJ5U2VsZWN0b3IoJ3N1bW1hcnknKS5uZXh0RWxlbWVudFNpYmxpbmc7XG5cbiAgICB0aGlzLm1haW5EZXRhaWxzVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5vbkZvY3VzT3V0LmJpbmQodGhpcykpO1xuICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcigndG9nZ2xlJywgdGhpcy5vblRvZ2dsZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIG9uRm9jdXNPdXQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uVG9nZ2xlKCkge1xuICAgIGlmICghdGhpcy5hbmltYXRpb25zKSB0aGlzLmFuaW1hdGlvbnMgPSB0aGlzLmNvbnRlbnQuZ2V0QW5pbWF0aW9ucygpO1xuXG4gICAgaWYgKHRoaXMubWFpbkRldGFpbHNUb2dnbGUuaGFzQXR0cmlidXRlKCdvcGVuJykpIHtcbiAgICAgIHRoaXMuYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24pID0+IGFuaW1hdGlvbi5wbGF5KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFuaW1hdGlvbnMuZm9yRWFjaCgoYW5pbWF0aW9uKSA9PiBhbmltYXRpb24uY2FuY2VsKCkpO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGUucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XG4gICAgdGhpcy5tYWluRGV0YWlsc1RvZ2dsZS5xdWVyeVNlbGVjdG9yKCdzdW1tYXJ5Jykuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZGV0YWlscy1kaXNjbG9zdXJlJywgRGV0YWlsc0Rpc2Nsb3N1cmUpO1xuXG5jbGFzcyBIZWFkZXJNZW51IGV4dGVuZHMgRGV0YWlsc0Rpc2Nsb3N1cmUge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlci13cmFwcGVyJyk7XG4gIH1cblxuICBvblRvZ2dsZSgpIHtcbiAgICBpZiAoIXRoaXMuaGVhZGVyKSByZXR1cm47XG4gICAgdGhpcy5oZWFkZXIucHJldmVudEhpZGUgPSB0aGlzLm1haW5EZXRhaWxzVG9nZ2xlLm9wZW47XG5cbiAgICBpZiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmdldFByb3BlcnR5VmFsdWUoJy0taGVhZGVyLWJvdHRvbS1wb3NpdGlvbi1kZXNrdG9wJykgIT09ICcnKSByZXR1cm47XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgJy0taGVhZGVyLWJvdHRvbS1wb3NpdGlvbi1kZXNrdG9wJyxcbiAgICAgIGAke01hdGguZmxvb3IodGhpcy5oZWFkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKX1weGBcbiAgICApO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnaGVhZGVyLW1lbnUnLCBIZWFkZXJNZW51KTtcbiIsImNsYXNzIERldGFpbHNNb2RhbCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmRldGFpbHNDb250YWluZXIgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2RldGFpbHMnKTtcbiAgICB0aGlzLnN1bW1hcnlUb2dnbGUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3N1bW1hcnknKTtcblxuICAgIHRoaXMuZGV0YWlsc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4gZXZlbnQuY29kZS50b1VwcGVyQ2FzZSgpID09PSAnRVNDQVBFJyAmJiB0aGlzLmNsb3NlKCkpO1xuICAgIHRoaXMuc3VtbWFyeVRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25TdW1tYXJ5Q2xpY2suYmluZCh0aGlzKSk7XG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdidXR0b25bdHlwZT1cImJ1dHRvblwiXScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuc3VtbWFyeVRvZ2dsZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYnV0dG9uJyk7XG4gIH1cblxuICBpc09wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuZGV0YWlsc0NvbnRhaW5lci5oYXNBdHRyaWJ1dGUoJ29wZW4nKTtcbiAgfVxuXG4gIG9uU3VtbWFyeUNsaWNrKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC50YXJnZXQuY2xvc2VzdCgnZGV0YWlscycpLmhhc0F0dHJpYnV0ZSgnb3BlbicpID8gdGhpcy5jbG9zZSgpIDogdGhpcy5vcGVuKGV2ZW50KTtcbiAgfVxuXG4gIG9uQm9keUNsaWNrKGV2ZW50KSB7XG4gICAgaWYgKCF0aGlzLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkgfHwgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWwtb3ZlcmxheScpKSB0aGlzLmNsb3NlKGZhbHNlKTtcbiAgfVxuXG4gIG9wZW4oZXZlbnQpIHtcbiAgICB0aGlzLm9uQm9keUNsaWNrRXZlbnQgPSB0aGlzLm9uQm9keUNsaWNrRXZlbnQgfHwgdGhpcy5vbkJvZHlDbGljay5iaW5kKHRoaXMpO1xuICAgIGV2ZW50LnRhcmdldC5jbG9zZXN0KCdkZXRhaWxzJykuc2V0QXR0cmlidXRlKCdvcGVuJywgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25Cb2R5Q2xpY2tFdmVudCk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcblxuICAgIHRyYXBGb2N1cyhcbiAgICAgIHRoaXMuZGV0YWlsc0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbdGFiaW5kZXg9XCItMVwiXScpLFxuICAgICAgdGhpcy5kZXRhaWxzQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Om5vdChbdHlwZT1cImhpZGRlblwiXSknKVxuICAgICk7XG4gIH1cblxuICBjbG9zZShmb2N1c1RvZ2dsZSA9IHRydWUpIHtcbiAgICByZW1vdmVUcmFwRm9jdXMoZm9jdXNUb2dnbGUgPyB0aGlzLnN1bW1hcnlUb2dnbGUgOiBudWxsKTtcbiAgICB0aGlzLmRldGFpbHNDb250YWluZXIucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25Cb2R5Q2xpY2tFdmVudCk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2RldGFpbHMtbW9kYWwnLCBEZXRhaWxzTW9kYWwpO1xuIiwiY2xhc3MgRmFjZXRGaWx0ZXJzRm9ybSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9uQWN0aXZlRmlsdGVyQ2xpY2sgPSB0aGlzLm9uQWN0aXZlRmlsdGVyQ2xpY2suYmluZCh0aGlzKTtcblxuICAgIHRoaXMuZGVib3VuY2VkT25TdWJtaXQgPSBkZWJvdW5jZSgoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMub25TdWJtaXRIYW5kbGVyKGV2ZW50KTtcbiAgICB9LCA1MDApO1xuXG4gICAgY29uc3QgZmFjZXRGb3JtID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgZmFjZXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5kZWJvdW5jZWRPblN1Ym1pdC5iaW5kKHRoaXMpKTtcblxuICAgIGNvbnN0IGZhY2V0V3JhcHBlciA9IHRoaXMucXVlcnlTZWxlY3RvcignI0ZhY2V0c1dyYXBwZXJEZXNrdG9wJyk7XG4gICAgaWYgKGZhY2V0V3JhcHBlcikgZmFjZXRXcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgb25LZXlVcEVzY2FwZSk7XG4gIH1cblxuICBzdGF0aWMgc2V0TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IG9uSGlzdG9yeUNoYW5nZSA9IChldmVudCkgPT4ge1xuICAgICAgY29uc3Qgc2VhcmNoUGFyYW1zID0gZXZlbnQuc3RhdGUgPyBldmVudC5zdGF0ZS5zZWFyY2hQYXJhbXMgOiBGYWNldEZpbHRlcnNGb3JtLnNlYXJjaFBhcmFtc0luaXRpYWw7XG4gICAgICBpZiAoc2VhcmNoUGFyYW1zID09PSBGYWNldEZpbHRlcnNGb3JtLnNlYXJjaFBhcmFtc1ByZXYpIHJldHVybjtcbiAgICAgIEZhY2V0RmlsdGVyc0Zvcm0ucmVuZGVyUGFnZShzZWFyY2hQYXJhbXMsIG51bGwsIGZhbHNlKTtcbiAgICB9O1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIG9uSGlzdG9yeUNoYW5nZSk7XG4gIH1cblxuICBzdGF0aWMgdG9nZ2xlQWN0aXZlRmFjZXRzKGRpc2FibGUgPSB0cnVlKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWZhY2V0LXJlbW92ZScpLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnZGlzYWJsZWQnLCBkaXNhYmxlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyByZW5kZXJQYWdlKHNlYXJjaFBhcmFtcywgZXZlbnQsIHVwZGF0ZVVSTEhhc2ggPSB0cnVlKSB7XG4gICAgRmFjZXRGaWx0ZXJzRm9ybS5zZWFyY2hQYXJhbXNQcmV2ID0gc2VhcmNoUGFyYW1zO1xuICAgIGNvbnN0IHNlY3Rpb25zID0gRmFjZXRGaWx0ZXJzRm9ybS5nZXRTZWN0aW9ucygpO1xuICAgIGNvbnN0IGNvdW50Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Byb2R1Y3RDb3VudCcpO1xuICAgIGNvbnN0IGNvdW50Q29udGFpbmVyRGVza3RvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQcm9kdWN0Q291bnREZXNrdG9wJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Byb2R1Y3RHcmlkQ29udGFpbmVyJykucXVlcnlTZWxlY3RvcignLmNvbGxlY3Rpb24nKS5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XG4gICAgaWYgKGNvdW50Q29udGFpbmVyKSB7XG4gICAgICBjb3VudENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XG4gICAgfVxuICAgIGlmIChjb3VudENvbnRhaW5lckRlc2t0b3ApIHtcbiAgICAgIGNvdW50Q29udGFpbmVyRGVza3RvcC5jbGFzc0xpc3QuYWRkKCdsb2FkaW5nJyk7XG4gICAgfVxuXG4gICAgc2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgY29uc3QgdXJsID0gYCR7d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfT9zZWN0aW9uX2lkPSR7c2VjdGlvbi5zZWN0aW9ufSYke3NlYXJjaFBhcmFtc31gO1xuICAgICAgY29uc3QgZmlsdGVyRGF0YVVybCA9IChlbGVtZW50KSA9PiBlbGVtZW50LnVybCA9PT0gdXJsO1xuXG4gICAgICBGYWNldEZpbHRlcnNGb3JtLmZpbHRlckRhdGEuc29tZShmaWx0ZXJEYXRhVXJsKVxuICAgICAgICA/IEZhY2V0RmlsdGVyc0Zvcm0ucmVuZGVyU2VjdGlvbkZyb21DYWNoZShmaWx0ZXJEYXRhVXJsLCBldmVudClcbiAgICAgICAgOiBGYWNldEZpbHRlcnNGb3JtLnJlbmRlclNlY3Rpb25Gcm9tRmV0Y2godXJsLCBldmVudCk7XG4gICAgfSk7XG5cbiAgICBpZiAodXBkYXRlVVJMSGFzaCkgRmFjZXRGaWx0ZXJzRm9ybS51cGRhdGVVUkxIYXNoKHNlYXJjaFBhcmFtcyk7XG4gIH1cblxuICBzdGF0aWMgcmVuZGVyU2VjdGlvbkZyb21GZXRjaCh1cmwsIGV2ZW50KSB7XG4gICAgZmV0Y2godXJsKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS50ZXh0KCkpXG4gICAgICAudGhlbigocmVzcG9uc2VUZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IGh0bWwgPSByZXNwb25zZVRleHQ7XG4gICAgICAgIEZhY2V0RmlsdGVyc0Zvcm0uZmlsdGVyRGF0YSA9IFsuLi5GYWNldEZpbHRlcnNGb3JtLmZpbHRlckRhdGEsIHsgaHRtbCwgdXJsIH1dO1xuICAgICAgICBGYWNldEZpbHRlcnNGb3JtLnJlbmRlckZpbHRlcnMoaHRtbCwgZXZlbnQpO1xuICAgICAgICBGYWNldEZpbHRlcnNGb3JtLnJlbmRlclByb2R1Y3RHcmlkQ29udGFpbmVyKGh0bWwpO1xuICAgICAgICBGYWNldEZpbHRlcnNGb3JtLnJlbmRlclByb2R1Y3RDb3VudChodG1sKTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbml0aWFsaXplU2Nyb2xsQW5pbWF0aW9uVHJpZ2dlciA9PT0gJ2Z1bmN0aW9uJykgaW5pdGlhbGl6ZVNjcm9sbEFuaW1hdGlvblRyaWdnZXIoaHRtbC5pbm5lckhUTUwpO1xuICAgICAgfSk7XG4gIH1cblxuICBzdGF0aWMgcmVuZGVyU2VjdGlvbkZyb21DYWNoZShmaWx0ZXJEYXRhVXJsLCBldmVudCkge1xuICAgIGNvbnN0IGh0bWwgPSBGYWNldEZpbHRlcnNGb3JtLmZpbHRlckRhdGEuZmluZChmaWx0ZXJEYXRhVXJsKS5odG1sO1xuICAgIEZhY2V0RmlsdGVyc0Zvcm0ucmVuZGVyRmlsdGVycyhodG1sLCBldmVudCk7XG4gICAgRmFjZXRGaWx0ZXJzRm9ybS5yZW5kZXJQcm9kdWN0R3JpZENvbnRhaW5lcihodG1sKTtcbiAgICBGYWNldEZpbHRlcnNGb3JtLnJlbmRlclByb2R1Y3RDb3VudChodG1sKTtcbiAgICBpZiAodHlwZW9mIGluaXRpYWxpemVTY3JvbGxBbmltYXRpb25UcmlnZ2VyID09PSAnZnVuY3Rpb24nKSBpbml0aWFsaXplU2Nyb2xsQW5pbWF0aW9uVHJpZ2dlcihodG1sLmlubmVySFRNTCk7XG4gIH1cblxuICBzdGF0aWMgcmVuZGVyUHJvZHVjdEdyaWRDb250YWluZXIoaHRtbCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdQcm9kdWN0R3JpZENvbnRhaW5lcicpLmlubmVySFRNTCA9IG5ldyBET01QYXJzZXIoKVxuICAgICAgLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJylcbiAgICAgIC5nZXRFbGVtZW50QnlJZCgnUHJvZHVjdEdyaWRDb250YWluZXInKS5pbm5lckhUTUw7XG5cbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKCdQcm9kdWN0R3JpZENvbnRhaW5lcicpXG4gICAgICAucXVlcnlTZWxlY3RvckFsbCgnLnNjcm9sbC10cmlnZ2VyJylcbiAgICAgIC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsLXRyaWdnZXItLWNhbmNlbCcpO1xuICAgICAgfSk7XG4gIH1cblxuICBzdGF0aWMgcmVuZGVyUHJvZHVjdENvdW50KGh0bWwpIHtcbiAgICBjb25zdCBjb3VudCA9IG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoaHRtbCwgJ3RleHQvaHRtbCcpLmdldEVsZW1lbnRCeUlkKCdQcm9kdWN0Q291bnQnKS5pbm5lckhUTUw7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ1Byb2R1Y3RDb3VudCcpO1xuICAgIGNvbnN0IGNvbnRhaW5lckRlc2t0b3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnUHJvZHVjdENvdW50RGVza3RvcCcpO1xuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBjb3VudDtcbiAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xuICAgIGlmIChjb250YWluZXJEZXNrdG9wKSB7XG4gICAgICBjb250YWluZXJEZXNrdG9wLmlubmVySFRNTCA9IGNvdW50O1xuICAgICAgY29udGFpbmVyRGVza3RvcC5jbGFzc0xpc3QucmVtb3ZlKCdsb2FkaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHJlbmRlckZpbHRlcnMoaHRtbCwgZXZlbnQpIHtcbiAgICBjb25zdCBwYXJzZWRIVE1MID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhodG1sLCAndGV4dC9odG1sJyk7XG5cbiAgICBjb25zdCBmYWNldERldGFpbHNFbGVtZW50cyA9IHBhcnNlZEhUTUwucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICcjRmFjZXRGaWx0ZXJzRm9ybSAuanMtZmlsdGVyLCAjRmFjZXRGaWx0ZXJzRm9ybU1vYmlsZSAuanMtZmlsdGVyLCAjRmFjZXRGaWx0ZXJzUGlsbHNGb3JtIC5qcy1maWx0ZXInXG4gICAgKTtcbiAgICBjb25zdCBtYXRjaGVzSW5kZXggPSAoZWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QganNGaWx0ZXIgPSBldmVudCA/IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuanMtZmlsdGVyJykgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4ganNGaWx0ZXIgPyBlbGVtZW50LmRhdGFzZXQuaW5kZXggPT09IGpzRmlsdGVyLmRhdGFzZXQuaW5kZXggOiBmYWxzZTtcbiAgICB9O1xuICAgIGNvbnN0IGZhY2V0c1RvUmVuZGVyID0gQXJyYXkuZnJvbShmYWNldERldGFpbHNFbGVtZW50cykuZmlsdGVyKChlbGVtZW50KSA9PiAhbWF0Y2hlc0luZGV4KGVsZW1lbnQpKTtcbiAgICBjb25zdCBjb3VudHNUb1JlbmRlciA9IEFycmF5LmZyb20oZmFjZXREZXRhaWxzRWxlbWVudHMpLmZpbmQobWF0Y2hlc0luZGV4KTtcblxuICAgIGZhY2V0c1RvUmVuZGVyLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5qcy1maWx0ZXJbZGF0YS1pbmRleD1cIiR7ZWxlbWVudC5kYXRhc2V0LmluZGV4fVwiXWApLmlubmVySFRNTCA9IGVsZW1lbnQuaW5uZXJIVE1MO1xuICAgIH0pO1xuXG4gICAgRmFjZXRGaWx0ZXJzRm9ybS5yZW5kZXJBY3RpdmVGYWNldHMocGFyc2VkSFRNTCk7XG4gICAgRmFjZXRGaWx0ZXJzRm9ybS5yZW5kZXJBZGRpdGlvbmFsRWxlbWVudHMocGFyc2VkSFRNTCk7XG5cbiAgICBpZiAoY291bnRzVG9SZW5kZXIpIEZhY2V0RmlsdGVyc0Zvcm0ucmVuZGVyQ291bnRzKGNvdW50c1RvUmVuZGVyLCBldmVudC50YXJnZXQuY2xvc2VzdCgnLmpzLWZpbHRlcicpKTtcbiAgfVxuXG4gIHN0YXRpYyByZW5kZXJBY3RpdmVGYWNldHMoaHRtbCkge1xuICAgIGNvbnN0IGFjdGl2ZUZhY2V0RWxlbWVudFNlbGVjdG9ycyA9IFsnLmFjdGl2ZS1mYWNldHMtbW9iaWxlJywgJy5hY3RpdmUtZmFjZXRzLWRlc2t0b3AnXTtcblxuICAgIGFjdGl2ZUZhY2V0RWxlbWVudFNlbGVjdG9ycy5mb3JFYWNoKChzZWxlY3RvcikgPT4ge1xuICAgICAgY29uc3QgYWN0aXZlRmFjZXRzRWxlbWVudCA9IGh0bWwucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICBpZiAoIWFjdGl2ZUZhY2V0c0VsZW1lbnQpIHJldHVybjtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLmlubmVySFRNTCA9IGFjdGl2ZUZhY2V0c0VsZW1lbnQuaW5uZXJIVE1MO1xuICAgIH0pO1xuXG4gICAgRmFjZXRGaWx0ZXJzRm9ybS50b2dnbGVBY3RpdmVGYWNldHMoZmFsc2UpO1xuICB9XG5cbiAgc3RhdGljIHJlbmRlckFkZGl0aW9uYWxFbGVtZW50cyhodG1sKSB7XG4gICAgY29uc3QgbW9iaWxlRWxlbWVudFNlbGVjdG9ycyA9IFsnLm1vYmlsZS1mYWNldHNfX29wZW4nLCAnLm1vYmlsZS1mYWNldHNfX2NvdW50JywgJy5zb3J0aW5nJ107XG5cbiAgICBtb2JpbGVFbGVtZW50U2VsZWN0b3JzLmZvckVhY2goKHNlbGVjdG9yKSA9PiB7XG4gICAgICBpZiAoIWh0bWwucXVlcnlTZWxlY3RvcihzZWxlY3RvcikpIHJldHVybjtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpLmlubmVySFRNTCA9IGh0bWwucXVlcnlTZWxlY3RvcihzZWxlY3RvcikuaW5uZXJIVE1MO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ0ZhY2V0RmlsdGVyc0Zvcm1Nb2JpbGUnKS5jbG9zZXN0KCdtZW51LWRyYXdlcicpLmJpbmRFdmVudHMoKTtcbiAgfVxuXG4gIHN0YXRpYyByZW5kZXJDb3VudHMoc291cmNlLCB0YXJnZXQpIHtcbiAgICBjb25zdCB0YXJnZXRFbGVtZW50ID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5mYWNldHNfX3NlbGVjdGVkJyk7XG4gICAgY29uc3Qgc291cmNlRWxlbWVudCA9IHNvdXJjZS5xdWVyeVNlbGVjdG9yKCcuZmFjZXRzX19zZWxlY3RlZCcpO1xuXG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudEFjY2Vzc2liaWxpdHkgPSB0YXJnZXQucXVlcnlTZWxlY3RvcignLmZhY2V0c19fc3VtbWFyeScpO1xuICAgIGNvbnN0IHNvdXJjZUVsZW1lbnRBY2Nlc3NpYmlsaXR5ID0gc291cmNlLnF1ZXJ5U2VsZWN0b3IoJy5mYWNldHNfX3N1bW1hcnknKTtcblxuICAgIGlmIChzb3VyY2VFbGVtZW50ICYmIHRhcmdldEVsZW1lbnQpIHtcbiAgICAgIHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuZmFjZXRzX19zZWxlY3RlZCcpLm91dGVySFRNTCA9IHNvdXJjZS5xdWVyeVNlbGVjdG9yKCcuZmFjZXRzX19zZWxlY3RlZCcpLm91dGVySFRNTDtcbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0RWxlbWVudEFjY2Vzc2liaWxpdHkgJiYgc291cmNlRWxlbWVudEFjY2Vzc2liaWxpdHkpIHtcbiAgICAgIHRhcmdldC5xdWVyeVNlbGVjdG9yKCcuZmFjZXRzX19zdW1tYXJ5Jykub3V0ZXJIVE1MID0gc291cmNlLnF1ZXJ5U2VsZWN0b3IoJy5mYWNldHNfX3N1bW1hcnknKS5vdXRlckhUTUw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHVwZGF0ZVVSTEhhc2goc2VhcmNoUGFyYW1zKSB7XG4gICAgaGlzdG9yeS5wdXNoU3RhdGUoeyBzZWFyY2hQYXJhbXMgfSwgJycsIGAke3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZX0ke3NlYXJjaFBhcmFtcyAmJiAnPycuY29uY2F0KHNlYXJjaFBhcmFtcyl9YCk7XG4gIH1cblxuICBzdGF0aWMgZ2V0U2VjdGlvbnMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHtcbiAgICAgICAgc2VjdGlvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2R1Y3QtZ3JpZCcpLmRhdGFzZXQuaWQsXG4gICAgICB9LFxuICAgIF07XG4gIH1cblxuICBjcmVhdGVTZWFyY2hQYXJhbXMoZm9ybSkge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKGZvcm1EYXRhKS50b1N0cmluZygpO1xuICB9XG5cbiAgb25TdWJtaXRGb3JtKHNlYXJjaFBhcmFtcywgZXZlbnQpIHtcbiAgICBGYWNldEZpbHRlcnNGb3JtLnJlbmRlclBhZ2Uoc2VhcmNoUGFyYW1zLCBldmVudCk7XG4gIH1cblxuICBvblN1Ym1pdEhhbmRsZXIoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHNvcnRGaWx0ZXJGb3JtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2ZhY2V0LWZpbHRlcnMtZm9ybSBmb3JtJyk7XG4gICAgaWYgKGV2ZW50LnNyY0VsZW1lbnQuY2xhc3NOYW1lID09ICdtb2JpbGUtZmFjZXRzX19jaGVja2JveCcpIHtcbiAgICAgIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHRoaXMuY3JlYXRlU2VhcmNoUGFyYW1zKGV2ZW50LnRhcmdldC5jbG9zZXN0KCdmb3JtJykpO1xuICAgICAgdGhpcy5vblN1Ym1pdEZvcm0oc2VhcmNoUGFyYW1zLCBldmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZvcm1zID0gW107XG4gICAgICBjb25zdCBpc01vYmlsZSA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdmb3JtJykuaWQgPT09ICdGYWNldEZpbHRlcnNGb3JtTW9iaWxlJztcblxuICAgICAgc29ydEZpbHRlckZvcm1zLmZvckVhY2goKGZvcm0pID0+IHtcbiAgICAgICAgaWYgKCFpc01vYmlsZSkge1xuICAgICAgICAgIGlmIChmb3JtLmlkID09PSAnRmFjZXRTb3J0Rm9ybScgfHwgZm9ybS5pZCA9PT0gJ0ZhY2V0RmlsdGVyc0Zvcm0nIHx8IGZvcm0uaWQgPT09ICdGYWNldFNvcnREcmF3ZXJGb3JtJykge1xuICAgICAgICAgICAgY29uc3Qgbm9Kc0VsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5vLWpzLWxpc3QnKTtcbiAgICAgICAgICAgIG5vSnNFbGVtZW50cy5mb3JFYWNoKChlbCkgPT4gZWwucmVtb3ZlKCkpO1xuICAgICAgICAgICAgZm9ybXMucHVzaCh0aGlzLmNyZWF0ZVNlYXJjaFBhcmFtcyhmb3JtKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGZvcm0uaWQgPT09ICdGYWNldEZpbHRlcnNGb3JtTW9iaWxlJykge1xuICAgICAgICAgIGZvcm1zLnB1c2godGhpcy5jcmVhdGVTZWFyY2hQYXJhbXMoZm9ybSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMub25TdWJtaXRGb3JtKGZvcm1zLmpvaW4oJyYnKSwgZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIG9uQWN0aXZlRmlsdGVyQ2xpY2soZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIEZhY2V0RmlsdGVyc0Zvcm0udG9nZ2xlQWN0aXZlRmFjZXRzKCk7XG4gICAgY29uc3QgdXJsID1cbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuaHJlZi5pbmRleE9mKCc/JykgPT0gLTFcbiAgICAgICAgPyAnJ1xuICAgICAgICA6IGV2ZW50LmN1cnJlbnRUYXJnZXQuaHJlZi5zbGljZShldmVudC5jdXJyZW50VGFyZ2V0LmhyZWYuaW5kZXhPZignPycpICsgMSk7XG4gICAgRmFjZXRGaWx0ZXJzRm9ybS5yZW5kZXJQYWdlKHVybCk7XG4gIH1cbn1cblxuRmFjZXRGaWx0ZXJzRm9ybS5maWx0ZXJEYXRhID0gW107XG5GYWNldEZpbHRlcnNGb3JtLnNlYXJjaFBhcmFtc0luaXRpYWwgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpO1xuRmFjZXRGaWx0ZXJzRm9ybS5zZWFyY2hQYXJhbXNQcmV2ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zbGljZSgxKTtcbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZmFjZXQtZmlsdGVycy1mb3JtJywgRmFjZXRGaWx0ZXJzRm9ybSk7XG5GYWNldEZpbHRlcnNGb3JtLnNldExpc3RlbmVycygpO1xuXG5jbGFzcyBQcmljZVJhbmdlIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMucXVlcnlTZWxlY3RvckFsbCgnaW5wdXQnKS5mb3JFYWNoKChlbGVtZW50KSA9PlxuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLm9uUmFuZ2VDaGFuZ2UuYmluZCh0aGlzKSlcbiAgICApO1xuICAgIHRoaXMuc2V0TWluQW5kTWF4VmFsdWVzKCk7XG4gIH1cblxuICBvblJhbmdlQ2hhbmdlKGV2ZW50KSB7XG4gICAgdGhpcy5hZGp1c3RUb1ZhbGlkVmFsdWVzKGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIHRoaXMuc2V0TWluQW5kTWF4VmFsdWVzKCk7XG4gIH1cblxuICBzZXRNaW5BbmRNYXhWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRzID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dCcpO1xuICAgIGNvbnN0IG1pbklucHV0ID0gaW5wdXRzWzBdO1xuICAgIGNvbnN0IG1heElucHV0ID0gaW5wdXRzWzFdO1xuICAgIGlmIChtYXhJbnB1dC52YWx1ZSkgbWluSW5wdXQuc2V0QXR0cmlidXRlKCdtYXgnLCBtYXhJbnB1dC52YWx1ZSk7XG4gICAgaWYgKG1pbklucHV0LnZhbHVlKSBtYXhJbnB1dC5zZXRBdHRyaWJ1dGUoJ21pbicsIG1pbklucHV0LnZhbHVlKTtcbiAgICBpZiAobWluSW5wdXQudmFsdWUgPT09ICcnKSBtYXhJbnB1dC5zZXRBdHRyaWJ1dGUoJ21pbicsIDApO1xuICAgIGlmIChtYXhJbnB1dC52YWx1ZSA9PT0gJycpIG1pbklucHV0LnNldEF0dHJpYnV0ZSgnbWF4JywgbWF4SW5wdXQuZ2V0QXR0cmlidXRlKCdtYXgnKSk7XG4gIH1cblxuICBhZGp1c3RUb1ZhbGlkVmFsdWVzKGlucHV0KSB7XG4gICAgY29uc3QgdmFsdWUgPSBOdW1iZXIoaW5wdXQudmFsdWUpO1xuICAgIGNvbnN0IG1pbiA9IE51bWJlcihpbnB1dC5nZXRBdHRyaWJ1dGUoJ21pbicpKTtcbiAgICBjb25zdCBtYXggPSBOdW1iZXIoaW5wdXQuZ2V0QXR0cmlidXRlKCdtYXgnKSk7XG5cbiAgICBpZiAodmFsdWUgPCBtaW4pIGlucHV0LnZhbHVlID0gbWluO1xuICAgIGlmICh2YWx1ZSA+IG1heCkgaW5wdXQudmFsdWUgPSBtYXg7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdwcmljZS1yYW5nZScsIFByaWNlUmFuZ2UpO1xuXG5jbGFzcyBGYWNldFJlbW92ZSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICBjb25zdCBmYWNldExpbmsgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2EnKTtcbiAgICBmYWNldExpbmsuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2J1dHRvbicpO1xuICAgIGZhY2V0TGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2VGaWx0ZXIuYmluZCh0aGlzKSk7XG4gICAgZmFjZXRMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaWYgKGV2ZW50LmNvZGUudG9VcHBlckNhc2UoKSA9PT0gJ1NQQUNFJykgdGhpcy5jbG9zZUZpbHRlcihldmVudCk7XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZUZpbHRlcihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgZm9ybSA9IHRoaXMuY2xvc2VzdCgnZmFjZXQtZmlsdGVycy1mb3JtJykgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZmFjZXQtZmlsdGVycy1mb3JtJyk7XG4gICAgZm9ybS5vbkFjdGl2ZUZpbHRlckNsaWNrKGV2ZW50KTtcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2ZhY2V0LXJlbW92ZScsIEZhY2V0UmVtb3ZlKTtcbiIsImZ1bmN0aW9uIGdldEZvY3VzYWJsZUVsZW1lbnRzKGNvbnRhaW5lcikge1xuICByZXR1cm4gQXJyYXkuZnJvbShcbiAgICBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcbiAgICAgIFwic3VtbWFyeSwgYVtocmVmXSwgYnV0dG9uOmVuYWJsZWQsIFt0YWJpbmRleF06bm90KFt0YWJpbmRleF49Jy0nXSksIFtkcmFnZ2FibGVdLCBhcmVhLCBpbnB1dDpub3QoW3R5cGU9aGlkZGVuXSk6ZW5hYmxlZCwgc2VsZWN0OmVuYWJsZWQsIHRleHRhcmVhOmVuYWJsZWQsIG9iamVjdCwgaWZyYW1lXCJcbiAgICApXG4gICk7XG59XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZF49XCJEZXRhaWxzLVwiXSBzdW1tYXJ5JykuZm9yRWFjaCgoc3VtbWFyeSkgPT4ge1xuICBzdW1tYXJ5LnNldEF0dHJpYnV0ZSgncm9sZScsICdidXR0b24nKTtcbiAgc3VtbWFyeS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBzdW1tYXJ5LnBhcmVudE5vZGUuaGFzQXR0cmlidXRlKCdvcGVuJykpO1xuXG4gIGlmIChzdW1tYXJ5Lm5leHRFbGVtZW50U2libGluZy5nZXRBdHRyaWJ1dGUoJ2lkJykpIHtcbiAgICBzdW1tYXJ5LnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIHN1bW1hcnkubmV4dEVsZW1lbnRTaWJsaW5nLmlkKTtcbiAgfVxuXG4gIHN1bW1hcnkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICBldmVudC5jdXJyZW50VGFyZ2V0LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICFldmVudC5jdXJyZW50VGFyZ2V0LmNsb3Nlc3QoJ2RldGFpbHMnKS5oYXNBdHRyaWJ1dGUoJ29wZW4nKSk7XG4gIH0pO1xuXG4gIGlmIChzdW1tYXJ5LmNsb3Nlc3QoJ2hlYWRlci1kcmF3ZXIsIG1lbnUtZHJhd2VyJykpIHJldHVybjtcbiAgc3VtbWFyeS5wYXJlbnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgb25LZXlVcEVzY2FwZSk7XG59KTtcblxuY29uc3QgdHJhcEZvY3VzSGFuZGxlcnMgPSB7fTtcblxuZnVuY3Rpb24gdHJhcEZvY3VzKGNvbnRhaW5lciwgZWxlbWVudFRvRm9jdXMgPSBjb250YWluZXIpIHtcbiAgdmFyIGVsZW1lbnRzID0gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoY29udGFpbmVyKTtcbiAgdmFyIGZpcnN0ID0gZWxlbWVudHNbMF07XG4gIHZhciBsYXN0ID0gZWxlbWVudHNbZWxlbWVudHMubGVuZ3RoIC0gMV07XG5cbiAgcmVtb3ZlVHJhcEZvY3VzKCk7XG5cbiAgdHJhcEZvY3VzSGFuZGxlcnMuZm9jdXNpbiA9IChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQgIT09IGNvbnRhaW5lciAmJiBldmVudC50YXJnZXQgIT09IGxhc3QgJiYgZXZlbnQudGFyZ2V0ICE9PSBmaXJzdCkgcmV0dXJuO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYXBGb2N1c0hhbmRsZXJzLmtleWRvd24pO1xuICB9O1xuXG4gIHRyYXBGb2N1c0hhbmRsZXJzLmZvY3Vzb3V0ID0gZnVuY3Rpb24gKCkge1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0cmFwRm9jdXNIYW5kbGVycy5rZXlkb3duKTtcbiAgfTtcblxuICB0cmFwRm9jdXNIYW5kbGVycy5rZXlkb3duID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmNvZGUudG9VcHBlckNhc2UoKSAhPT0gJ1RBQicpIHJldHVybjsgLy8gSWYgbm90IFRBQiBrZXlcbiAgICAvLyBPbiB0aGUgbGFzdCBmb2N1c2FibGUgZWxlbWVudCBhbmQgdGFiIGZvcndhcmQsIGZvY3VzIHRoZSBmaXJzdCBlbGVtZW50LlxuICAgIGlmIChldmVudC50YXJnZXQgPT09IGxhc3QgJiYgIWV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZmlyc3QuZm9jdXMoKTtcbiAgICB9XG5cbiAgICAvLyAgT24gdGhlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50IGFuZCB0YWIgYmFja3dhcmQsIGZvY3VzIHRoZSBsYXN0IGVsZW1lbnQuXG4gICAgaWYgKChldmVudC50YXJnZXQgPT09IGNvbnRhaW5lciB8fCBldmVudC50YXJnZXQgPT09IGZpcnN0KSAmJiBldmVudC5zaGlmdEtleSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGxhc3QuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c291dCk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c2luKTtcblxuICBlbGVtZW50VG9Gb2N1cy5mb2N1cygpO1xuXG4gIGlmIChcbiAgICBlbGVtZW50VG9Gb2N1cy50YWdOYW1lID09PSAnSU5QVVQnICYmXG4gICAgWydzZWFyY2gnLCAndGV4dCcsICdlbWFpbCcsICd1cmwnXS5pbmNsdWRlcyhlbGVtZW50VG9Gb2N1cy50eXBlKSAmJlxuICAgIGVsZW1lbnRUb0ZvY3VzLnZhbHVlXG4gICkge1xuICAgIGVsZW1lbnRUb0ZvY3VzLnNldFNlbGVjdGlvblJhbmdlKDAsIGVsZW1lbnRUb0ZvY3VzLnZhbHVlLmxlbmd0aCk7XG4gIH1cbn1cblxuLy8gSGVyZSBydW4gdGhlIHF1ZXJ5U2VsZWN0b3IgdG8gZmlndXJlIG91dCBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyA6Zm9jdXMtdmlzaWJsZSBvciBub3QgYW5kIHJ1biBjb2RlIGJhc2VkIG9uIGl0LlxudHJ5IHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignOmZvY3VzLXZpc2libGUnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgZm9jdXNWaXNpYmxlUG9seWZpbGwoKTtcbn1cblxuZnVuY3Rpb24gZm9jdXNWaXNpYmxlUG9seWZpbGwoKSB7XG4gIGNvbnN0IG5hdktleXMgPSBbXG4gICAgJ0FSUk9XVVAnLFxuICAgICdBUlJPV0RPV04nLFxuICAgICdBUlJPV0xFRlQnLFxuICAgICdBUlJPV1JJR0hUJyxcbiAgICAnVEFCJyxcbiAgICAnRU5URVInLFxuICAgICdTUEFDRScsXG4gICAgJ0VTQ0FQRScsXG4gICAgJ0hPTUUnLFxuICAgICdFTkQnLFxuICAgICdQQUdFVVAnLFxuICAgICdQQUdFRE9XTicsXG4gIF07XG4gIGxldCBjdXJyZW50Rm9jdXNlZEVsZW1lbnQgPSBudWxsO1xuICBsZXQgbW91c2VDbGljayA9IG51bGw7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAobmF2S2V5cy5pbmNsdWRlcyhldmVudC5jb2RlLnRvVXBwZXJDYXNlKCkpKSB7XG4gICAgICBtb3VzZUNsaWNrID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgbW91c2VDbGljayA9IHRydWU7XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICdmb2N1cycsXG4gICAgKCkgPT4ge1xuICAgICAgaWYgKGN1cnJlbnRGb2N1c2VkRWxlbWVudCkgY3VycmVudEZvY3VzZWRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzZWQnKTtcblxuICAgICAgaWYgKG1vdXNlQ2xpY2spIHJldHVybjtcblxuICAgICAgY3VycmVudEZvY3VzZWRFbGVtZW50ID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgIGN1cnJlbnRGb2N1c2VkRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdmb2N1c2VkJyk7XG4gICAgfSxcbiAgICB0cnVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIHBhdXNlQWxsTWVkaWEoKSB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy15b3V0dWJlJykuZm9yRWFjaCgodmlkZW8pID0+IHtcbiAgICB2aWRlby5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKCd7XCJldmVudFwiOlwiY29tbWFuZFwiLFwiZnVuY1wiOlwiJyArICdwYXVzZVZpZGVvJyArICdcIixcImFyZ3NcIjpcIlwifScsICcqJyk7XG4gIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtdmltZW8nKS5mb3JFYWNoKCh2aWRlbykgPT4ge1xuICAgIHZpZGVvLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoJ3tcIm1ldGhvZFwiOlwicGF1c2VcIn0nLCAnKicpO1xuICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndmlkZW8nKS5mb3JFYWNoKCh2aWRlbykgPT4gdmlkZW8ucGF1c2UoKSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3Byb2R1Y3QtbW9kZWwnKS5mb3JFYWNoKChtb2RlbCkgPT4ge1xuICAgIGlmIChtb2RlbC5tb2RlbFZpZXdlclVJKSBtb2RlbC5tb2RlbFZpZXdlclVJLnBhdXNlKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVUcmFwRm9jdXMoZWxlbWVudFRvRm9jdXMgPSBudWxsKSB7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c2luKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0cmFwRm9jdXNIYW5kbGVycy5mb2N1c291dCk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0cmFwRm9jdXNIYW5kbGVycy5rZXlkb3duKTtcblxuICBpZiAoZWxlbWVudFRvRm9jdXMpIGVsZW1lbnRUb0ZvY3VzLmZvY3VzKCk7XG59XG5cbmZ1bmN0aW9uIG9uS2V5VXBFc2NhcGUoZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmNvZGUudG9VcHBlckNhc2UoKSAhPT0gJ0VTQ0FQRScpIHJldHVybjtcblxuICBjb25zdCBvcGVuRGV0YWlsc0VsZW1lbnQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnZGV0YWlsc1tvcGVuXScpO1xuICBpZiAoIW9wZW5EZXRhaWxzRWxlbWVudCkgcmV0dXJuO1xuXG4gIGNvbnN0IHN1bW1hcnlFbGVtZW50ID0gb3BlbkRldGFpbHNFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N1bW1hcnknKTtcbiAgb3BlbkRldGFpbHNFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnb3BlbicpO1xuICBzdW1tYXJ5RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gIHN1bW1hcnlFbGVtZW50LmZvY3VzKCk7XG59XG5cbmNsYXNzIFF1YW50aXR5SW5wdXQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pbnB1dCA9IHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICB0aGlzLmNoYW5nZUV2ZW50ID0gbmV3IEV2ZW50KCdjaGFuZ2UnLCB7IGJ1YmJsZXM6IHRydWUgfSk7XG5cbiAgICB0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMub25JbnB1dENoYW5nZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpLmZvckVhY2goKGJ1dHRvbikgPT5cbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25CdXR0b25DbGljay5iaW5kKHRoaXMpKVxuICAgICk7XG4gIH1cblxuICBxdWFudGl0eVVwZGF0ZVVuc3Vic2NyaWJlciA9IHVuZGVmaW5lZDtcblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICB0aGlzLnZhbGlkYXRlUXR5UnVsZXMoKTtcbiAgICB0aGlzLnF1YW50aXR5VXBkYXRlVW5zdWJzY3JpYmVyID0gc3Vic2NyaWJlKFBVQl9TVUJfRVZFTlRTLnF1YW50aXR5VXBkYXRlLCB0aGlzLnZhbGlkYXRlUXR5UnVsZXMuYmluZCh0aGlzKSk7XG4gIH1cblxuICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBpZiAodGhpcy5xdWFudGl0eVVwZGF0ZVVuc3Vic2NyaWJlcikge1xuICAgICAgdGhpcy5xdWFudGl0eVVwZGF0ZVVuc3Vic2NyaWJlcigpO1xuICAgIH1cbiAgfVxuXG4gIG9uSW5wdXRDaGFuZ2UoZXZlbnQpIHtcbiAgICB0aGlzLnZhbGlkYXRlUXR5UnVsZXMoKTtcbiAgfVxuXG4gIG9uQnV0dG9uQ2xpY2soZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHByZXZpb3VzVmFsdWUgPSB0aGlzLmlucHV0LnZhbHVlO1xuXG4gICAgZXZlbnQudGFyZ2V0Lm5hbWUgPT09ICdwbHVzJyA/IHRoaXMuaW5wdXQuc3RlcFVwKCkgOiB0aGlzLmlucHV0LnN0ZXBEb3duKCk7XG4gICAgaWYgKHByZXZpb3VzVmFsdWUgIT09IHRoaXMuaW5wdXQudmFsdWUpIHRoaXMuaW5wdXQuZGlzcGF0Y2hFdmVudCh0aGlzLmNoYW5nZUV2ZW50KTtcbiAgfVxuXG4gIHZhbGlkYXRlUXR5UnVsZXMoKSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUludCh0aGlzLmlucHV0LnZhbHVlKTtcbiAgICBpZiAodGhpcy5pbnB1dC5taW4pIHtcbiAgICAgIGNvbnN0IG1pbiA9IHBhcnNlSW50KHRoaXMuaW5wdXQubWluKTtcbiAgICAgIGNvbnN0IGJ1dHRvbk1pbnVzID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiLnF1YW50aXR5X19idXR0b25bbmFtZT0nbWludXMnXVwiKTtcbiAgICAgIGJ1dHRvbk1pbnVzLmNsYXNzTGlzdC50b2dnbGUoJ2Rpc2FibGVkJywgdmFsdWUgPD0gbWluKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaW5wdXQubWF4KSB7XG4gICAgICBjb25zdCBtYXggPSBwYXJzZUludCh0aGlzLmlucHV0Lm1heCk7XG4gICAgICBjb25zdCBidXR0b25QbHVzID0gdGhpcy5xdWVyeVNlbGVjdG9yKFwiLnF1YW50aXR5X19idXR0b25bbmFtZT0ncGx1cyddXCIpO1xuICAgICAgYnV0dG9uUGx1cy5jbGFzc0xpc3QudG9nZ2xlKCdkaXNhYmxlZCcsIHZhbHVlID49IG1heCk7XG4gICAgfVxuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgncXVhbnRpdHktaW5wdXQnLCBRdWFudGl0eUlucHV0KTtcblxuZnVuY3Rpb24gZGVib3VuY2UoZm4sIHdhaXQpIHtcbiAgbGV0IHQ7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICB0ID0gc2V0VGltZW91dCgoKSA9PiBmbi5hcHBseSh0aGlzLCBhcmdzKSwgd2FpdCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZldGNoQ29uZmlnKHR5cGUgPSAnanNvbicpIHtcbiAgcmV0dXJuIHtcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsIEFjY2VwdDogYGFwcGxpY2F0aW9uLyR7dHlwZX1gIH0sXG4gIH07XG59XG5cbi8qXG4gKiBTaG9waWZ5IENvbW1vbiBKU1xuICpcbiAqL1xuaWYgKHR5cGVvZiB3aW5kb3cuU2hvcGlmeSA9PSAndW5kZWZpbmVkJykge1xuICB3aW5kb3cuU2hvcGlmeSA9IHt9O1xufVxuXG5TaG9waWZ5LmJpbmQgPSBmdW5jdGlvbiAoZm4sIHNjb3BlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHNjb3BlLCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuU2hvcGlmeS5zZXRTZWxlY3RvckJ5VmFsdWUgPSBmdW5jdGlvbiAoc2VsZWN0b3IsIHZhbHVlKSB7XG4gIGZvciAodmFyIGkgPSAwLCBjb3VudCA9IHNlbGVjdG9yLm9wdGlvbnMubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgIHZhciBvcHRpb24gPSBzZWxlY3Rvci5vcHRpb25zW2ldO1xuICAgIGlmICh2YWx1ZSA9PSBvcHRpb24udmFsdWUgfHwgdmFsdWUgPT0gb3B0aW9uLmlubmVySFRNTCkge1xuICAgICAgc2VsZWN0b3Iuc2VsZWN0ZWRJbmRleCA9IGk7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cbn07XG5cblNob3BpZnkuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAodGFyZ2V0LCBldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gIHRhcmdldC5hZGRFdmVudExpc3RlbmVyXG4gICAgPyB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGNhbGxiYWNrLCBmYWxzZSlcbiAgICA6IHRhcmdldC5hdHRhY2hFdmVudCgnb24nICsgZXZlbnROYW1lLCBjYWxsYmFjayk7XG59O1xuXG5TaG9waWZ5LnBvc3RMaW5rID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBtZXRob2QgPSBvcHRpb25zWydtZXRob2QnXSB8fCAncG9zdCc7XG4gIHZhciBwYXJhbXMgPSBvcHRpb25zWydwYXJhbWV0ZXJzJ10gfHwge307XG5cbiAgdmFyIGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmb3JtJyk7XG4gIGZvcm0uc2V0QXR0cmlidXRlKCdtZXRob2QnLCBtZXRob2QpO1xuICBmb3JtLnNldEF0dHJpYnV0ZSgnYWN0aW9uJywgcGF0aCk7XG5cbiAgZm9yICh2YXIga2V5IGluIHBhcmFtcykge1xuICAgIHZhciBoaWRkZW5GaWVsZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaGlkZGVuRmllbGQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2hpZGRlbicpO1xuICAgIGhpZGRlbkZpZWxkLnNldEF0dHJpYnV0ZSgnbmFtZScsIGtleSk7XG4gICAgaGlkZGVuRmllbGQuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHBhcmFtc1trZXldKTtcbiAgICBmb3JtLmFwcGVuZENoaWxkKGhpZGRlbkZpZWxkKTtcbiAgfVxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZvcm0pO1xuICBmb3JtLnN1Ym1pdCgpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGZvcm0pO1xufTtcblxuU2hvcGlmeS5Db3VudHJ5UHJvdmluY2VTZWxlY3RvciA9IGZ1bmN0aW9uIChjb3VudHJ5X2RvbWlkLCBwcm92aW5jZV9kb21pZCwgb3B0aW9ucykge1xuICB0aGlzLmNvdW50cnlFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvdW50cnlfZG9taWQpO1xuICB0aGlzLnByb3ZpbmNlRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcm92aW5jZV9kb21pZCk7XG4gIHRoaXMucHJvdmluY2VDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcHRpb25zWydoaWRlRWxlbWVudCddIHx8IHByb3ZpbmNlX2RvbWlkKTtcblxuICBTaG9waWZ5LmFkZExpc3RlbmVyKHRoaXMuY291bnRyeUVsLCAnY2hhbmdlJywgU2hvcGlmeS5iaW5kKHRoaXMuY291bnRyeUhhbmRsZXIsIHRoaXMpKTtcblxuICB0aGlzLmluaXRDb3VudHJ5KCk7XG4gIHRoaXMuaW5pdFByb3ZpbmNlKCk7XG59O1xuXG5TaG9waWZ5LkNvdW50cnlQcm92aW5jZVNlbGVjdG9yLnByb3RvdHlwZSA9IHtcbiAgaW5pdENvdW50cnk6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmNvdW50cnlFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGVmYXVsdCcpO1xuICAgIFNob3BpZnkuc2V0U2VsZWN0b3JCeVZhbHVlKHRoaXMuY291bnRyeUVsLCB2YWx1ZSk7XG4gICAgdGhpcy5jb3VudHJ5SGFuZGxlcigpO1xuICB9LFxuXG4gIGluaXRQcm92aW5jZTogZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvdmluY2VFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGVmYXVsdCcpO1xuICAgIGlmICh2YWx1ZSAmJiB0aGlzLnByb3ZpbmNlRWwub3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBTaG9waWZ5LnNldFNlbGVjdG9yQnlWYWx1ZSh0aGlzLnByb3ZpbmNlRWwsIHZhbHVlKTtcbiAgICB9XG4gIH0sXG5cbiAgY291bnRyeUhhbmRsZXI6IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIG9wdCA9IHRoaXMuY291bnRyeUVsLm9wdGlvbnNbdGhpcy5jb3VudHJ5RWwuc2VsZWN0ZWRJbmRleF07XG4gICAgdmFyIHJhdyA9IG9wdC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcHJvdmluY2VzJyk7XG4gICAgdmFyIHByb3ZpbmNlcyA9IEpTT04ucGFyc2UocmF3KTtcblxuICAgIHRoaXMuY2xlYXJPcHRpb25zKHRoaXMucHJvdmluY2VFbCk7XG4gICAgaWYgKHByb3ZpbmNlcyAmJiBwcm92aW5jZXMubGVuZ3RoID09IDApIHtcbiAgICAgIHRoaXMucHJvdmluY2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm92aW5jZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgICBvcHQudmFsdWUgPSBwcm92aW5jZXNbaV1bMF07XG4gICAgICAgIG9wdC5pbm5lckhUTUwgPSBwcm92aW5jZXNbaV1bMV07XG4gICAgICAgIHRoaXMucHJvdmluY2VFbC5hcHBlbmRDaGlsZChvcHQpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3ZpbmNlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICB9XG4gIH0sXG5cbiAgY2xlYXJPcHRpb25zOiBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICB3aGlsZSAoc2VsZWN0b3IuZmlyc3RDaGlsZCkge1xuICAgICAgc2VsZWN0b3IucmVtb3ZlQ2hpbGQoc2VsZWN0b3IuZmlyc3RDaGlsZCk7XG4gICAgfVxuICB9LFxuXG4gIHNldE9wdGlvbnM6IGZ1bmN0aW9uIChzZWxlY3RvciwgdmFsdWVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGNvdW50ID0gdmFsdWVzLmxlbmd0aDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO1xuICAgICAgb3B0LnZhbHVlID0gdmFsdWVzW2ldO1xuICAgICAgb3B0LmlubmVySFRNTCA9IHZhbHVlc1tpXTtcbiAgICAgIHNlbGVjdG9yLmFwcGVuZENoaWxkKG9wdCk7XG4gICAgfVxuICB9LFxufTtcblxuY2xhc3MgTWVudURyYXdlciBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGUgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2RldGFpbHMnKTtcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLm9uS2V5VXAuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMub25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmJpbmRFdmVudHMoKTtcbiAgfVxuXG4gIGJpbmRFdmVudHMoKSB7XG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdzdW1tYXJ5JykuZm9yRWFjaCgoc3VtbWFyeSkgPT5cbiAgICAgIHN1bW1hcnkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uU3VtbWFyeUNsaWNrLmJpbmQodGhpcykpXG4gICAgKTtcbiAgICB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbjpub3QoLmxvY2FsaXphdGlvbi1zZWxlY3RvciknKS5mb3JFYWNoKChidXR0b24pID0+XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQ2xvc2VCdXR0b25DbGljay5iaW5kKHRoaXMpKVxuICAgICk7XG4gIH1cblxuICBvbktleVVwKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmNvZGUudG9VcHBlckNhc2UoKSAhPT0gJ0VTQ0FQRScpIHJldHVybjtcblxuICAgIGNvbnN0IG9wZW5EZXRhaWxzRWxlbWVudCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdkZXRhaWxzW29wZW5dJyk7XG4gICAgaWYgKCFvcGVuRGV0YWlsc0VsZW1lbnQpIHJldHVybjtcblxuICAgIG9wZW5EZXRhaWxzRWxlbWVudCA9PT0gdGhpcy5tYWluRGV0YWlsc1RvZ2dsZVxuICAgICAgPyB0aGlzLmNsb3NlTWVudURyYXdlcihldmVudCwgdGhpcy5tYWluRGV0YWlsc1RvZ2dsZS5xdWVyeVNlbGVjdG9yKCdzdW1tYXJ5JykpXG4gICAgICA6IHRoaXMuY2xvc2VTdWJtZW51KG9wZW5EZXRhaWxzRWxlbWVudCk7XG4gIH1cblxuICBvblN1bW1hcnlDbGljayhldmVudCkge1xuICAgIGNvbnN0IHN1bW1hcnlFbGVtZW50ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICBjb25zdCBkZXRhaWxzRWxlbWVudCA9IHN1bW1hcnlFbGVtZW50LnBhcmVudE5vZGU7XG4gICAgY29uc3QgcGFyZW50TWVudUVsZW1lbnQgPSBkZXRhaWxzRWxlbWVudC5jbG9zZXN0KCcuaGFzLXN1Ym1lbnUnKTtcbiAgICBjb25zdCBpc09wZW4gPSBkZXRhaWxzRWxlbWVudC5oYXNBdHRyaWJ1dGUoJ29wZW4nKTtcbiAgICBjb25zdCByZWR1Y2VkTW90aW9uID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpJyk7XG5cbiAgICBmdW5jdGlvbiBhZGRUcmFwRm9jdXMoKSB7XG4gICAgICB0cmFwRm9jdXMoc3VtbWFyeUVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nLCBkZXRhaWxzRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKSk7XG4gICAgICBzdW1tYXJ5RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmcucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGFkZFRyYXBGb2N1cyk7XG4gICAgfVxuXG4gICAgaWYgKGRldGFpbHNFbGVtZW50ID09PSB0aGlzLm1haW5EZXRhaWxzVG9nZ2xlKSB7XG4gICAgICBpZiAoaXNPcGVuKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgaXNPcGVuID8gdGhpcy5jbG9zZU1lbnVEcmF3ZXIoZXZlbnQsIHN1bW1hcnlFbGVtZW50KSA6IHRoaXMub3Blbk1lbnVEcmF3ZXIoc3VtbWFyeUVsZW1lbnQpO1xuXG4gICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6IDk5MHB4KScpKSB7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aWV3cG9ydC1oZWlnaHQnLCBgJHt3aW5kb3cuaW5uZXJIZWlnaHR9cHhgKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRldGFpbHNFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21lbnUtb3BlbmluZycpO1xuICAgICAgICBzdW1tYXJ5RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICAgICAgcGFyZW50TWVudUVsZW1lbnQgJiYgcGFyZW50TWVudUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc3VibWVudS1vcGVuJyk7XG4gICAgICAgICFyZWR1Y2VkTW90aW9uIHx8IHJlZHVjZWRNb3Rpb24ubWF0Y2hlc1xuICAgICAgICAgID8gYWRkVHJhcEZvY3VzKClcbiAgICAgICAgICA6IHN1bW1hcnlFbGVtZW50Lm5leHRFbGVtZW50U2libGluZy5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgYWRkVHJhcEZvY3VzKTtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICB9XG5cbiAgb3Blbk1lbnVEcmF3ZXIoc3VtbWFyeUVsZW1lbnQpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGUuY2xhc3NMaXN0LmFkZCgnbWVudS1vcGVuaW5nJyk7XG4gICAgfSk7XG4gICAgc3VtbWFyeUVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG4gICAgdHJhcEZvY3VzKHRoaXMubWFpbkRldGFpbHNUb2dnbGUsIHN1bW1hcnlFbGVtZW50KTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoYG92ZXJmbG93LWhpZGRlbi0ke3RoaXMuZGF0YXNldC5icmVha3BvaW50fWApO1xuICB9XG5cbiAgY2xvc2VNZW51RHJhd2VyKGV2ZW50LCBlbGVtZW50VG9Gb2N1cyA9IGZhbHNlKSB7XG4gICAgaWYgKGV2ZW50ID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGUuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS1vcGVuaW5nJyk7XG4gICAgdGhpcy5tYWluRGV0YWlsc1RvZ2dsZS5xdWVyeVNlbGVjdG9yQWxsKCdkZXRhaWxzJykuZm9yRWFjaCgoZGV0YWlscykgPT4ge1xuICAgICAgZGV0YWlscy5yZW1vdmVBdHRyaWJ1dGUoJ29wZW4nKTtcbiAgICAgIGRldGFpbHMuY2xhc3NMaXN0LnJlbW92ZSgnbWVudS1vcGVuaW5nJyk7XG4gICAgfSk7XG4gICAgdGhpcy5tYWluRGV0YWlsc1RvZ2dsZS5xdWVyeVNlbGVjdG9yQWxsKCcuc3VibWVudS1vcGVuJykuZm9yRWFjaCgoc3VibWVudSkgPT4ge1xuICAgICAgc3VibWVudS5jbGFzc0xpc3QucmVtb3ZlKCdzdWJtZW51LW9wZW4nKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoYG92ZXJmbG93LWhpZGRlbi0ke3RoaXMuZGF0YXNldC5icmVha3BvaW50fWApO1xuICAgIHJlbW92ZVRyYXBGb2N1cyhlbGVtZW50VG9Gb2N1cyk7XG4gICAgdGhpcy5jbG9zZUFuaW1hdGlvbih0aGlzLm1haW5EZXRhaWxzVG9nZ2xlKTtcblxuICAgIGlmIChldmVudCBpbnN0YW5jZW9mIEtleWJvYXJkRXZlbnQpIGVsZW1lbnRUb0ZvY3VzPy5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gIH1cblxuICBvbkZvY3VzT3V0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMubWFpbkRldGFpbHNUb2dnbGUuaGFzQXR0cmlidXRlKCdvcGVuJykgJiYgIXRoaXMubWFpbkRldGFpbHNUb2dnbGUuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpXG4gICAgICAgIHRoaXMuY2xvc2VNZW51RHJhd2VyKCk7XG4gICAgfSk7XG4gIH1cblxuICBvbkNsb3NlQnV0dG9uQ2xpY2soZXZlbnQpIHtcbiAgICBjb25zdCBkZXRhaWxzRWxlbWVudCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuY2xvc2VzdCgnZGV0YWlscycpO1xuICAgIHRoaXMuY2xvc2VTdWJtZW51KGRldGFpbHNFbGVtZW50KTtcbiAgfVxuXG4gIGNsb3NlU3VibWVudShkZXRhaWxzRWxlbWVudCkge1xuICAgIGNvbnN0IHBhcmVudE1lbnVFbGVtZW50ID0gZGV0YWlsc0VsZW1lbnQuY2xvc2VzdCgnLnN1Ym1lbnUtb3BlbicpO1xuICAgIHBhcmVudE1lbnVFbGVtZW50ICYmIHBhcmVudE1lbnVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3N1Ym1lbnUtb3BlbicpO1xuICAgIGRldGFpbHNFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbmluZycpO1xuICAgIGRldGFpbHNFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N1bW1hcnknKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgcmVtb3ZlVHJhcEZvY3VzKGRldGFpbHNFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3N1bW1hcnknKSk7XG4gICAgdGhpcy5jbG9zZUFuaW1hdGlvbihkZXRhaWxzRWxlbWVudCk7XG4gIH1cblxuICBjbG9zZUFuaW1hdGlvbihkZXRhaWxzRWxlbWVudCkge1xuICAgIGxldCBhbmltYXRpb25TdGFydDtcblxuICAgIGNvbnN0IGhhbmRsZUFuaW1hdGlvbiA9ICh0aW1lKSA9PiB7XG4gICAgICBpZiAoYW5pbWF0aW9uU3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhbmltYXRpb25TdGFydCA9IHRpbWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVsYXBzZWRUaW1lID0gdGltZSAtIGFuaW1hdGlvblN0YXJ0O1xuXG4gICAgICBpZiAoZWxhcHNlZFRpbWUgPCA0MDApIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShoYW5kbGVBbmltYXRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGV0YWlsc0VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XG4gICAgICAgIGlmIChkZXRhaWxzRWxlbWVudC5jbG9zZXN0KCdkZXRhaWxzW29wZW5dJykpIHtcbiAgICAgICAgICB0cmFwRm9jdXMoZGV0YWlsc0VsZW1lbnQuY2xvc2VzdCgnZGV0YWlsc1tvcGVuXScpLCBkZXRhaWxzRWxlbWVudC5xdWVyeVNlbGVjdG9yKCdzdW1tYXJ5JykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoaGFuZGxlQW5pbWF0aW9uKTtcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21lbnUtZHJhd2VyJywgTWVudURyYXdlcik7XG5cbmNsYXNzIEhlYWRlckRyYXdlciBleHRlbmRzIE1lbnVEcmF3ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgb3Blbk1lbnVEcmF3ZXIoc3VtbWFyeUVsZW1lbnQpIHtcbiAgICB0aGlzLmhlYWRlciA9IHRoaXMuaGVhZGVyIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWN0aW9uLWhlYWRlcicpO1xuICAgIHRoaXMuYm9yZGVyT2Zmc2V0ID1cbiAgICAgIHRoaXMuYm9yZGVyT2Zmc2V0IHx8IHRoaXMuY2xvc2VzdCgnLmhlYWRlci13cmFwcGVyJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdoZWFkZXItd3JhcHBlci0tYm9yZGVyLWJvdHRvbScpID8gMSA6IDA7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KFxuICAgICAgJy0taGVhZGVyLWJvdHRvbS1wb3NpdGlvbicsXG4gICAgICBgJHtwYXJzZUludCh0aGlzLmhlYWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gLSB0aGlzLmJvcmRlck9mZnNldCl9cHhgXG4gICAgKTtcbiAgICB0aGlzLmhlYWRlci5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW4nKTtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5tYWluRGV0YWlsc1RvZ2dsZS5jbGFzc0xpc3QuYWRkKCdtZW51LW9wZW5pbmcnKTtcbiAgICB9KTtcblxuICAgIHN1bW1hcnlFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgICB0cmFwRm9jdXModGhpcy5tYWluRGV0YWlsc1RvZ2dsZSwgc3VtbWFyeUVsZW1lbnQpO1xuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZChgb3ZlcmZsb3ctaGlkZGVuLSR7dGhpcy5kYXRhc2V0LmJyZWFrcG9pbnR9YCk7XG4gIH1cblxuICBjbG9zZU1lbnVEcmF3ZXIoZXZlbnQsIGVsZW1lbnRUb0ZvY3VzKSB7XG4gICAgaWYgKCFlbGVtZW50VG9Gb2N1cykgcmV0dXJuO1xuICAgIHN1cGVyLmNsb3NlTWVudURyYXdlcihldmVudCwgZWxlbWVudFRvRm9jdXMpO1xuICAgIHRoaXMuaGVhZGVyLmNsYXNzTGlzdC5yZW1vdmUoJ21lbnUtb3BlbicpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTtcbiAgfVxuXG4gIG9uUmVzaXplID0gKCkgPT4ge1xuICAgIHRoaXMuaGVhZGVyICYmXG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXG4gICAgICAgICctLWhlYWRlci1ib3R0b20tcG9zaXRpb24nLFxuICAgICAgICBgJHtwYXJzZUludCh0aGlzLmhlYWRlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gLSB0aGlzLmJvcmRlck9mZnNldCl9cHhgXG4gICAgICApO1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS12aWV3cG9ydC1oZWlnaHQnLCBgJHt3aW5kb3cuaW5uZXJIZWlnaHR9cHhgKTtcbiAgfTtcbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdoZWFkZXItZHJhd2VyJywgSGVhZGVyRHJhd2VyKTtcblxuY2xhc3MgTW9kYWxEaWFsb2cgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdbaWRePVwiTW9kYWxDbG9zZS1cIl0nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZS5iaW5kKHRoaXMsIGZhbHNlKSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xuICAgICAgaWYgKGV2ZW50LmNvZGUudG9VcHBlckNhc2UoKSA9PT0gJ0VTQ0FQRScpIHRoaXMuaGlkZSgpO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLmNsYXNzTGlzdC5jb250YWlucygnbWVkaWEtbW9kYWwnKSkge1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAnbW91c2UnICYmICFldmVudC50YXJnZXQuY2xvc2VzdCgnZGVmZXJyZWQtbWVkaWEsIHByb2R1Y3QtbW9kZWwnKSkgdGhpcy5oaWRlKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKSB0aGlzLmhpZGUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgIGlmICh0aGlzLm1vdmVkKSByZXR1cm47XG4gICAgdGhpcy5tb3ZlZCA9IHRydWU7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzKTtcbiAgfVxuXG4gIHNob3cob3BlbmVyKSB7XG4gICAgdGhpcy5vcGVuZWRCeSA9IG9wZW5lcjtcbiAgICBjb25zdCBwb3B1cCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnRlbXBsYXRlLXBvcHVwJyk7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnb3BlbicsICcnKTtcbiAgICBpZiAocG9wdXApIHBvcHVwLmxvYWRDb250ZW50KCk7XG4gICAgdHJhcEZvY3VzKHRoaXMsIHRoaXMucXVlcnlTZWxlY3RvcignW3JvbGU9XCJkaWFsb2dcIl0nKSk7XG4gICAgd2luZG93LnBhdXNlQWxsTWVkaWEoKTtcbiAgfVxuXG4gIGhpZGUoKSB7XG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICBkb2N1bWVudC5ib2R5LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdtb2RhbENsb3NlZCcpKTtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgnb3BlbicpO1xuICAgIHJlbW92ZVRyYXBGb2N1cyh0aGlzLm9wZW5lZEJ5KTtcbiAgICB3aW5kb3cucGF1c2VBbGxNZWRpYSgpO1xuICB9XG59XG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21vZGFsLWRpYWxvZycsIE1vZGFsRGlhbG9nKTtcblxuY2xhc3MgTW9kYWxPcGVuZXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICBjb25zdCBidXR0b24gPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpO1xuXG4gICAgaWYgKCFidXR0b24pIHJldHVybjtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtbW9kYWwnKSk7XG4gICAgICBpZiAobW9kYWwpIG1vZGFsLnNob3coYnV0dG9uKTtcbiAgICB9KTtcbiAgfVxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtb2RhbC1vcGVuZXInLCBNb2RhbE9wZW5lcik7XG5cbmNsYXNzIERlZmVycmVkTWVkaWEgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgcG9zdGVyID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbaWRePVwiRGVmZXJyZWQtUG9zdGVyLVwiXScpO1xuICAgIGlmICghcG9zdGVyKSByZXR1cm47XG4gICAgcG9zdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5sb2FkQ29udGVudC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGxvYWRDb250ZW50KGZvY3VzID0gdHJ1ZSkge1xuICAgIHdpbmRvdy5wYXVzZUFsbE1lZGlhKCk7XG4gICAgaWYgKCF0aGlzLmdldEF0dHJpYnV0ZSgnbG9hZGVkJykpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRlbnQuYXBwZW5kQ2hpbGQodGhpcy5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpKTtcblxuICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2xvYWRlZCcsIHRydWUpO1xuICAgICAgY29uc3QgZGVmZXJyZWRFbGVtZW50ID0gdGhpcy5hcHBlbmRDaGlsZChjb250ZW50LnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvLCBtb2RlbC12aWV3ZXIsIGlmcmFtZScpKTtcbiAgICAgIGlmIChmb2N1cykgZGVmZXJyZWRFbGVtZW50LmZvY3VzKCk7XG4gICAgICBpZiAoZGVmZXJyZWRFbGVtZW50Lm5vZGVOYW1lID09ICdWSURFTycgJiYgZGVmZXJyZWRFbGVtZW50LmdldEF0dHJpYnV0ZSgnYXV0b3BsYXknKSkge1xuICAgICAgICAvLyBmb3JjZSBhdXRvcGxheSBmb3Igc2FmYXJpXG4gICAgICAgIGRlZmVycmVkRWxlbWVudC5wbGF5KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZGVmZXJyZWQtbWVkaWEnLCBEZWZlcnJlZE1lZGlhKTtcblxuY2xhc3MgU2xpZGVyQ29tcG9uZW50IGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc2xpZGVyID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbaWRePVwiU2xpZGVyLVwiXScpO1xuICAgIHRoaXMuc2xpZGVySXRlbXMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZF49XCJTbGlkZS1cIl0nKTtcbiAgICB0aGlzLmVuYWJsZVNsaWRlckxvb3BpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmN1cnJlbnRQYWdlRWxlbWVudCA9IHRoaXMucXVlcnlTZWxlY3RvcignLnNsaWRlci1jb3VudGVyLS1jdXJyZW50Jyk7XG4gICAgdGhpcy5wYWdlVG90YWxFbGVtZW50ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyLWNvdW50ZXItLXRvdGFsJyk7XG4gICAgdGhpcy5wcmV2QnV0dG9uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdidXR0b25bbmFtZT1cInByZXZpb3VzXCJdJyk7XG4gICAgdGhpcy5uZXh0QnV0dG9uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdidXR0b25bbmFtZT1cIm5leHRcIl0nKTtcblxuICAgIGlmICghdGhpcy5zbGlkZXIgfHwgIXRoaXMubmV4dEJ1dHRvbikgcmV0dXJuO1xuXG4gICAgdGhpcy5pbml0UGFnZXMoKTtcbiAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4gdGhpcy5pbml0UGFnZXMoKSk7XG4gICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnNsaWRlcik7XG5cbiAgICB0aGlzLnNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLnByZXZCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQnV0dG9uQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgdGhpcy5uZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkJ1dHRvbkNsaWNrLmJpbmQodGhpcykpO1xuICB9XG5cbiAgaW5pdFBhZ2VzKCkge1xuICAgIHRoaXMuc2xpZGVySXRlbXNUb1Nob3cgPSBBcnJheS5mcm9tKHRoaXMuc2xpZGVySXRlbXMpLmZpbHRlcigoZWxlbWVudCkgPT4gZWxlbWVudC5jbGllbnRXaWR0aCA+IDApO1xuICAgIGlmICh0aGlzLnNsaWRlckl0ZW1zVG9TaG93Lmxlbmd0aCA8IDIpIHJldHVybjtcbiAgICB0aGlzLnNsaWRlckl0ZW1PZmZzZXQgPSB0aGlzLnNsaWRlckl0ZW1zVG9TaG93WzFdLm9mZnNldExlZnQgLSB0aGlzLnNsaWRlckl0ZW1zVG9TaG93WzBdLm9mZnNldExlZnQ7XG4gICAgdGhpcy5zbGlkZXNQZXJQYWdlID0gTWF0aC5mbG9vcihcbiAgICAgICh0aGlzLnNsaWRlci5jbGllbnRXaWR0aCAtIHRoaXMuc2xpZGVySXRlbXNUb1Nob3dbMF0ub2Zmc2V0TGVmdCkgLyB0aGlzLnNsaWRlckl0ZW1PZmZzZXRcbiAgICApO1xuICAgIHRoaXMudG90YWxQYWdlcyA9IHRoaXMuc2xpZGVySXRlbXNUb1Nob3cubGVuZ3RoIC0gdGhpcy5zbGlkZXNQZXJQYWdlICsgMTtcbiAgICB0aGlzLnVwZGF0ZSgpO1xuICB9XG5cbiAgcmVzZXRQYWdlcygpIHtcbiAgICB0aGlzLnNsaWRlckl0ZW1zID0gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdbaWRePVwiU2xpZGUtXCJdJyk7XG4gICAgdGhpcy5pbml0UGFnZXMoKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICAvLyBUZW1wb3JhcmlseSBwcmV2ZW50cyB1bm5lZWRlZCB1cGRhdGVzIHJlc3VsdGluZyBmcm9tIHZhcmlhbnQgY2hhbmdlc1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIHJlZmFjdG9yZWQgYXMgcGFydCBvZiBodHRwczovL2dpdGh1Yi5jb20vU2hvcGlmeS9kYXduL2lzc3Vlcy8yMDU3XG4gICAgaWYgKCF0aGlzLnNsaWRlciB8fCAhdGhpcy5uZXh0QnV0dG9uKSByZXR1cm47XG5cbiAgICBjb25zdCBwcmV2aW91c1BhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlO1xuICAgIHRoaXMuY3VycmVudFBhZ2UgPSBNYXRoLnJvdW5kKHRoaXMuc2xpZGVyLnNjcm9sbExlZnQgLyB0aGlzLnNsaWRlckl0ZW1PZmZzZXQpICsgMTtcblxuICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlRWxlbWVudCAmJiB0aGlzLnBhZ2VUb3RhbEVsZW1lbnQpIHtcbiAgICAgIHRoaXMuY3VycmVudFBhZ2VFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5jdXJyZW50UGFnZTtcbiAgICAgIHRoaXMucGFnZVRvdGFsRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMudG90YWxQYWdlcztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jdXJyZW50UGFnZSAhPSBwcmV2aW91c1BhZ2UpIHtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdzbGlkZUNoYW5nZWQnLCB7XG4gICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5jdXJyZW50UGFnZSxcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50OiB0aGlzLnNsaWRlckl0ZW1zVG9TaG93W3RoaXMuY3VycmVudFBhZ2UgLSAxXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbmFibGVTbGlkZXJMb29waW5nKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5pc1NsaWRlVmlzaWJsZSh0aGlzLnNsaWRlckl0ZW1zVG9TaG93WzBdKSAmJiB0aGlzLnNsaWRlci5zY3JvbGxMZWZ0ID09PSAwKSB7XG4gICAgICB0aGlzLnByZXZCdXR0b24uc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByZXZCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmlzU2xpZGVWaXNpYmxlKHRoaXMuc2xpZGVySXRlbXNUb1Nob3dbdGhpcy5zbGlkZXJJdGVtc1RvU2hvdy5sZW5ndGggLSAxXSkpIHtcbiAgICAgIHRoaXMubmV4dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmV4dEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG5cbiAgaXNTbGlkZVZpc2libGUoZWxlbWVudCwgb2Zmc2V0ID0gMCkge1xuICAgIGNvbnN0IGxhc3RWaXNpYmxlU2xpZGUgPSB0aGlzLnNsaWRlci5jbGllbnRXaWR0aCArIHRoaXMuc2xpZGVyLnNjcm9sbExlZnQgLSBvZmZzZXQ7XG4gICAgcmV0dXJuIGVsZW1lbnQub2Zmc2V0TGVmdCArIGVsZW1lbnQuY2xpZW50V2lkdGggPD0gbGFzdFZpc2libGVTbGlkZSAmJiBlbGVtZW50Lm9mZnNldExlZnQgPj0gdGhpcy5zbGlkZXIuc2Nyb2xsTGVmdDtcbiAgfVxuXG4gIG9uQnV0dG9uQ2xpY2soZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHN0ZXAgPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuc3RlcCB8fCAxO1xuICAgIHRoaXMuc2xpZGVTY3JvbGxQb3NpdGlvbiA9XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0Lm5hbWUgPT09ICduZXh0J1xuICAgICAgICA/IHRoaXMuc2xpZGVyLnNjcm9sbExlZnQgKyBzdGVwICogdGhpcy5zbGlkZXJJdGVtT2Zmc2V0XG4gICAgICAgIDogdGhpcy5zbGlkZXIuc2Nyb2xsTGVmdCAtIHN0ZXAgKiB0aGlzLnNsaWRlckl0ZW1PZmZzZXQ7XG4gICAgdGhpcy5zbGlkZXIuc2Nyb2xsVG8oe1xuICAgICAgbGVmdDogdGhpcy5zbGlkZVNjcm9sbFBvc2l0aW9uLFxuICAgIH0pO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2xpZGVyLWNvbXBvbmVudCcsIFNsaWRlckNvbXBvbmVudCk7XG5cbmNsYXNzIFNsaWRlc2hvd0NvbXBvbmVudCBleHRlbmRzIFNsaWRlckNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zbGlkZXJDb250cm9sV3JhcHBlciA9IHRoaXMucXVlcnlTZWxlY3RvcignLnNsaWRlci1idXR0b25zJyk7XG4gICAgdGhpcy5lbmFibGVTbGlkZXJMb29waW5nID0gdHJ1ZTtcblxuICAgIGlmICghdGhpcy5zbGlkZXJDb250cm9sV3JhcHBlcikgcmV0dXJuO1xuXG4gICAgdGhpcy5zbGlkZXJGaXJzdEl0ZW1Ob2RlID0gdGhpcy5zbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlc2hvd19fc2xpZGUnKTtcbiAgICBpZiAodGhpcy5zbGlkZXJJdGVtc1RvU2hvdy5sZW5ndGggPiAwKSB0aGlzLmN1cnJlbnRQYWdlID0gMTtcblxuICAgIHRoaXMuc2xpZGVyQ29udHJvbExpbmtzQXJyYXkgPSBBcnJheS5mcm9tKHRoaXMuc2xpZGVyQ29udHJvbFdyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlci1jb3VudGVyX19saW5rJykpO1xuICAgIHRoaXMuc2xpZGVyQ29udHJvbExpbmtzQXJyYXkuZm9yRWFjaCgobGluaykgPT4gbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMubGlua1RvU2xpZGUuYmluZCh0aGlzKSkpO1xuICAgIHRoaXMuc2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuc2V0U2xpZGVWaXNpYmlsaXR5LmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2V0U2xpZGVWaXNpYmlsaXR5KCk7XG5cbiAgICBpZiAodGhpcy5xdWVyeVNlbGVjdG9yKCcuYW5ub3VuY2VtZW50LWJhci1zbGlkZXInKSkge1xuICAgICAgdGhpcy5hbm5vdW5jZW1lbnRCYXJBcnJvd0J1dHRvbldhc0NsaWNrZWQgPSBmYWxzZTtcblxuICAgICAgdGhpcy5kZXNrdG9wTGF5b3V0ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6IDc1MHB4KScpO1xuICAgICAgdGhpcy5yZWR1Y2VkTW90aW9uID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpJyk7XG5cbiAgICAgIFt0aGlzLnJlZHVjZWRNb3Rpb24sIHRoaXMuZGVza3RvcExheW91dF0uZm9yRWFjaCgobWVkaWFRdWVyeSkgPT4ge1xuICAgICAgICBtZWRpYVF1ZXJ5LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5zbGlkZXIuZ2V0QXR0cmlidXRlKCdkYXRhLWF1dG9wbGF5JykgPT09ICd0cnVlJykgdGhpcy5zZXRBdXRvUGxheSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBbdGhpcy5wcmV2QnV0dG9uLCB0aGlzLm5leHRCdXR0b25dLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgdGhpcy5hbm5vdW5jZW1lbnRCYXJBcnJvd0J1dHRvbldhc0NsaWNrZWQgPSB0cnVlO1xuICAgICAgICB9LCB7b25jZTogdHJ1ZX0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2xpZGVyLmdldEF0dHJpYnV0ZSgnZGF0YS1hdXRvcGxheScpID09PSAndHJ1ZScpIHRoaXMuc2V0QXV0b1BsYXkoKTtcbiAgfVxuXG4gIHNldEF1dG9QbGF5KCkge1xuICAgIHRoaXMuYXV0b3BsYXlTcGVlZCA9IHRoaXMuc2xpZGVyLmRhdGFzZXQuc3BlZWQgKiAxMDAwO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5mb2N1c0luSGFuZGxpbmcuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5mb2N1c091dEhhbmRsaW5nLmJpbmQodGhpcykpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIHRoaXMuZm9jdXNJbkhhbmRsaW5nLmJpbmQodGhpcykpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXNvdXQnLCB0aGlzLmZvY3VzT3V0SGFuZGxpbmcuYmluZCh0aGlzKSk7XG5cbiAgICBpZiAodGhpcy5xdWVyeVNlbGVjdG9yKCcuc2xpZGVzaG93X19hdXRvcGxheScpKSB7XG4gICAgICB0aGlzLnNsaWRlckF1dG9wbGF5QnV0dG9uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcuc2xpZGVzaG93X19hdXRvcGxheScpO1xuICAgICAgdGhpcy5zbGlkZXJBdXRvcGxheUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYXV0b1BsYXlUb2dnbGUuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmF1dG9wbGF5QnV0dG9uSXNTZXRUb1BsYXkgPSB0cnVlO1xuICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVkdWNlZE1vdGlvbi5tYXRjaGVzIHx8IHRoaXMuYW5ub3VuY2VtZW50QmFyQXJyb3dCdXR0b25XYXNDbGlja2VkIHx8ICF0aGlzLmRlc2t0b3BMYXlvdXQubWF0Y2hlcyA/IHRoaXMucGF1c2UoKSA6IHRoaXMucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIG9uQnV0dG9uQ2xpY2soZXZlbnQpIHtcbiAgICBzdXBlci5vbkJ1dHRvbkNsaWNrKGV2ZW50KTtcbiAgICBjb25zdCBpc0ZpcnN0U2xpZGUgPSB0aGlzLmN1cnJlbnRQYWdlID09PSAxO1xuICAgIGNvbnN0IGlzTGFzdFNsaWRlID0gdGhpcy5jdXJyZW50UGFnZSA9PT0gdGhpcy5zbGlkZXJJdGVtc1RvU2hvdy5sZW5ndGg7XG5cbiAgICBpZiAoIWlzRmlyc3RTbGlkZSAmJiAhaXNMYXN0U2xpZGUpIHJldHVybjtcblxuICAgIGlmIChpc0ZpcnN0U2xpZGUgJiYgZXZlbnQuY3VycmVudFRhcmdldC5uYW1lID09PSAncHJldmlvdXMnKSB7XG4gICAgICB0aGlzLnNsaWRlU2Nyb2xsUG9zaXRpb24gPVxuICAgICAgICB0aGlzLnNsaWRlci5zY3JvbGxMZWZ0ICsgdGhpcy5zbGlkZXJGaXJzdEl0ZW1Ob2RlLmNsaWVudFdpZHRoICogdGhpcy5zbGlkZXJJdGVtc1RvU2hvdy5sZW5ndGg7XG4gICAgfSBlbHNlIGlmIChpc0xhc3RTbGlkZSAmJiBldmVudC5jdXJyZW50VGFyZ2V0Lm5hbWUgPT09ICduZXh0Jykge1xuICAgICAgdGhpcy5zbGlkZVNjcm9sbFBvc2l0aW9uID0gMDtcbiAgICB9XG4gICAgdGhpcy5zbGlkZXIuc2Nyb2xsVG8oe1xuICAgICAgbGVmdDogdGhpcy5zbGlkZVNjcm9sbFBvc2l0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgIHRoaXMuc2xpZGVyQ29udHJvbEJ1dHRvbnMgPSB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXItY291bnRlcl9fbGluaycpO1xuICAgIHRoaXMucHJldkJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG5cbiAgICBpZiAoIXRoaXMuc2xpZGVyQ29udHJvbEJ1dHRvbnMubGVuZ3RoKSByZXR1cm47XG5cbiAgICB0aGlzLnNsaWRlckNvbnRyb2xCdXR0b25zLmZvckVhY2goKGxpbmspID0+IHtcbiAgICAgIGxpbmsuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyLWNvdW50ZXJfX2xpbmstLWFjdGl2ZScpO1xuICAgICAgbGluay5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcpO1xuICAgIH0pO1xuICAgIHRoaXMuc2xpZGVyQ29udHJvbEJ1dHRvbnNbdGhpcy5jdXJyZW50UGFnZSAtIDFdLmNsYXNzTGlzdC5hZGQoJ3NsaWRlci1jb3VudGVyX19saW5rLS1hY3RpdmUnKTtcbiAgICB0aGlzLnNsaWRlckNvbnRyb2xCdXR0b25zW3RoaXMuY3VycmVudFBhZ2UgLSAxXS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsIHRydWUpO1xuICB9XG5cbiAgYXV0b1BsYXlUb2dnbGUoKSB7XG4gICAgdGhpcy50b2dnbGVQbGF5QnV0dG9uU3RhdGUodGhpcy5hdXRvcGxheUJ1dHRvbklzU2V0VG9QbGF5KTtcbiAgICB0aGlzLmF1dG9wbGF5QnV0dG9uSXNTZXRUb1BsYXkgPyB0aGlzLnBhdXNlKCkgOiB0aGlzLnBsYXkoKTtcbiAgICB0aGlzLmF1dG9wbGF5QnV0dG9uSXNTZXRUb1BsYXkgPSAhdGhpcy5hdXRvcGxheUJ1dHRvbklzU2V0VG9QbGF5O1xuICB9XG5cbiAgZm9jdXNPdXRIYW5kbGluZyhldmVudCkge1xuICAgIGlmICh0aGlzLnNsaWRlckF1dG9wbGF5QnV0dG9uKSB7XG4gICAgICBjb25zdCBmb2N1c2VkT25BdXRvcGxheUJ1dHRvbiA9XG4gICAgICAgIGV2ZW50LnRhcmdldCA9PT0gdGhpcy5zbGlkZXJBdXRvcGxheUJ1dHRvbiB8fCB0aGlzLnNsaWRlckF1dG9wbGF5QnV0dG9uLmNvbnRhaW5zKGV2ZW50LnRhcmdldCk7XG4gICAgICBpZiAoIXRoaXMuYXV0b3BsYXlCdXR0b25Jc1NldFRvUGxheSB8fCBmb2N1c2VkT25BdXRvcGxheUJ1dHRvbikgcmV0dXJuO1xuICAgICAgdGhpcy5wbGF5KCk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5yZWR1Y2VkTW90aW9uLm1hdGNoZXMgJiYgIXRoaXMuYW5ub3VuY2VtZW50QmFyQXJyb3dCdXR0b25XYXNDbGlja2VkICYmIHRoaXMuZGVza3RvcExheW91dC5tYXRjaGVzKSB7XG4gICAgICB0aGlzLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmb2N1c0luSGFuZGxpbmcoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5zbGlkZXJBdXRvcGxheUJ1dHRvbikge1xuICAgICAgY29uc3QgZm9jdXNlZE9uQXV0b3BsYXlCdXR0b24gPVxuICAgICAgICBldmVudC50YXJnZXQgPT09IHRoaXMuc2xpZGVyQXV0b3BsYXlCdXR0b24gfHwgdGhpcy5zbGlkZXJBdXRvcGxheUJ1dHRvbi5jb250YWlucyhldmVudC50YXJnZXQpO1xuICAgICAgaWYgKGZvY3VzZWRPbkF1dG9wbGF5QnV0dG9uICYmIHRoaXMuYXV0b3BsYXlCdXR0b25Jc1NldFRvUGxheSkge1xuICAgICAgICB0aGlzLnBsYXkoKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5hdXRvcGxheUJ1dHRvbklzU2V0VG9QbGF5KSB7XG4gICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMucXVlcnlTZWxlY3RvcignLmFubm91bmNlbWVudC1iYXItc2xpZGVyJykuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgdGhpcy5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gIHBsYXkoKSB7XG4gICAgdGhpcy5zbGlkZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnb2ZmJyk7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9wbGF5KTtcbiAgICB0aGlzLmF1dG9wbGF5ID0gc2V0SW50ZXJ2YWwodGhpcy5hdXRvUm90YXRlU2xpZGVzLmJpbmQodGhpcyksIHRoaXMuYXV0b3BsYXlTcGVlZCk7XG4gIH1cblxuICBwYXVzZSgpIHtcbiAgICB0aGlzLnNsaWRlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGl2ZScsICdwb2xpdGUnKTtcbiAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b3BsYXkpO1xuICB9XG5cbiAgdG9nZ2xlUGxheUJ1dHRvblN0YXRlKHBhdXNlQXV0b3BsYXkpIHtcbiAgICBpZiAocGF1c2VBdXRvcGxheSkge1xuICAgICAgdGhpcy5zbGlkZXJBdXRvcGxheUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzbGlkZXNob3dfX2F1dG9wbGF5LS1wYXVzZWQnKTtcbiAgICAgIHRoaXMuc2xpZGVyQXV0b3BsYXlCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgd2luZG93LmFjY2Vzc2liaWxpdHlTdHJpbmdzLnBsYXlTbGlkZXNob3cpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNsaWRlckF1dG9wbGF5QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlc2hvd19fYXV0b3BsYXktLXBhdXNlZCcpO1xuICAgICAgdGhpcy5zbGlkZXJBdXRvcGxheUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCB3aW5kb3cuYWNjZXNzaWJpbGl0eVN0cmluZ3MucGF1c2VTbGlkZXNob3cpO1xuICAgIH1cbiAgfVxuXG4gIGF1dG9Sb3RhdGVTbGlkZXMoKSB7XG4gICAgY29uc3Qgc2xpZGVTY3JvbGxQb3NpdGlvbiA9XG4gICAgICB0aGlzLmN1cnJlbnRQYWdlID09PSB0aGlzLnNsaWRlckl0ZW1zLmxlbmd0aFxuICAgICAgICA/IDBcbiAgICAgICAgOiB0aGlzLnNsaWRlci5zY3JvbGxMZWZ0ICsgdGhpcy5zbGlkZXIucXVlcnlTZWxlY3RvcignLnNsaWRlc2hvd19fc2xpZGUnKS5jbGllbnRXaWR0aDtcbiAgICB0aGlzLnNsaWRlci5zY3JvbGxUbyh7XG4gICAgICBsZWZ0OiBzbGlkZVNjcm9sbFBvc2l0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgc2V0U2xpZGVWaXNpYmlsaXR5KCkge1xuICAgIHRoaXMuc2xpZGVySXRlbXNUb1Nob3cuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IGxpbmtFbGVtZW50cyA9IGl0ZW0ucXVlcnlTZWxlY3RvckFsbCgnYScpO1xuICAgICAgaWYgKGluZGV4ID09PSB0aGlzLmN1cnJlbnRQYWdlIC0gMSkge1xuICAgICAgICBpZiAobGlua0VsZW1lbnRzLmxlbmd0aClcbiAgICAgICAgICBsaW5rRWxlbWVudHMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICBidXR0b24ucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgICAgaXRlbS5yZW1vdmVBdHRyaWJ1dGUoJ3RhYmluZGV4Jyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobGlua0VsZW1lbnRzLmxlbmd0aClcbiAgICAgICAgICBsaW5rRWxlbWVudHMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICBidXR0b24uc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGxpbmtUb1NsaWRlKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBzbGlkZVNjcm9sbFBvc2l0aW9uID1cbiAgICAgIHRoaXMuc2xpZGVyLnNjcm9sbExlZnQgK1xuICAgICAgdGhpcy5zbGlkZXJGaXJzdEl0ZW1Ob2RlLmNsaWVudFdpZHRoICpcbiAgICAgICAgKHRoaXMuc2xpZGVyQ29udHJvbExpbmtzQXJyYXkuaW5kZXhPZihldmVudC5jdXJyZW50VGFyZ2V0KSArIDEgLSB0aGlzLmN1cnJlbnRQYWdlKTtcbiAgICB0aGlzLnNsaWRlci5zY3JvbGxUbyh7XG4gICAgICBsZWZ0OiBzbGlkZVNjcm9sbFBvc2l0aW9uLFxuICAgIH0pO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnc2xpZGVzaG93LWNvbXBvbmVudCcsIFNsaWRlc2hvd0NvbXBvbmVudCk7XG5cbmNsYXNzIFZhcmlhbnRTZWxlY3RzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5vblZhcmlhbnRDaGFuZ2UpO1xuICB9XG5cbiAgb25WYXJpYW50Q2hhbmdlKCkge1xuICAgIHRoaXMudXBkYXRlT3B0aW9ucygpO1xuICAgIHRoaXMudXBkYXRlTWFzdGVySWQoKTtcbiAgICB0aGlzLnRvZ2dsZUFkZEJ1dHRvbih0cnVlLCAnJywgZmFsc2UpO1xuICAgIHRoaXMudXBkYXRlUGlja3VwQXZhaWxhYmlsaXR5KCk7XG4gICAgdGhpcy5yZW1vdmVFcnJvck1lc3NhZ2UoKTtcbiAgICB0aGlzLnVwZGF0ZVZhcmlhbnRTdGF0dXNlcygpO1xuXG4gICAgaWYgKCF0aGlzLmN1cnJlbnRWYXJpYW50KSB7XG4gICAgICB0aGlzLnRvZ2dsZUFkZEJ1dHRvbih0cnVlLCAnJywgdHJ1ZSk7XG4gICAgICB0aGlzLnNldFVuYXZhaWxhYmxlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXBkYXRlTWVkaWEoKTtcbiAgICAgIHRoaXMudXBkYXRlVVJMKCk7XG4gICAgICB0aGlzLnVwZGF0ZVZhcmlhbnRJbnB1dCgpO1xuICAgICAgdGhpcy5yZW5kZXJQcm9kdWN0SW5mbygpO1xuICAgICAgdGhpcy51cGRhdGVTaGFyZVVybCgpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZU9wdGlvbnMoKSB7XG4gICAgdGhpcy5vcHRpb25zID0gQXJyYXkuZnJvbSh0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdCcpLCAoc2VsZWN0KSA9PiBzZWxlY3QudmFsdWUpO1xuICB9XG5cbiAgdXBkYXRlTWFzdGVySWQoKSB7XG4gICAgdGhpcy5jdXJyZW50VmFyaWFudCA9IHRoaXMuZ2V0VmFyaWFudERhdGEoKS5maW5kKCh2YXJpYW50KSA9PiB7XG4gICAgICByZXR1cm4gIXZhcmlhbnQub3B0aW9uc1xuICAgICAgICAubWFwKChvcHRpb24sIGluZGV4KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1tpbmRleF0gPT09IG9wdGlvbjtcbiAgICAgICAgfSlcbiAgICAgICAgLmluY2x1ZGVzKGZhbHNlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZU1lZGlhKCkge1xuICAgIGlmICghdGhpcy5jdXJyZW50VmFyaWFudCkgcmV0dXJuO1xuICAgIGlmICghdGhpcy5jdXJyZW50VmFyaWFudC5mZWF0dXJlZF9tZWRpYSkgcmV0dXJuO1xuXG4gICAgY29uc3QgbWVkaWFHYWxsZXJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbaWRePVwiTWVkaWFHYWxsZXJ5LSR7dGhpcy5kYXRhc2V0LnNlY3Rpb259XCJdYCk7XG4gICAgbWVkaWFHYWxsZXJpZXMuZm9yRWFjaCgobWVkaWFHYWxsZXJ5KSA9PlxuICAgICAgbWVkaWFHYWxsZXJ5LnNldEFjdGl2ZU1lZGlhKGAke3RoaXMuZGF0YXNldC5zZWN0aW9ufS0ke3RoaXMuY3VycmVudFZhcmlhbnQuZmVhdHVyZWRfbWVkaWEuaWR9YCwgdHJ1ZSlcbiAgICApO1xuXG4gICAgY29uc3QgbW9kYWxDb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI1Byb2R1Y3RNb2RhbC0ke3RoaXMuZGF0YXNldC5zZWN0aW9ufSAucHJvZHVjdC1tZWRpYS1tb2RhbF9fY29udGVudGApO1xuICAgIGlmICghbW9kYWxDb250ZW50KSByZXR1cm47XG4gICAgY29uc3QgbmV3TWVkaWFNb2RhbCA9IG1vZGFsQ29udGVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1tZWRpYS1pZD1cIiR7dGhpcy5jdXJyZW50VmFyaWFudC5mZWF0dXJlZF9tZWRpYS5pZH1cIl1gKTtcbiAgICBtb2RhbENvbnRlbnQucHJlcGVuZChuZXdNZWRpYU1vZGFsKTtcbiAgfVxuXG4gIHVwZGF0ZVVSTCgpIHtcbiAgICBpZiAoIXRoaXMuY3VycmVudFZhcmlhbnQgfHwgdGhpcy5kYXRhc2V0LnVwZGF0ZVVybCA9PT0gJ2ZhbHNlJykgcmV0dXJuO1xuICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7fSwgJycsIGAke3RoaXMuZGF0YXNldC51cmx9P3ZhcmlhbnQ9JHt0aGlzLmN1cnJlbnRWYXJpYW50LmlkfWApO1xuICB9XG5cbiAgdXBkYXRlU2hhcmVVcmwoKSB7XG4gICAgY29uc3Qgc2hhcmVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgU2hhcmUtJHt0aGlzLmRhdGFzZXQuc2VjdGlvbn1gKTtcbiAgICBpZiAoIXNoYXJlQnV0dG9uIHx8ICFzaGFyZUJ1dHRvbi51cGRhdGVVcmwpIHJldHVybjtcbiAgICBzaGFyZUJ1dHRvbi51cGRhdGVVcmwoYCR7d2luZG93LnNob3BVcmx9JHt0aGlzLmRhdGFzZXQudXJsfT92YXJpYW50PSR7dGhpcy5jdXJyZW50VmFyaWFudC5pZH1gKTtcbiAgfVxuXG4gIHVwZGF0ZVZhcmlhbnRJbnB1dCgpIHtcbiAgICBjb25zdCBwcm9kdWN0Rm9ybXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgYCNwcm9kdWN0LWZvcm0tJHt0aGlzLmRhdGFzZXQuc2VjdGlvbn0sICNwcm9kdWN0LWZvcm0taW5zdGFsbG1lbnQtJHt0aGlzLmRhdGFzZXQuc2VjdGlvbn1gXG4gICAgKTtcbiAgICBwcm9kdWN0Rm9ybXMuZm9yRWFjaCgocHJvZHVjdEZvcm0pID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0gcHJvZHVjdEZvcm0ucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImlkXCJdJyk7XG4gICAgICBpbnB1dC52YWx1ZSA9IHRoaXMuY3VycmVudFZhcmlhbnQuaWQ7XG4gICAgICBpbnB1dC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnY2hhbmdlJywgeyBidWJibGVzOiB0cnVlIH0pKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZVZhcmlhbnRTdGF0dXNlcygpIHtcbiAgICBjb25zdCBzZWxlY3RlZE9wdGlvbk9uZVZhcmlhbnRzID0gdGhpcy52YXJpYW50RGF0YS5maWx0ZXIoXG4gICAgICAodmFyaWFudCkgPT4gdGhpcy5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpLnZhbHVlID09PSB2YXJpYW50Lm9wdGlvbjFcbiAgICApO1xuICAgIGNvbnN0IGlucHV0V3JhcHBlcnMgPSBbLi4udGhpcy5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdC1mb3JtX19pbnB1dCcpXTtcbiAgICBpbnB1dFdyYXBwZXJzLmZvckVhY2goKG9wdGlvbiwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuO1xuICAgICAgY29uc3Qgb3B0aW9uSW5wdXRzID0gWy4uLm9wdGlvbi5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0sIG9wdGlvbicpXTtcbiAgICAgIGNvbnN0IHByZXZpb3VzT3B0aW9uU2VsZWN0ZWQgPSBpbnB1dFdyYXBwZXJzW2luZGV4IC0gMV0ucXVlcnlTZWxlY3RvcignOmNoZWNrZWQnKS52YWx1ZTtcbiAgICAgIGNvbnN0IGF2YWlsYWJsZU9wdGlvbklucHV0c1ZhbHVlID0gc2VsZWN0ZWRPcHRpb25PbmVWYXJpYW50c1xuICAgICAgICAuZmlsdGVyKCh2YXJpYW50KSA9PiB2YXJpYW50LmF2YWlsYWJsZSAmJiB2YXJpYW50W2BvcHRpb24ke2luZGV4fWBdID09PSBwcmV2aW91c09wdGlvblNlbGVjdGVkKVxuICAgICAgICAubWFwKCh2YXJpYW50T3B0aW9uKSA9PiB2YXJpYW50T3B0aW9uW2BvcHRpb24ke2luZGV4ICsgMX1gXSk7XG4gICAgICB0aGlzLnNldElucHV0QXZhaWxhYmlsaXR5KG9wdGlvbklucHV0cywgYXZhaWxhYmxlT3B0aW9uSW5wdXRzVmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgc2V0SW5wdXRBdmFpbGFiaWxpdHkobGlzdE9mT3B0aW9ucywgbGlzdE9mQXZhaWxhYmxlT3B0aW9ucykge1xuICAgIGxpc3RPZk9wdGlvbnMuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlmIChsaXN0T2ZBdmFpbGFibGVPcHRpb25zLmluY2x1ZGVzKGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkpIHtcbiAgICAgICAgaW5wdXQuaW5uZXJUZXh0ID0gaW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXQuaW5uZXJUZXh0ID0gd2luZG93LnZhcmlhbnRTdHJpbmdzLnVuYXZhaWxhYmxlX3dpdGhfb3B0aW9uLnJlcGxhY2UoJ1t2YWx1ZV0nLCBpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlUGlja3VwQXZhaWxhYmlsaXR5KCkge1xuICAgIGNvbnN0IHBpY2tVcEF2YWlsYWJpbGl0eSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3BpY2t1cC1hdmFpbGFiaWxpdHknKTtcbiAgICBpZiAoIXBpY2tVcEF2YWlsYWJpbGl0eSkgcmV0dXJuO1xuXG4gICAgaWYgKHRoaXMuY3VycmVudFZhcmlhbnQgJiYgdGhpcy5jdXJyZW50VmFyaWFudC5hdmFpbGFibGUpIHtcbiAgICAgIHBpY2tVcEF2YWlsYWJpbGl0eS5mZXRjaEF2YWlsYWJpbGl0eSh0aGlzLmN1cnJlbnRWYXJpYW50LmlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGlja1VwQXZhaWxhYmlsaXR5LnJlbW92ZUF0dHJpYnV0ZSgnYXZhaWxhYmxlJyk7XG4gICAgICBwaWNrVXBBdmFpbGFiaWxpdHkuaW5uZXJIVE1MID0gJyc7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlRXJyb3JNZXNzYWdlKCkge1xuICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLmNsb3Nlc3QoJ3NlY3Rpb24nKTtcbiAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcblxuICAgIGNvbnN0IHByb2R1Y3RGb3JtID0gc2VjdGlvbi5xdWVyeVNlbGVjdG9yKCdwcm9kdWN0LWZvcm0nKTtcbiAgICBpZiAocHJvZHVjdEZvcm0pIHByb2R1Y3RGb3JtLmhhbmRsZUVycm9yTWVzc2FnZSgpO1xuICB9XG5cbiAgcmVuZGVyUHJvZHVjdEluZm8oKSB7XG4gICAgY29uc3QgcmVxdWVzdGVkVmFyaWFudElkID0gdGhpcy5jdXJyZW50VmFyaWFudC5pZDtcbiAgICBjb25zdCBzZWN0aW9uSWQgPSB0aGlzLmRhdGFzZXQub3JpZ2luYWxTZWN0aW9uID8gdGhpcy5kYXRhc2V0Lm9yaWdpbmFsU2VjdGlvbiA6IHRoaXMuZGF0YXNldC5zZWN0aW9uO1xuXG4gICAgZmV0Y2goXG4gICAgICBgJHt0aGlzLmRhdGFzZXQudXJsfT92YXJpYW50PSR7cmVxdWVzdGVkVmFyaWFudElkfSZzZWN0aW9uX2lkPSR7XG4gICAgICAgIHRoaXMuZGF0YXNldC5vcmlnaW5hbFNlY3Rpb24gPyB0aGlzLmRhdGFzZXQub3JpZ2luYWxTZWN0aW9uIDogdGhpcy5kYXRhc2V0LnNlY3Rpb25cbiAgICAgIH1gXG4gICAgKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS50ZXh0KCkpXG4gICAgICAudGhlbigocmVzcG9uc2VUZXh0KSA9PiB7XG4gICAgICAgIC8vIHByZXZlbnQgdW5uZWNlc3NhcnkgdWkgY2hhbmdlcyBmcm9tIGFiYW5kb25lZCBzZWxlY3Rpb25zXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRWYXJpYW50LmlkICE9PSByZXF1ZXN0ZWRWYXJpYW50SWQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBodG1sID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZVRleHQsICd0ZXh0L2h0bWwnKTtcbiAgICAgICAgY29uc3QgZGVzdGluYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcHJpY2UtJHt0aGlzLmRhdGFzZXQuc2VjdGlvbn1gKTtcbiAgICAgICAgY29uc3Qgc291cmNlID0gaHRtbC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBgcHJpY2UtJHt0aGlzLmRhdGFzZXQub3JpZ2luYWxTZWN0aW9uID8gdGhpcy5kYXRhc2V0Lm9yaWdpbmFsU2VjdGlvbiA6IHRoaXMuZGF0YXNldC5zZWN0aW9ufWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgc2t1U291cmNlID0gaHRtbC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBgU2t1LSR7dGhpcy5kYXRhc2V0Lm9yaWdpbmFsU2VjdGlvbiA/IHRoaXMuZGF0YXNldC5vcmlnaW5hbFNlY3Rpb24gOiB0aGlzLmRhdGFzZXQuc2VjdGlvbn1gXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHNrdURlc3RpbmF0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYFNrdS0ke3RoaXMuZGF0YXNldC5zZWN0aW9ufWApO1xuICAgICAgICBjb25zdCBpbnZlbnRvcnlTb3VyY2UgPSBodG1sLmdldEVsZW1lbnRCeUlkKFxuICAgICAgICAgIGBJbnZlbnRvcnktJHt0aGlzLmRhdGFzZXQub3JpZ2luYWxTZWN0aW9uID8gdGhpcy5kYXRhc2V0Lm9yaWdpbmFsU2VjdGlvbiA6IHRoaXMuZGF0YXNldC5zZWN0aW9ufWBcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgaW52ZW50b3J5RGVzdGluYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgSW52ZW50b3J5LSR7dGhpcy5kYXRhc2V0LnNlY3Rpb259YCk7XG5cbiAgICAgICAgaWYgKHNvdXJjZSAmJiBkZXN0aW5hdGlvbikgZGVzdGluYXRpb24uaW5uZXJIVE1MID0gc291cmNlLmlubmVySFRNTDtcbiAgICAgICAgaWYgKGludmVudG9yeVNvdXJjZSAmJiBpbnZlbnRvcnlEZXN0aW5hdGlvbikgaW52ZW50b3J5RGVzdGluYXRpb24uaW5uZXJIVE1MID0gaW52ZW50b3J5U291cmNlLmlubmVySFRNTDtcbiAgICAgICAgaWYgKHNrdVNvdXJjZSAmJiBza3VEZXN0aW5hdGlvbikge1xuICAgICAgICAgIHNrdURlc3RpbmF0aW9uLmlubmVySFRNTCA9IHNrdVNvdXJjZS5pbm5lckhUTUw7XG4gICAgICAgICAgc2t1RGVzdGluYXRpb24uY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJpbGl0eS1oaWRkZW4nLCBza3VTb3VyY2UuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmlsaXR5LWhpZGRlbicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHByaWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHByaWNlLSR7dGhpcy5kYXRhc2V0LnNlY3Rpb259YCk7XG5cbiAgICAgICAgaWYgKHByaWNlKSBwcmljZS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmlsaXR5LWhpZGRlbicpO1xuXG4gICAgICAgIGlmIChpbnZlbnRvcnlEZXN0aW5hdGlvbilcbiAgICAgICAgICBpbnZlbnRvcnlEZXN0aW5hdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCd2aXNpYmlsaXR5LWhpZGRlbicsIGludmVudG9yeVNvdXJjZS5pbm5lclRleHQgPT09ICcnKTtcblxuICAgICAgICBjb25zdCBhZGRCdXR0b25VcGRhdGVkID0gaHRtbC5nZXRFbGVtZW50QnlJZChgUHJvZHVjdFN1Ym1pdEJ1dHRvbi0ke3NlY3Rpb25JZH1gKTtcbiAgICAgICAgdGhpcy50b2dnbGVBZGRCdXR0b24oXG4gICAgICAgICAgYWRkQnV0dG9uVXBkYXRlZCA/IGFkZEJ1dHRvblVwZGF0ZWQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpIDogdHJ1ZSxcbiAgICAgICAgICB3aW5kb3cudmFyaWFudFN0cmluZ3Muc29sZE91dFxuICAgICAgICApO1xuXG4gICAgICAgIHB1Ymxpc2goUFVCX1NVQl9FVkVOVFMudmFyaWFudENoYW5nZSwge1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIHNlY3Rpb25JZCxcbiAgICAgICAgICAgIGh0bWwsXG4gICAgICAgICAgICB2YXJpYW50OiB0aGlzLmN1cnJlbnRWYXJpYW50LFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICB0b2dnbGVBZGRCdXR0b24oZGlzYWJsZSA9IHRydWUsIHRleHQsIG1vZGlmeUNsYXNzID0gdHJ1ZSkge1xuICAgIGNvbnN0IHByb2R1Y3RGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHByb2R1Y3QtZm9ybS0ke3RoaXMuZGF0YXNldC5zZWN0aW9ufWApO1xuICAgIGlmICghcHJvZHVjdEZvcm0pIHJldHVybjtcbiAgICBjb25zdCBhZGRCdXR0b24gPSBwcm9kdWN0Rm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImFkZFwiXScpO1xuICAgIGNvbnN0IGFkZEJ1dHRvblRleHQgPSBwcm9kdWN0Rm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImFkZFwiXSA+IHNwYW4nKTtcbiAgICBpZiAoIWFkZEJ1dHRvbikgcmV0dXJuO1xuXG4gICAgaWYgKGRpc2FibGUpIHtcbiAgICAgIGFkZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICBpZiAodGV4dCkgYWRkQnV0dG9uVGV4dC50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZEJ1dHRvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICBhZGRCdXR0b25UZXh0LnRleHRDb250ZW50ID0gd2luZG93LnZhcmlhbnRTdHJpbmdzLmFkZFRvQ2FydDtcbiAgICB9XG5cbiAgICBpZiAoIW1vZGlmeUNsYXNzKSByZXR1cm47XG4gIH1cblxuICBzZXRVbmF2YWlsYWJsZSgpIHtcbiAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcHJvZHVjdC1mb3JtLSR7dGhpcy5kYXRhc2V0LnNlY3Rpb259YCk7XG4gICAgY29uc3QgYWRkQnV0dG9uID0gYnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwiYWRkXCJdJyk7XG4gICAgY29uc3QgYWRkQnV0dG9uVGV4dCA9IGJ1dHRvbi5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImFkZFwiXSA+IHNwYW4nKTtcbiAgICBjb25zdCBwcmljZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBwcmljZS0ke3RoaXMuZGF0YXNldC5zZWN0aW9ufWApO1xuICAgIGNvbnN0IGludmVudG9yeSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBJbnZlbnRvcnktJHt0aGlzLmRhdGFzZXQuc2VjdGlvbn1gKTtcbiAgICBjb25zdCBza3UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgU2t1LSR7dGhpcy5kYXRhc2V0LnNlY3Rpb259YCk7XG5cbiAgICBpZiAoIWFkZEJ1dHRvbikgcmV0dXJuO1xuICAgIGFkZEJ1dHRvblRleHQudGV4dENvbnRlbnQgPSB3aW5kb3cudmFyaWFudFN0cmluZ3MudW5hdmFpbGFibGU7XG4gICAgaWYgKHByaWNlKSBwcmljZS5jbGFzc0xpc3QuYWRkKCd2aXNpYmlsaXR5LWhpZGRlbicpO1xuICAgIGlmIChpbnZlbnRvcnkpIGludmVudG9yeS5jbGFzc0xpc3QuYWRkKCd2aXNpYmlsaXR5LWhpZGRlbicpO1xuICAgIGlmIChza3UpIHNrdS5jbGFzc0xpc3QuYWRkKCd2aXNpYmlsaXR5LWhpZGRlbicpO1xuICB9XG5cbiAgZ2V0VmFyaWFudERhdGEoKSB7XG4gICAgdGhpcy52YXJpYW50RGF0YSA9IHRoaXMudmFyaWFudERhdGEgfHwgSlNPTi5wYXJzZSh0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwiYXBwbGljYXRpb24vanNvblwiXScpLnRleHRDb250ZW50KTtcbiAgICByZXR1cm4gdGhpcy52YXJpYW50RGF0YTtcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3ZhcmlhbnQtc2VsZWN0cycsIFZhcmlhbnRTZWxlY3RzKTtcblxuY2xhc3MgVmFyaWFudFJhZGlvcyBleHRlbmRzIFZhcmlhbnRTZWxlY3RzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxuXG4gIHNldElucHV0QXZhaWxhYmlsaXR5KGxpc3RPZk9wdGlvbnMsIGxpc3RPZkF2YWlsYWJsZU9wdGlvbnMpIHtcbiAgICBsaXN0T2ZPcHRpb25zLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpZiAobGlzdE9mQXZhaWxhYmxlT3B0aW9ucy5pbmNsdWRlcyhpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpKSB7XG4gICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlT3B0aW9ucygpIHtcbiAgICBjb25zdCBmaWVsZHNldHMgPSBBcnJheS5mcm9tKHRoaXMucXVlcnlTZWxlY3RvckFsbCgnZmllbGRzZXQnKSk7XG4gICAgdGhpcy5vcHRpb25zID0gZmllbGRzZXRzLm1hcCgoZmllbGRzZXQpID0+IHtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGZpZWxkc2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0JykpLmZpbmQoKHJhZGlvKSA9PiByYWRpby5jaGVja2VkKS52YWx1ZTtcbiAgICB9KTtcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3ZhcmlhbnQtcmFkaW9zJywgVmFyaWFudFJhZGlvcyk7XG5cbmNsYXNzIFByb2R1Y3RSZWNvbW1lbmRhdGlvbnMgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gIH1cblxuICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSAoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICAgIGlmICghZW50cmllc1swXS5pc0ludGVyc2VjdGluZykgcmV0dXJuO1xuICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMpO1xuXG4gICAgICBmZXRjaCh0aGlzLmRhdGFzZXQudXJsKVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLnRleHQoKSlcbiAgICAgICAgLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICBjb25zdCBodG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgaHRtbC5pbm5lckhUTUwgPSB0ZXh0O1xuICAgICAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IGh0bWwucXVlcnlTZWxlY3RvcigncHJvZHVjdC1yZWNvbW1lbmRhdGlvbnMnKTtcblxuICAgICAgICAgIGlmIChyZWNvbW1lbmRhdGlvbnMgJiYgcmVjb21tZW5kYXRpb25zLmlubmVySFRNTC50cmltKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmlubmVySFRNTCA9IHJlY29tbWVuZGF0aW9ucy5pbm5lckhUTUw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3NsaWRlc2hvdy1jb21wb25lbnQnKSAmJiB0aGlzLmNsYXNzTGlzdC5jb250YWlucygnY29tcGxlbWVudGFyeS1wcm9kdWN0cycpKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChodG1sLnF1ZXJ5U2VsZWN0b3IoJy5ncmlkX19pdGVtJykpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1yZWNvbW1lbmRhdGlvbnMtLWxvYWRlZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVJbnRlcnNlY3Rpb24uYmluZCh0aGlzKSwgeyByb290TWFyZ2luOiAnMHB4IDBweCA0MDBweCAwcHgnIH0pLm9ic2VydmUodGhpcyk7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdwcm9kdWN0LXJlY29tbWVuZGF0aW9ucycsIFByb2R1Y3RSZWNvbW1lbmRhdGlvbnMpO1xuIiwiaWYgKCFjdXN0b21FbGVtZW50cy5nZXQoJ2xvY2FsaXphdGlvbi1mb3JtJykpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFxuICAgICdsb2NhbGl6YXRpb24tZm9ybScsXG4gICAgY2xhc3MgTG9jYWxpemF0aW9uRm9ybSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0ge1xuICAgICAgICAgIGlucHV0OiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJsb2NhbGVfY29kZVwiXSwgaW5wdXRbbmFtZT1cImNvdW50cnlfY29kZVwiXScpLFxuICAgICAgICAgIGJ1dHRvbjogdGhpcy5xdWVyeVNlbGVjdG9yKCdidXR0b24nKSxcbiAgICAgICAgICBwYW5lbDogdGhpcy5xdWVyeVNlbGVjdG9yKCcuZGlzY2xvc3VyZV9fbGlzdC13cmFwcGVyJyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZWxlbWVudHMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuU2VsZWN0b3IuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuZWxlbWVudHMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgdGhpcy5jbG9zZVNlbGVjdG9yLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbkNvbnRhaW5lcktleVVwLmJpbmQodGhpcykpO1xuXG4gICAgICAgIHRoaXMucXVlcnlTZWxlY3RvckFsbCgnYScpLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uSXRlbUNsaWNrLmJpbmQodGhpcykpKTtcbiAgICAgIH1cblxuICAgICAgaGlkZVBhbmVsKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRzLmJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cy5wYW5lbC5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICBvbkNvbnRhaW5lcktleVVwKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5jb2RlLnRvVXBwZXJDYXNlKCkgIT09ICdFU0NBUEUnKSByZXR1cm47XG5cbiAgICAgICAgaWYodGhpcy5lbGVtZW50cy5idXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT0gJ2ZhbHNlJykgcmV0dXJuO1xuICAgICAgICB0aGlzLmhpZGVQYW5lbCgpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cy5idXR0b24uZm9jdXMoKTtcbiAgICAgIH1cblxuICAgICAgb25JdGVtQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgZm9ybSA9IHRoaXMucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLmlucHV0LnZhbHVlID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnZhbHVlO1xuICAgICAgICBpZiAoZm9ybSkgZm9ybS5zdWJtaXQoKTtcbiAgICAgIH1cblxuICAgICAgb3BlblNlbGVjdG9yKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnRzLmJ1dHRvbi5mb2N1cygpO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnBhbmVsLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJyk7XG4gICAgICAgIHRoaXMuZWxlbWVudHMuYnV0dG9uLnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAnYXJpYS1leHBhbmRlZCcsXG4gICAgICAgICAgKHRoaXMuZWxlbWVudHMuYnV0dG9uLmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpID09PSAnZmFsc2UnKS50b1N0cmluZygpXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGNsb3NlU2VsZWN0b3IoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgaXNDaGlsZCA9XG4gICAgICAgICAgdGhpcy5lbGVtZW50cy5wYW5lbC5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KSB8fCB0aGlzLmVsZW1lbnRzLmJ1dHRvbi5jb250YWlucyhldmVudC5yZWxhdGVkVGFyZ2V0KTtcbiAgICAgICAgaWYgKCFldmVudC5yZWxhdGVkVGFyZ2V0IHx8ICFpc0NoaWxkKSB7XG4gICAgICAgICAgdGhpcy5oaWRlUGFuZWwoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbiIsIi8vIGNyZWF0ZSBhIGNvbnRhaW5lciBhbmQgc2V0IHRoZSBmdWxsLXNpemUgaW1hZ2UgYXMgaXRzIGJhY2tncm91bmRcbmZ1bmN0aW9uIGNyZWF0ZU92ZXJsYXkoaW1hZ2UpIHtcbiAgY29uc3Qgb3ZlcmxheUltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gIG92ZXJsYXlJbWFnZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke2ltYWdlLnNyY31gKTtcbiAgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBwcmVwYXJlT3ZlcmxheShvdmVybGF5LCBvdmVybGF5SW1hZ2UpO1xuXG4gIGltYWdlLnN0eWxlLm9wYWNpdHkgPSAnNTAlJztcbiAgdG9nZ2xlTG9hZGluZ1NwaW5uZXIoaW1hZ2UpO1xuXG4gIG92ZXJsYXlJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgdG9nZ2xlTG9hZGluZ1NwaW5uZXIoaW1hZ2UpO1xuICAgIGltYWdlLnBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKG92ZXJsYXksIGltYWdlKTtcbiAgICBpbWFnZS5zdHlsZS5vcGFjaXR5ID0gJzEwMCUnO1xuICB9O1xuXG4gIHJldHVybiBvdmVybGF5O1xufVxuXG5mdW5jdGlvbiBwcmVwYXJlT3ZlcmxheShjb250YWluZXIsIGltYWdlKSB7XG4gIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ2ltYWdlLW1hZ25pZnktZnVsbC1zaXplJyk7XG4gIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJyR7aW1hZ2Uuc3JjfScpYDtcbiAgY29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICd2YXIoLS1ncmFkaWVudC1iYWNrZ3JvdW5kKSc7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUxvYWRpbmdTcGlubmVyKGltYWdlKSB7XG4gIGNvbnN0IGxvYWRpbmdTcGlubmVyID0gaW1hZ2UucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC5sb2FkaW5nLW92ZXJsYXlfX3NwaW5uZXJgKTtcbiAgbG9hZGluZ1NwaW5uZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG59XG5cbmZ1bmN0aW9uIG1vdmVXaXRoSG92ZXIoaW1hZ2UsIGV2ZW50LCB6b29tUmF0aW8pIHtcbiAgLy8gY2FsY3VsYXRlIG1vdXNlIHBvc2l0aW9uXG4gIGNvbnN0IHJhdGlvID0gaW1hZ2UuaGVpZ2h0IC8gaW1hZ2Uud2lkdGg7XG4gIGNvbnN0IGNvbnRhaW5lciA9IGV2ZW50LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgeFBvc2l0aW9uID0gZXZlbnQuY2xpZW50WCAtIGNvbnRhaW5lci5sZWZ0O1xuICBjb25zdCB5UG9zaXRpb24gPSBldmVudC5jbGllbnRZIC0gY29udGFpbmVyLnRvcDtcbiAgY29uc3QgeFBlcmNlbnQgPSBgJHt4UG9zaXRpb24gLyAoaW1hZ2UuY2xpZW50V2lkdGggLyAxMDApfSVgO1xuICBjb25zdCB5UGVyY2VudCA9IGAke3lQb3NpdGlvbiAvICgoaW1hZ2UuY2xpZW50V2lkdGggKiByYXRpbykgLyAxMDApfSVgO1xuXG4gIC8vIGRldGVybWluZSB3aGF0IHRvIHNob3cgaW4gdGhlIGZyYW1lXG4gIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gYCR7eFBlcmNlbnR9ICR7eVBlcmNlbnR9YDtcbiAgb3ZlcmxheS5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGAke2ltYWdlLndpZHRoICogem9vbVJhdGlvfXB4YDtcbn1cblxuZnVuY3Rpb24gbWFnbmlmeShpbWFnZSwgem9vbVJhdGlvKSB7XG4gIGNvbnN0IG92ZXJsYXkgPSBjcmVhdGVPdmVybGF5KGltYWdlKTtcbiAgb3ZlcmxheS5vbmNsaWNrID0gKCkgPT4gb3ZlcmxheS5yZW1vdmUoKTtcbiAgb3ZlcmxheS5vbm1vdXNlbW92ZSA9IChldmVudCkgPT4gbW92ZVdpdGhIb3ZlcihpbWFnZSwgZXZlbnQsIHpvb21SYXRpbyk7XG4gIG92ZXJsYXkub25tb3VzZWxlYXZlID0gKCkgPT4gb3ZlcmxheS5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gZW5hYmxlWm9vbU9uSG92ZXIoem9vbVJhdGlvKSB7XG4gIGNvbnN0IGltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbWFnZS1tYWduaWZ5LWhvdmVyJyk7XG4gIGltYWdlcy5mb3JFYWNoKChpbWFnZSkgPT4ge1xuICAgIGltYWdlLm9uY2xpY2sgPSAoZXZlbnQpID0+IHtcbiAgICAgIG1hZ25pZnkoaW1hZ2UsIHpvb21SYXRpbyk7XG4gICAgICBtb3ZlV2l0aEhvdmVyKGltYWdlLCBldmVudCwgem9vbVJhdGlvKTtcbiAgICB9O1xuICB9KTtcbn1cblxuZW5hYmxlWm9vbU9uSG92ZXIoMik7XG4iLCJjbGFzcyBNYWluU2VhcmNoIGV4dGVuZHMgU2VhcmNoRm9ybSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5hbGxTZWFyY2hJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwic2VhcmNoXCJdJyk7XG4gICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGxldCBhbGxTZWFyY2hGb3JtcyA9IFtdO1xuICAgIHRoaXMuYWxsU2VhcmNoSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBhbGxTZWFyY2hGb3Jtcy5wdXNoKGlucHV0LmZvcm0pKTtcbiAgICB0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5vbklucHV0Rm9jdXMuYmluZCh0aGlzKSk7XG4gICAgaWYgKGFsbFNlYXJjaEZvcm1zLmxlbmd0aCA8IDIpIHJldHVybjtcbiAgICBhbGxTZWFyY2hGb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JywgdGhpcy5vbkZvcm1SZXNldC5iaW5kKHRoaXMpKSk7XG4gICAgdGhpcy5hbGxTZWFyY2hJbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5vbklucHV0LmJpbmQodGhpcykpKTtcbiAgfVxuXG4gIG9uRm9ybVJlc2V0KGV2ZW50KSB7XG4gICAgc3VwZXIub25Gb3JtUmVzZXQoZXZlbnQpO1xuICAgIGlmIChzdXBlci5zaG91bGRSZXNldEZvcm0oKSkge1xuICAgICAgdGhpcy5rZWVwSW5TeW5jKCcnLCB0aGlzLmlucHV0KTtcbiAgICB9XG4gIH1cblxuICBvbklucHV0KGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIHRoaXMua2VlcEluU3luYyh0YXJnZXQudmFsdWUsIHRhcmdldCk7XG4gIH1cblxuICBvbklucHV0Rm9jdXMoKSB7XG4gICAgY29uc3QgaXNTbWFsbFNjcmVlbiA9IHdpbmRvdy5pbm5lcldpZHRoIDwgNzUwO1xuICAgIGlmIChpc1NtYWxsU2NyZWVuKSB7XG4gICAgICB0aGlzLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIH1cbiAgfVxuXG4gIGtlZXBJblN5bmModmFsdWUsIHRhcmdldCkge1xuICAgIHRoaXMuYWxsU2VhcmNoSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpZiAoaW5wdXQgIT09IHRhcmdldCkge1xuICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbWFpbi1zZWFyY2gnLCBNYWluU2VhcmNoKTtcbiIsImlmICghY3VzdG9tRWxlbWVudHMuZ2V0KCdtZWRpYS1nYWxsZXJ5JykpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFxuICAgICdtZWRpYS1nYWxsZXJ5JyxcbiAgICBjbGFzcyBNZWRpYUdhbGxlcnkgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IHtcbiAgICAgICAgICBsaXZlUmVnaW9uOiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tpZF49XCJHYWxsZXJ5U3RhdHVzXCJdJyksXG4gICAgICAgICAgdmlld2VyOiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tpZF49XCJHYWxsZXJ5Vmlld2VyXCJdJyksXG4gICAgICAgICAgdGh1bWJuYWlsczogdGhpcy5xdWVyeVNlbGVjdG9yKCdbaWRePVwiR2FsbGVyeVRodW1ibmFpbHNcIl0nKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tcWwgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogNzUwcHgpJyk7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50cy50aHVtYm5haWxzKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5lbGVtZW50cy52aWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcignc2xpZGVDaGFuZ2VkJywgZGVib3VuY2UodGhpcy5vblNsaWRlQ2hhbmdlZC5iaW5kKHRoaXMpLCA1MDApKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cy50aHVtYm5haWxzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXRhcmdldF0nKS5mb3JFYWNoKChtZWRpYVRvU3dpdGNoKSA9PiB7XG4gICAgICAgICAgbWVkaWFUb1N3aXRjaFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpXG4gICAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnNldEFjdGl2ZU1lZGlhLmJpbmQodGhpcywgbWVkaWFUb1N3aXRjaC5kYXRhc2V0LnRhcmdldCwgZmFsc2UpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLmRhdGFzZXQuZGVza3RvcExheW91dC5pbmNsdWRlcygndGh1bWJuYWlsJykgJiYgdGhpcy5tcWwubWF0Y2hlcykgdGhpcy5yZW1vdmVMaXN0U2VtYW50aWMoKTtcbiAgICAgIH1cblxuICAgICAgb25TbGlkZUNoYW5nZWQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgdGh1bWJuYWlsID0gdGhpcy5lbGVtZW50cy50aHVtYm5haWxzLnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYFtkYXRhLXRhcmdldD1cIiR7ZXZlbnQuZGV0YWlsLmN1cnJlbnRFbGVtZW50LmRhdGFzZXQubWVkaWFJZH1cIl1gXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVGh1bWJuYWlsKHRodW1ibmFpbCk7XG4gICAgICB9XG5cbiAgICAgIHNldEFjdGl2ZU1lZGlhKG1lZGlhSWQsIHByZXBlbmQpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlTWVkaWEgPSB0aGlzLmVsZW1lbnRzLnZpZXdlci5xdWVyeVNlbGVjdG9yKGBbZGF0YS1tZWRpYS1pZD1cIiR7bWVkaWFJZH1cIl1gKTtcbiAgICAgICAgdGhpcy5lbGVtZW50cy52aWV3ZXIucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtbWVkaWEtaWRdJykuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBhY3RpdmVNZWRpYS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICBpZiAocHJlcGVuZCkge1xuICAgICAgICAgIGFjdGl2ZU1lZGlhLnBhcmVudEVsZW1lbnQucHJlcGVuZChhY3RpdmVNZWRpYSk7XG4gICAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMudGh1bWJuYWlscykge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlVGh1bWJuYWlsID0gdGhpcy5lbGVtZW50cy50aHVtYm5haWxzLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhcmdldD1cIiR7bWVkaWFJZH1cIl1gKTtcbiAgICAgICAgICAgIGFjdGl2ZVRodW1ibmFpbC5wYXJlbnRFbGVtZW50LnByZXBlbmQoYWN0aXZlVGh1bWJuYWlsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMudmlld2VyLnNsaWRlcikgdGhpcy5lbGVtZW50cy52aWV3ZXIucmVzZXRQYWdlcygpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcmV2ZW50U3RpY2t5SGVhZGVyKCk7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5lbGVtZW50cy50aHVtYm5haWxzKSB7XG4gICAgICAgICAgICBhY3RpdmVNZWRpYS5wYXJlbnRFbGVtZW50LnNjcm9sbFRvKHsgbGVmdDogYWN0aXZlTWVkaWEub2Zmc2V0TGVmdCB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCF0aGlzLmVsZW1lbnRzLnRodW1ibmFpbHMgfHwgdGhpcy5kYXRhc2V0LmRlc2t0b3BMYXlvdXQgPT09ICdzdGFja2VkJykge1xuICAgICAgICAgICAgYWN0aXZlTWVkaWEuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5wbGF5QWN0aXZlTWVkaWEoYWN0aXZlTWVkaWEpO1xuXG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50cy50aHVtYm5haWxzKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGFjdGl2ZVRodW1ibmFpbCA9IHRoaXMuZWxlbWVudHMudGh1bWJuYWlscy5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXJnZXQ9XCIke21lZGlhSWR9XCJdYCk7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVGh1bWJuYWlsKGFjdGl2ZVRodW1ibmFpbCk7XG4gICAgICAgIHRoaXMuYW5ub3VuY2VMaXZlUmVnaW9uKGFjdGl2ZU1lZGlhLCBhY3RpdmVUaHVtYm5haWwuZGF0YXNldC5tZWRpYVBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgc2V0QWN0aXZlVGh1bWJuYWlsKHRodW1ibmFpbCkge1xuICAgICAgICBpZiAoIXRoaXMuZWxlbWVudHMudGh1bWJuYWlscyB8fCAhdGh1bWJuYWlsKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5lbGVtZW50cy50aHVtYm5haWxzXG4gICAgICAgICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJ2J1dHRvbicpXG4gICAgICAgICAgLmZvckVhY2goKGVsZW1lbnQpID0+IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWN1cnJlbnQnKSk7XG4gICAgICAgIHRodW1ibmFpbC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS5zZXRBdHRyaWJ1dGUoJ2FyaWEtY3VycmVudCcsIHRydWUpO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50cy50aHVtYm5haWxzLmlzU2xpZGVWaXNpYmxlKHRodW1ibmFpbCwgMTApKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5lbGVtZW50cy50aHVtYm5haWxzLnNsaWRlci5zY3JvbGxUbyh7IGxlZnQ6IHRodW1ibmFpbC5vZmZzZXRMZWZ0IH0pO1xuICAgICAgfVxuXG4gICAgICBhbm5vdW5jZUxpdmVSZWdpb24oYWN0aXZlSXRlbSwgcG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgaW1hZ2UgPSBhY3RpdmVJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0X19tb2RhbC1vcGVuZXItLWltYWdlIGltZycpO1xuICAgICAgICBpZiAoIWltYWdlKSByZXR1cm47XG4gICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLmxpdmVSZWdpb24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLmxpdmVSZWdpb24uaW5uZXJIVE1MID0gd2luZG93LmFjY2Vzc2liaWxpdHlTdHJpbmdzLmltYWdlQXZhaWxhYmxlLnJlcGxhY2UoJ1tpbmRleF0nLCBwb3NpdGlvbik7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLmxpdmVSZWdpb24uc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICB9O1xuICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZS5zcmM7XG4gICAgICB9XG5cbiAgICAgIHBsYXlBY3RpdmVNZWRpYShhY3RpdmVJdGVtKSB7XG4gICAgICAgIHdpbmRvdy5wYXVzZUFsbE1lZGlhKCk7XG4gICAgICAgIGNvbnN0IGRlZmVycmVkTWVkaWEgPSBhY3RpdmVJdGVtLnF1ZXJ5U2VsZWN0b3IoJy5kZWZlcnJlZC1tZWRpYScpO1xuICAgICAgICBpZiAoZGVmZXJyZWRNZWRpYSkgZGVmZXJyZWRNZWRpYS5sb2FkQ29udGVudChmYWxzZSk7XG4gICAgICB9XG5cbiAgICAgIHByZXZlbnRTdGlja3lIZWFkZXIoKSB7XG4gICAgICAgIHRoaXMuc3RpY2t5SGVhZGVyID0gdGhpcy5zdGlja3lIZWFkZXIgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3RpY2t5LWhlYWRlcicpO1xuICAgICAgICBpZiAoIXRoaXMuc3RpY2t5SGVhZGVyKSByZXR1cm47XG4gICAgICAgIHRoaXMuc3RpY2t5SGVhZGVyLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdwcmV2ZW50SGVhZGVyUmV2ZWFsJykpO1xuICAgICAgfVxuXG4gICAgICByZW1vdmVMaXN0U2VtYW50aWMoKSB7XG4gICAgICAgIGlmICghdGhpcy5lbGVtZW50cy52aWV3ZXIuc2xpZGVyKSByZXR1cm47XG4gICAgICAgIHRoaXMuZWxlbWVudHMudmlld2VyLnNsaWRlci5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7XG4gICAgICAgIHRoaXMuZWxlbWVudHMudmlld2VyLnNsaWRlckl0ZW1zLmZvckVhY2goKHNsaWRlKSA9PiBzbGlkZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJykpO1xuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbiIsImNsYXNzIFBhc3N3b3JkTW9kYWwgZXh0ZW5kcyBEZXRhaWxzTW9kYWwge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgaWYgKHRoaXMucXVlcnlTZWxlY3RvcignaW5wdXRbYXJpYS1pbnZhbGlkPVwidHJ1ZVwiXScpKSB0aGlzLm9wZW4oeyB0YXJnZXQ6IHRoaXMucXVlcnlTZWxlY3RvcignZGV0YWlscycpIH0pO1xuICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgncGFzc3dvcmQtbW9kYWwnLCBQYXNzd29yZE1vZGFsKTtcbiIsImlmICghY3VzdG9tRWxlbWVudHMuZ2V0KCdwaWNrdXAtYXZhaWxhYmlsaXR5JykpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFxuICAgICdwaWNrdXAtYXZhaWxhYmlsaXR5JyxcbiAgICBjbGFzcyBQaWNrdXBBdmFpbGFiaWxpdHkgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBpZiAoIXRoaXMuaGFzQXR0cmlidXRlKCdhdmFpbGFibGUnKSkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuZXJyb3JIdG1sID0gdGhpcy5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICB0aGlzLm9uQ2xpY2tSZWZyZXNoTGlzdCA9IHRoaXMub25DbGlja1JlZnJlc2hMaXN0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZmV0Y2hBdmFpbGFiaWxpdHkodGhpcy5kYXRhc2V0LnZhcmlhbnRJZCk7XG4gICAgICB9XG5cbiAgICAgIGZldGNoQXZhaWxhYmlsaXR5KHZhcmlhbnRJZCkge1xuICAgICAgICBsZXQgcm9vdFVybCA9IHRoaXMuZGF0YXNldC5yb290VXJsO1xuICAgICAgICBpZiAoIXJvb3RVcmwuZW5kc1dpdGgoJy8nKSkge1xuICAgICAgICAgIHJvb3RVcmwgPSByb290VXJsICsgJy8nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhcmlhbnRTZWN0aW9uVXJsID0gYCR7cm9vdFVybH12YXJpYW50cy8ke3ZhcmlhbnRJZH0vP3NlY3Rpb25faWQ9cGlja3VwLWF2YWlsYWJpbGl0eWA7XG5cbiAgICAgICAgZmV0Y2godmFyaWFudFNlY3Rpb25VcmwpXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS50ZXh0KCkpXG4gICAgICAgICAgLnRoZW4oKHRleHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3Rpb25Jbm5lckhUTUwgPSBuZXcgRE9NUGFyc2VyKClcbiAgICAgICAgICAgICAgLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC9odG1sJylcbiAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5zaG9waWZ5LXNlY3Rpb24nKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUHJldmlldyhzZWN0aW9uSW5uZXJIVE1MKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcbiAgICAgICAgICAgIGlmIChidXR0b24pIGJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja1JlZnJlc2hMaXN0KTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyRXJyb3IoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgb25DbGlja1JlZnJlc2hMaXN0KGV2dCkge1xuICAgICAgICB0aGlzLmZldGNoQXZhaWxhYmlsaXR5KHRoaXMuZGF0YXNldC52YXJpYW50SWQpO1xuICAgICAgfVxuXG4gICAgICByZW5kZXJFcnJvcigpIHtcbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLmVycm9ySHRtbCk7XG5cbiAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdidXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja1JlZnJlc2hMaXN0KTtcbiAgICAgIH1cblxuICAgICAgcmVuZGVyUHJldmlldyhzZWN0aW9uSW5uZXJIVE1MKSB7XG4gICAgICAgIGNvbnN0IGRyYXdlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3BpY2t1cC1hdmFpbGFiaWxpdHktZHJhd2VyJyk7XG4gICAgICAgIGlmIChkcmF3ZXIpIGRyYXdlci5yZW1vdmUoKTtcbiAgICAgICAgaWYgKCFzZWN0aW9uSW5uZXJIVE1MLnF1ZXJ5U2VsZWN0b3IoJ3BpY2t1cC1hdmFpbGFiaWxpdHktcHJldmlldycpKSB7XG4gICAgICAgICAgdGhpcy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgnYXZhaWxhYmxlJyk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pbm5lckhUTUwgPSBzZWN0aW9uSW5uZXJIVE1MLnF1ZXJ5U2VsZWN0b3IoJ3BpY2t1cC1hdmFpbGFiaWxpdHktcHJldmlldycpLm91dGVySFRNTDtcbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2F2YWlsYWJsZScsICcnKTtcblxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNlY3Rpb25Jbm5lckhUTUwucXVlcnlTZWxlY3RvcigncGlja3VwLWF2YWlsYWJpbGl0eS1kcmF3ZXInKSk7XG5cbiAgICAgICAgY29uc3QgYnV0dG9uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcbiAgICAgICAgaWYgKGJ1dHRvbilcbiAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdwaWNrdXAtYXZhaWxhYmlsaXR5LWRyYXdlcicpLnNob3coZXZ0LnRhcmdldCk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuXG5pZiAoIWN1c3RvbUVsZW1lbnRzLmdldCgncGlja3VwLWF2YWlsYWJpbGl0eS1kcmF3ZXInKSkge1xuICBjdXN0b21FbGVtZW50cy5kZWZpbmUoXG4gICAgJ3BpY2t1cC1hdmFpbGFiaWxpdHktZHJhd2VyJyxcbiAgICBjbGFzcyBQaWNrdXBBdmFpbGFiaWxpdHlEcmF3ZXIgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICB0aGlzLm9uQm9keUNsaWNrID0gdGhpcy5oYW5kbGVCb2R5Q2xpY2suYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgaWYgKGV2ZW50LmNvZGUudG9VcHBlckNhc2UoKSA9PT0gJ0VTQ0FQRScpIHRoaXMuaGlkZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaGFuZGxlQm9keUNsaWNrKGV2dCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0O1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGFyZ2V0ICE9IHRoaXMgJiZcbiAgICAgICAgICAhdGFyZ2V0LmNsb3Nlc3QoJ3BpY2t1cC1hdmFpbGFiaWxpdHktZHJhd2VyJykgJiZcbiAgICAgICAgICB0YXJnZXQuaWQgIT0gJ1Nob3dQaWNrdXBBdmFpbGFiaWxpdHlEcmF3ZXInXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGhpZGUoKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uQm9keUNsaWNrKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyZmxvdy1oaWRkZW4nKTtcbiAgICAgICAgcmVtb3ZlVHJhcEZvY3VzKHRoaXMuZm9jdXNFbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgc2hvdyhmb2N1c0VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5mb2N1c0VsZW1lbnQgPSBmb2N1c0VsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKCdvcGVuJywgJycpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkJvZHlDbGljayk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3ctaGlkZGVuJyk7XG4gICAgICAgIHRyYXBGb2N1cyh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG4iLCJjbGFzcyBQcmVkaWN0aXZlU2VhcmNoIGV4dGVuZHMgU2VhcmNoRm9ybSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jYWNoZWRSZXN1bHRzID0ge307XG4gICAgdGhpcy5wcmVkaWN0aXZlU2VhcmNoUmVzdWx0cyA9IHRoaXMucXVlcnlTZWxlY3RvcignW2RhdGEtcHJlZGljdGl2ZS1zZWFyY2hdJyk7XG4gICAgdGhpcy5hbGxQcmVkaWN0aXZlU2VhcmNoSW5zdGFuY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgncHJlZGljdGl2ZS1zZWFyY2gnKTtcbiAgICB0aGlzLmlzT3BlbiA9IGZhbHNlO1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIHRoaXMuc2VhcmNoVGVybSA9ICcnO1xuXG4gICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuaW5wdXQuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLm9uRm9ybVN1Ym1pdC5iaW5kKHRoaXMpKTtcblxuICAgIHRoaXMuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLm9uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIHRoaXMub25Gb2N1c091dC5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbktleXVwLmJpbmQodGhpcykpO1xuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlkb3duLmJpbmQodGhpcykpO1xuICB9XG5cbiAgZ2V0UXVlcnkoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5wdXQudmFsdWUudHJpbSgpO1xuICB9XG5cbiAgb25DaGFuZ2UoKSB7XG4gICAgc3VwZXIub25DaGFuZ2UoKTtcbiAgICBjb25zdCBuZXdTZWFyY2hUZXJtID0gdGhpcy5nZXRRdWVyeSgpO1xuICAgIGlmICghdGhpcy5zZWFyY2hUZXJtIHx8ICFuZXdTZWFyY2hUZXJtLnN0YXJ0c1dpdGgodGhpcy5zZWFyY2hUZXJtKSkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSByZXN1bHRzIHdoZW4gdGhleSBhcmUgbm8gbG9uZ2VyIHJlbGV2YW50IGZvciB0aGUgbmV3IHNlYXJjaCB0ZXJtXG4gICAgICAvLyBzbyB0aGV5IGRvbid0IHNob3cgdXAgd2hlbiB0aGUgZHJvcGRvd24gb3BlbnMgYWdhaW5cbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvcignI3ByZWRpY3RpdmUtc2VhcmNoLXJlc3VsdHMtZ3JvdXBzLXdyYXBwZXInKT8ucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB0ZXJtIGFzYXAsIGRvbid0IHdhaXQgZm9yIHRoZSBwcmVkaWN0aXZlIHNlYXJjaCBxdWVyeSB0byBmaW5pc2ggbG9hZGluZ1xuICAgIHRoaXMudXBkYXRlU2VhcmNoRm9yVGVybSh0aGlzLnNlYXJjaFRlcm0sIG5ld1NlYXJjaFRlcm0pO1xuXG4gICAgdGhpcy5zZWFyY2hUZXJtID0gbmV3U2VhcmNoVGVybTtcblxuICAgIGlmICghdGhpcy5zZWFyY2hUZXJtLmxlbmd0aCkge1xuICAgICAgdGhpcy5jbG9zZSh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmdldFNlYXJjaFJlc3VsdHModGhpcy5zZWFyY2hUZXJtKTtcbiAgfVxuXG4gIG9uRm9ybVN1Ym1pdChldmVudCkge1xuICAgIGlmICghdGhpcy5nZXRRdWVyeSgpLmxlbmd0aCB8fCB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1thcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXSBhJykpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICBvbkZvcm1SZXNldChldmVudCkge1xuICAgIHN1cGVyLm9uRm9ybVJlc2V0KGV2ZW50KTtcbiAgICBpZiAoc3VwZXIuc2hvdWxkUmVzZXRGb3JtKCkpIHtcbiAgICAgIHRoaXMuc2VhcmNoVGVybSA9ICcnO1xuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgdGhpcy5jbG9zZVJlc3VsdHModHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgb25Gb2N1cygpIHtcbiAgICBjb25zdCBjdXJyZW50U2VhcmNoVGVybSA9IHRoaXMuZ2V0UXVlcnkoKTtcblxuICAgIGlmICghY3VycmVudFNlYXJjaFRlcm0ubGVuZ3RoKSByZXR1cm47XG5cbiAgICBpZiAodGhpcy5zZWFyY2hUZXJtICE9PSBjdXJyZW50U2VhcmNoVGVybSkge1xuICAgICAgLy8gU2VhcmNoIHRlcm0gd2FzIGNoYW5nZWQgZnJvbSBvdGhlciBzZWFyY2ggaW5wdXQsIHRyZWF0IGl0IGFzIGEgdXNlciBjaGFuZ2VcbiAgICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCdyZXN1bHRzJykgPT09ICd0cnVlJykge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ2V0U2VhcmNoUmVzdWx0cyh0aGlzLnNlYXJjaFRlcm0pO1xuICAgIH1cbiAgfVxuXG4gIG9uRm9jdXNPdXQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uS2V5dXAoZXZlbnQpIHtcbiAgICBpZiAoIXRoaXMuZ2V0UXVlcnkoKS5sZW5ndGgpIHRoaXMuY2xvc2UodHJ1ZSk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xuICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgIHRoaXMuc3dpdGNoT3B0aW9uKCd1cCcpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgIHRoaXMuc3dpdGNoT3B0aW9uKCdkb3duJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnRW50ZXInOlxuICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbigpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBvbktleWRvd24oZXZlbnQpIHtcbiAgICAvLyBQcmV2ZW50IHRoZSBjdXJzb3IgZnJvbSBtb3ZpbmcgaW4gdGhlIGlucHV0IHdoZW4gdXNpbmcgdGhlIHVwIGFuZCBkb3duIGFycm93IGtleXNcbiAgICBpZiAoZXZlbnQuY29kZSA9PT0gJ0Fycm93VXAnIHx8IGV2ZW50LmNvZGUgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxuXG4gIHVwZGF0ZVNlYXJjaEZvclRlcm0ocHJldmlvdXNUZXJtLCBuZXdUZXJtKSB7XG4gICAgY29uc3Qgc2VhcmNoRm9yVGV4dEVsZW1lbnQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXByZWRpY3RpdmUtc2VhcmNoLXNlYXJjaC1mb3ItdGV4dF0nKTtcbiAgICBjb25zdCBjdXJyZW50QnV0dG9uVGV4dCA9IHNlYXJjaEZvclRleHRFbGVtZW50Py5pbm5lclRleHQ7XG4gICAgaWYgKGN1cnJlbnRCdXR0b25UZXh0KSB7XG4gICAgICBpZiAoY3VycmVudEJ1dHRvblRleHQubWF0Y2gobmV3IFJlZ0V4cChwcmV2aW91c1Rlcm0sICdnJykpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgLy8gVGhlIG5ldyB0ZXJtIG1hdGNoZXMgcGFydCBvZiB0aGUgYnV0dG9uIHRleHQgYW5kIG5vdCBqdXN0IHRoZSBzZWFyY2ggdGVybSwgZG8gbm90IHJlcGxhY2UgdG8gYXZvaWQgbWlzdGFrZXNcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgbmV3QnV0dG9uVGV4dCA9IGN1cnJlbnRCdXR0b25UZXh0LnJlcGxhY2UocHJldmlvdXNUZXJtLCBuZXdUZXJtKTtcbiAgICAgIHNlYXJjaEZvclRleHRFbGVtZW50LmlubmVyVGV4dCA9IG5ld0J1dHRvblRleHQ7XG4gICAgfVxuICB9XG5cbiAgc3dpdGNoT3B0aW9uKGRpcmVjdGlvbikge1xuICAgIGlmICghdGhpcy5nZXRBdHRyaWJ1dGUoJ29wZW4nKSkgcmV0dXJuO1xuXG4gICAgY29uc3QgbW92ZVVwID0gZGlyZWN0aW9uID09PSAndXAnO1xuICAgIGNvbnN0IHNlbGVjdGVkRWxlbWVudCA9IHRoaXMucXVlcnlTZWxlY3RvcignW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdJyk7XG5cbiAgICAvLyBGaWx0ZXIgb3V0IGhpZGRlbiBlbGVtZW50cyAoZHVwbGljYXRlZCBwYWdlIGFuZCBhcnRpY2xlIHJlc291cmNlcykgdGhhbmtzXG4gICAgLy8gdG8gdGhpcyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTEVsZW1lbnQvb2Zmc2V0UGFyZW50XG4gICAgY29uc3QgYWxsVmlzaWJsZUVsZW1lbnRzID0gQXJyYXkuZnJvbSh0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpLCBidXR0b24ucHJlZGljdGl2ZS1zZWFyY2hfX2l0ZW0nKSkuZmlsdGVyKFxuICAgICAgKGVsZW1lbnQpID0+IGVsZW1lbnQub2Zmc2V0UGFyZW50ICE9PSBudWxsXG4gICAgKTtcbiAgICBsZXQgYWN0aXZlRWxlbWVudEluZGV4ID0gMDtcblxuICAgIGlmIChtb3ZlVXAgJiYgIXNlbGVjdGVkRWxlbWVudCkgcmV0dXJuO1xuXG4gICAgbGV0IHNlbGVjdGVkRWxlbWVudEluZGV4ID0gLTE7XG4gICAgbGV0IGkgPSAwO1xuXG4gICAgd2hpbGUgKHNlbGVjdGVkRWxlbWVudEluZGV4ID09PSAtMSAmJiBpIDw9IGFsbFZpc2libGVFbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgIGlmIChhbGxWaXNpYmxlRWxlbWVudHNbaV0gPT09IHNlbGVjdGVkRWxlbWVudCkge1xuICAgICAgICBzZWxlY3RlZEVsZW1lbnRJbmRleCA9IGk7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0dXNFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG5cbiAgICBpZiAoIW1vdmVVcCAmJiBzZWxlY3RlZEVsZW1lbnQpIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnRJbmRleCA9IHNlbGVjdGVkRWxlbWVudEluZGV4ID09PSBhbGxWaXNpYmxlRWxlbWVudHMubGVuZ3RoIC0gMSA/IDAgOiBzZWxlY3RlZEVsZW1lbnRJbmRleCArIDE7XG4gICAgfSBlbHNlIGlmIChtb3ZlVXApIHtcbiAgICAgIGFjdGl2ZUVsZW1lbnRJbmRleCA9IHNlbGVjdGVkRWxlbWVudEluZGV4ID09PSAwID8gYWxsVmlzaWJsZUVsZW1lbnRzLmxlbmd0aCAtIDEgOiBzZWxlY3RlZEVsZW1lbnRJbmRleCAtIDE7XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZUVsZW1lbnRJbmRleCA9PT0gc2VsZWN0ZWRFbGVtZW50SW5kZXgpIHJldHVybjtcblxuICAgIGNvbnN0IGFjdGl2ZUVsZW1lbnQgPSBhbGxWaXNpYmxlRWxlbWVudHNbYWN0aXZlRWxlbWVudEluZGV4XTtcblxuICAgIGFjdGl2ZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgdHJ1ZSk7XG4gICAgaWYgKHNlbGVjdGVkRWxlbWVudCkgc2VsZWN0ZWRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsIGZhbHNlKTtcblxuICAgIHRoaXMuaW5wdXQuc2V0QXR0cmlidXRlKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnLCBhY3RpdmVFbGVtZW50LmlkKTtcbiAgfVxuXG4gIHNlbGVjdE9wdGlvbigpIHtcbiAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IHRoaXMucXVlcnlTZWxlY3RvcignW2FyaWEtc2VsZWN0ZWQ9XCJ0cnVlXCJdIGEsIGJ1dHRvblthcmlhLXNlbGVjdGVkPVwidHJ1ZVwiXScpO1xuXG4gICAgaWYgKHNlbGVjdGVkT3B0aW9uKSBzZWxlY3RlZE9wdGlvbi5jbGljaygpO1xuICB9XG5cbiAgZ2V0U2VhcmNoUmVzdWx0cyhzZWFyY2hUZXJtKSB7XG4gICAgY29uc3QgcXVlcnlLZXkgPSBzZWFyY2hUZXJtLnJlcGxhY2UoJyAnLCAnLScpLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5zZXRMaXZlUmVnaW9uTG9hZGluZ1N0YXRlKCk7XG5cbiAgICBpZiAodGhpcy5jYWNoZWRSZXN1bHRzW3F1ZXJ5S2V5XSkge1xuICAgICAgdGhpcy5yZW5kZXJTZWFyY2hSZXN1bHRzKHRoaXMuY2FjaGVkUmVzdWx0c1txdWVyeUtleV0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZldGNoKGAke3JvdXRlcy5wcmVkaWN0aXZlX3NlYXJjaF91cmx9P3E9JHtlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoVGVybSl9JnNlY3Rpb25faWQ9cHJlZGljdGl2ZS1zZWFyY2hgLCB7XG4gICAgICBzaWduYWw6IHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgICAgfSlcbiAgICAgIC50aGVuKCh0ZXh0KSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdHNNYXJrdXAgPSBuZXcgRE9NUGFyc2VyKClcbiAgICAgICAgICAucGFyc2VGcm9tU3RyaW5nKHRleHQsICd0ZXh0L2h0bWwnKVxuICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcjc2hvcGlmeS1zZWN0aW9uLXByZWRpY3RpdmUtc2VhcmNoJykuaW5uZXJIVE1MO1xuICAgICAgICAvLyBTYXZlIGJhbmR3aWR0aCBrZWVwaW5nIHRoZSBjYWNoZSBpbiBhbGwgaW5zdGFuY2VzIHN5bmNlZFxuICAgICAgICB0aGlzLmFsbFByZWRpY3RpdmVTZWFyY2hJbnN0YW5jZXMuZm9yRWFjaCgocHJlZGljdGl2ZVNlYXJjaEluc3RhbmNlKSA9PiB7XG4gICAgICAgICAgcHJlZGljdGl2ZVNlYXJjaEluc3RhbmNlLmNhY2hlZFJlc3VsdHNbcXVlcnlLZXldID0gcmVzdWx0c01hcmt1cDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVuZGVyU2VhcmNoUmVzdWx0cyhyZXN1bHRzTWFya3VwKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIGlmIChlcnJvcj8uY29kZSA9PT0gMjApIHtcbiAgICAgICAgICAvLyBDb2RlIDIwIG1lYW5zIHRoZSBjYWxsIHdhcyBhYm9ydGVkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9KTtcbiAgfVxuXG4gIHNldExpdmVSZWdpb25Mb2FkaW5nU3RhdGUoKSB7XG4gICAgdGhpcy5zdGF0dXNFbGVtZW50ID0gdGhpcy5zdGF0dXNFbGVtZW50IHx8IHRoaXMucXVlcnlTZWxlY3RvcignLnByZWRpY3RpdmUtc2VhcmNoLXN0YXR1cycpO1xuICAgIHRoaXMubG9hZGluZ1RleHQgPSB0aGlzLmxvYWRpbmdUZXh0IHx8IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWxvYWRpbmctdGV4dCcpO1xuXG4gICAgdGhpcy5zZXRMaXZlUmVnaW9uVGV4dCh0aGlzLmxvYWRpbmdUZXh0KTtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnbG9hZGluZycsIHRydWUpO1xuICB9XG5cbiAgc2V0TGl2ZVJlZ2lvblRleHQoc3RhdHVzVGV4dCkge1xuICAgIHRoaXMuc3RhdHVzRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgdGhpcy5zdGF0dXNFbGVtZW50LnRleHRDb250ZW50ID0gc3RhdHVzVGV4dDtcblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5zdGF0dXNFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgcmVuZGVyU2VhcmNoUmVzdWx0cyhyZXN1bHRzTWFya3VwKSB7XG4gICAgdGhpcy5wcmVkaWN0aXZlU2VhcmNoUmVzdWx0cy5pbm5lckhUTUwgPSByZXN1bHRzTWFya3VwO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdyZXN1bHRzJywgdHJ1ZSk7XG5cbiAgICB0aGlzLnNldExpdmVSZWdpb25SZXN1bHRzKCk7XG4gICAgdGhpcy5vcGVuKCk7XG4gIH1cblxuICBzZXRMaXZlUmVnaW9uUmVzdWx0cygpIHtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgnbG9hZGluZycpO1xuICAgIHRoaXMuc2V0TGl2ZVJlZ2lvblRleHQodGhpcy5xdWVyeVNlbGVjdG9yKCdbZGF0YS1wcmVkaWN0aXZlLXNlYXJjaC1saXZlLXJlZ2lvbi1jb3VudC12YWx1ZV0nKS50ZXh0Q29udGVudCk7XG4gIH1cblxuICBnZXRSZXN1bHRzTWF4SGVpZ2h0KCkge1xuICAgIHRoaXMucmVzdWx0c01heEhlaWdodCA9XG4gICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VjdGlvbi1oZWFkZXInKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207XG4gICAgcmV0dXJuIHRoaXMucmVzdWx0c01heEhlaWdodDtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5wcmVkaWN0aXZlU2VhcmNoUmVzdWx0cy5zdHlsZS5tYXhIZWlnaHQgPSB0aGlzLnJlc3VsdHNNYXhIZWlnaHQgfHwgYCR7dGhpcy5nZXRSZXN1bHRzTWF4SGVpZ2h0KCl9cHhgO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdvcGVuJywgdHJ1ZSk7XG4gICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICB0aGlzLmlzT3BlbiA9IHRydWU7XG4gIH1cblxuICBjbG9zZShjbGVhclNlYXJjaFRlcm0gPSBmYWxzZSkge1xuICAgIHRoaXMuY2xvc2VSZXN1bHRzKGNsZWFyU2VhcmNoVGVybSk7XG4gICAgdGhpcy5pc09wZW4gPSBmYWxzZTtcbiAgfVxuXG4gIGNsb3NlUmVzdWx0cyhjbGVhclNlYXJjaFRlcm0gPSBmYWxzZSkge1xuICAgIGlmIChjbGVhclNlYXJjaFRlcm0pIHtcbiAgICAgIHRoaXMuaW5wdXQudmFsdWUgPSAnJztcbiAgICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdyZXN1bHRzJyk7XG4gICAgfVxuICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0nKTtcblxuICAgIGlmIChzZWxlY3RlZCkgc2VsZWN0ZWQuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgZmFsc2UpO1xuXG4gICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtYWN0aXZlZGVzY2VuZGFudCcsICcnKTtcbiAgICB0aGlzLnJlbW92ZUF0dHJpYnV0ZSgnbG9hZGluZycpO1xuICAgIHRoaXMucmVtb3ZlQXR0cmlidXRlKCdvcGVuJyk7XG4gICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgdGhpcy5yZXN1bHRzTWF4SGVpZ2h0ID0gZmFsc2U7XG4gICAgdGhpcy5wcmVkaWN0aXZlU2VhcmNoUmVzdWx0cy5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdwcmVkaWN0aXZlLXNlYXJjaCcsIFByZWRpY3RpdmVTZWFyY2gpO1xuIiwiaWYgKCFjdXN0b21FbGVtZW50cy5nZXQoJ3Byb2R1Y3QtZm9ybScpKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcbiAgICAncHJvZHVjdC1mb3JtJyxcbiAgICBjbGFzcyBQcm9kdWN0Rm9ybSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuXG4gICAgICAgIHRoaXMuZm9ybSA9IHRoaXMucXVlcnlTZWxlY3RvcignZm9ybScpO1xuICAgICAgICB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9aWRdJykuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMub25TdWJtaXRIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmNhcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYXJ0LW5vdGlmaWNhdGlvbicpIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhcnQtZHJhd2VyJyk7XG4gICAgICAgIHRoaXMuc3VibWl0QnV0dG9uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbdHlwZT1cInN1Ym1pdFwiXScpO1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FydC1kcmF3ZXInKSkgdGhpcy5zdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWhhc3BvcHVwJywgJ2RpYWxvZycpO1xuXG4gICAgICAgIHRoaXMuaGlkZUVycm9ycyA9IHRoaXMuZGF0YXNldC5oaWRlRXJyb3JzID09PSAndHJ1ZSc7XG4gICAgICB9XG5cbiAgICAgIG9uU3VibWl0SGFuZGxlcihldnQpIHtcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmICh0aGlzLnN1Ym1pdEJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnKSA9PT0gJ3RydWUnKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5oYW5kbGVFcnJvck1lc3NhZ2UoKTtcblxuICAgICAgICB0aGlzLnN1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCgnbG9hZGluZycpO1xuICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkaW5nLW92ZXJsYXlfX3NwaW5uZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblxuICAgICAgICBjb25zdCBjb25maWcgPSBmZXRjaENvbmZpZygnamF2YXNjcmlwdCcpO1xuICAgICAgICBjb25maWcuaGVhZGVyc1snWC1SZXF1ZXN0ZWQtV2l0aCddID0gJ1hNTEh0dHBSZXF1ZXN0JztcbiAgICAgICAgZGVsZXRlIGNvbmZpZy5oZWFkZXJzWydDb250ZW50LVR5cGUnXTtcblxuICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSh0aGlzLmZvcm0pO1xuICAgICAgICBpZiAodGhpcy5jYXJ0KSB7XG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKFxuICAgICAgICAgICAgJ3NlY3Rpb25zJyxcbiAgICAgICAgICAgIHRoaXMuY2FydC5nZXRTZWN0aW9uc1RvUmVuZGVyKCkubWFwKChzZWN0aW9uKSA9PiBzZWN0aW9uLmlkKVxuICAgICAgICAgICk7XG4gICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdzZWN0aW9uc191cmwnLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgICAgIHRoaXMuY2FydC5zZXRBY3RpdmVFbGVtZW50KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbmZpZy5ib2R5ID0gZm9ybURhdGE7XG5cbiAgICAgICAgZmV0Y2goYCR7cm91dGVzLmNhcnRfYWRkX3VybH1gLCBjb25maWcpXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzKSB7XG4gICAgICAgICAgICAgIHB1Ymxpc2goUFVCX1NVQl9FVkVOVFMuY2FydEVycm9yLCB7XG4gICAgICAgICAgICAgICAgc291cmNlOiAncHJvZHVjdC1mb3JtJyxcbiAgICAgICAgICAgICAgICBwcm9kdWN0VmFyaWFudElkOiBmb3JtRGF0YS5nZXQoJ2lkJyksXG4gICAgICAgICAgICAgICAgZXJyb3JzOiByZXNwb25zZS5lcnJvcnMgfHwgcmVzcG9uc2UuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZSxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3JNZXNzYWdlKHJlc3BvbnNlLmRlc2NyaXB0aW9uKTtcblxuICAgICAgICAgICAgICBjb25zdCBzb2xkT3V0TWVzc2FnZSA9IHRoaXMuc3VibWl0QnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJy5zb2xkLW91dC1tZXNzYWdlJyk7XG4gICAgICAgICAgICAgIGlmICghc29sZE91dE1lc3NhZ2UpIHJldHVybjtcbiAgICAgICAgICAgICAgdGhpcy5zdWJtaXRCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICAgIHRoaXMuc3VibWl0QnV0dG9uLnF1ZXJ5U2VsZWN0b3IoJ3NwYW4nKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgc29sZE91dE1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgICAgIHRoaXMuZXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmNhcnQpIHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gd2luZG93LnJvdXRlcy5jYXJ0X3VybDtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZXJyb3IpXG4gICAgICAgICAgICAgIHB1Ymxpc2goUFVCX1NVQl9FVkVOVFMuY2FydFVwZGF0ZSwgeyBzb3VyY2U6ICdwcm9kdWN0LWZvcm0nLCBwcm9kdWN0VmFyaWFudElkOiBmb3JtRGF0YS5nZXQoJ2lkJykgfSk7XG4gICAgICAgICAgICB0aGlzLmVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICBjb25zdCBxdWlja0FkZE1vZGFsID0gdGhpcy5jbG9zZXN0KCdxdWljay1hZGQtbW9kYWwnKTtcbiAgICAgICAgICAgIGlmIChxdWlja0FkZE1vZGFsKSB7XG4gICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnbW9kYWxDbG9zZWQnLFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhcnQucmVuZGVyQ29udGVudHMocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7IG9uY2U6IHRydWUgfVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBxdWlja0FkZE1vZGFsLmhpZGUodHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLmNhcnQucmVuZGVyQ29udGVudHMocmVzcG9uc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnbG9hZGluZycpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FydCAmJiB0aGlzLmNhcnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1lbXB0eScpKSB0aGlzLmNhcnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtZW1wdHknKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5lcnJvcikgdGhpcy5zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRpc2FibGVkJyk7XG4gICAgICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkaW5nLW92ZXJsYXlfX3NwaW5uZXInKS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaGFuZGxlRXJyb3JNZXNzYWdlKGVycm9yTWVzc2FnZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0aGlzLmhpZGVFcnJvcnMpIHJldHVybjtcblxuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZVdyYXBwZXIgPVxuICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlV3JhcHBlciB8fCB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LWZvcm1fX2Vycm9yLW1lc3NhZ2Utd3JhcHBlcicpO1xuICAgICAgICBpZiAoIXRoaXMuZXJyb3JNZXNzYWdlV3JhcHBlcikgcmV0dXJuO1xuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IHRoaXMuZXJyb3JNZXNzYWdlIHx8IHRoaXMuZXJyb3JNZXNzYWdlV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1mb3JtX19lcnJvci1tZXNzYWdlJyk7XG5cbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2VXcmFwcGVyLnRvZ2dsZUF0dHJpYnV0ZSgnaGlkZGVuJywgIWVycm9yTWVzc2FnZSk7XG5cbiAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuIiwiaWYgKCFjdXN0b21FbGVtZW50cy5nZXQoJ3Byb2R1Y3QtaW5mbycpKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcbiAgICAncHJvZHVjdC1pbmZvJyxcbiAgICBjbGFzcyBQcm9kdWN0SW5mbyBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcucXVhbnRpdHlfX2lucHV0Jyk7XG4gICAgICAgIHRoaXMuY3VycmVudFZhcmlhbnQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LXZhcmlhbnQtaWQnKTtcbiAgICAgICAgdGhpcy52YXJpYW50U2VsZWN0cyA9IHRoaXMucXVlcnlTZWxlY3RvcigndmFyaWFudC1yYWRpb3MnKTtcbiAgICAgICAgdGhpcy5zdWJtaXRCdXR0b24gPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ1t0eXBlPVwic3VibWl0XCJdJyk7XG4gICAgICB9XG5cbiAgICAgIGNhcnRVcGRhdGVVbnN1YnNjcmliZXIgPSB1bmRlZmluZWQ7XG4gICAgICB2YXJpYW50Q2hhbmdlVW5zdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuXG4gICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlucHV0KSByZXR1cm47XG4gICAgICAgIHRoaXMucXVhbnRpdHlGb3JtID0gdGhpcy5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdC1mb3JtX19xdWFudGl0eScpO1xuICAgICAgICBpZiAoIXRoaXMucXVhbnRpdHlGb3JtKSByZXR1cm47XG4gICAgICAgIHRoaXMuc2V0UXVhbnRpdHlCb3VuZHJpZXMoKTtcbiAgICAgICAgaWYgKCF0aGlzLmRhdGFzZXQub3JpZ2luYWxTZWN0aW9uKSB7XG4gICAgICAgICAgdGhpcy5jYXJ0VXBkYXRlVW5zdWJzY3JpYmVyID0gc3Vic2NyaWJlKFBVQl9TVUJfRVZFTlRTLmNhcnRVcGRhdGUsIHRoaXMuZmV0Y2hRdWFudGl0eVJ1bGVzLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFyaWFudENoYW5nZVVuc3Vic2NyaWJlciA9IHN1YnNjcmliZShQVUJfU1VCX0VWRU5UUy52YXJpYW50Q2hhbmdlLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBzZWN0aW9uSWQgPSB0aGlzLmRhdGFzZXQub3JpZ2luYWxTZWN0aW9uID8gdGhpcy5kYXRhc2V0Lm9yaWdpbmFsU2VjdGlvbiA6IHRoaXMuZGF0YXNldC5zZWN0aW9uO1xuICAgICAgICAgIGlmIChldmVudC5kYXRhLnNlY3Rpb25JZCAhPT0gc2VjdGlvbklkKSByZXR1cm47XG4gICAgICAgICAgdGhpcy51cGRhdGVRdWFudGl0eVJ1bGVzKGV2ZW50LmRhdGEuc2VjdGlvbklkLCBldmVudC5kYXRhLmh0bWwpO1xuICAgICAgICAgIHRoaXMuc2V0UXVhbnRpdHlCb3VuZHJpZXMoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICBpZiAodGhpcy5jYXJ0VXBkYXRlVW5zdWJzY3JpYmVyKSB7XG4gICAgICAgICAgdGhpcy5jYXJ0VXBkYXRlVW5zdWJzY3JpYmVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmFyaWFudENoYW5nZVVuc3Vic2NyaWJlcikge1xuICAgICAgICAgIHRoaXMudmFyaWFudENoYW5nZVVuc3Vic2NyaWJlcigpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNldFF1YW50aXR5Qm91bmRyaWVzKCkge1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgIGNhcnRRdWFudGl0eTogdGhpcy5pbnB1dC5kYXRhc2V0LmNhcnRRdWFudGl0eSA/IHBhcnNlSW50KHRoaXMuaW5wdXQuZGF0YXNldC5jYXJ0UXVhbnRpdHkpIDogMCxcbiAgICAgICAgICBtaW46IHRoaXMuaW5wdXQuZGF0YXNldC5taW4gPyBwYXJzZUludCh0aGlzLmlucHV0LmRhdGFzZXQubWluKSA6IDEsXG4gICAgICAgICAgbWF4OiB0aGlzLmlucHV0LmRhdGFzZXQubWF4ID8gcGFyc2VJbnQodGhpcy5pbnB1dC5kYXRhc2V0Lm1heCkgOiBudWxsLFxuICAgICAgICAgIHN0ZXA6IHRoaXMuaW5wdXQuc3RlcCA/IHBhcnNlSW50KHRoaXMuaW5wdXQuc3RlcCkgOiAxLFxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBtaW4gPSBkYXRhLm1pbjtcbiAgICAgICAgY29uc3QgbWF4ID0gZGF0YS5tYXggPT09IG51bGwgPyBkYXRhLm1heCA6IGRhdGEubWF4IC0gZGF0YS5jYXJ0UXVhbnRpdHk7XG4gICAgICAgIGlmIChtYXggIT09IG51bGwpIG1pbiA9IE1hdGgubWluKG1pbiwgbWF4KTtcbiAgICAgICAgaWYgKGRhdGEuY2FydFF1YW50aXR5ID49IGRhdGEubWluKSBtaW4gPSBNYXRoLm1pbihtaW4sIGRhdGEuc3RlcCk7XG5cbiAgICAgICAgdGhpcy5pbnB1dC5taW4gPSBtaW47XG4gICAgICAgIHRoaXMuaW5wdXQubWF4ID0gbWF4O1xuICAgICAgICB0aGlzLmlucHV0LnZhbHVlID0gbWluO1xuICAgICAgICBwdWJsaXNoKFBVQl9TVUJfRVZFTlRTLnF1YW50aXR5VXBkYXRlLCB1bmRlZmluZWQpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaFF1YW50aXR5UnVsZXMoKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50VmFyaWFudCB8fCAhdGhpcy5jdXJyZW50VmFyaWFudC52YWx1ZSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5xdWFudGl0eV9fcnVsZXMtY2FydCAubG9hZGluZy1vdmVybGF5JykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgIGZldGNoKGAke3RoaXMuZGF0YXNldC51cmx9P3ZhcmlhbnQ9JHt0aGlzLmN1cnJlbnRWYXJpYW50LnZhbHVlfSZzZWN0aW9uX2lkPSR7dGhpcy5kYXRhc2V0LnNlY3Rpb259YClcbiAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGhlbigocmVzcG9uc2VUZXh0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBodG1sID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZVRleHQsICd0ZXh0L2h0bWwnKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUXVhbnRpdHlSdWxlcyh0aGlzLmRhdGFzZXQuc2VjdGlvbiwgaHRtbCk7XG4gICAgICAgICAgICB0aGlzLnNldFF1YW50aXR5Qm91bmRyaWVzKCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5xdWFudGl0eV9fcnVsZXMtY2FydCAubG9hZGluZy1vdmVybGF5JykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZVF1YW50aXR5UnVsZXMoc2VjdGlvbklkLCBodG1sKSB7XG4gICAgICAgIGNvbnN0IHF1YW50aXR5Rm9ybVVwZGF0ZWQgPSBodG1sLmdldEVsZW1lbnRCeUlkKGBRdWFudGl0eS1Gb3JtLSR7c2VjdGlvbklkfWApO1xuICAgICAgICBjb25zdCBzZWxlY3RvcnMgPSBbJy5xdWFudGl0eV9faW5wdXQnLCAnLnF1YW50aXR5X19ydWxlcycsICcucXVhbnRpdHlfX2xhYmVsJ107XG4gICAgICAgIGZvciAobGV0IHNlbGVjdG9yIG9mIHNlbGVjdG9ycykge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0aGlzLnF1YW50aXR5Rm9ybS5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICBjb25zdCB1cGRhdGVkID0gcXVhbnRpdHlGb3JtVXBkYXRlZC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgICAgICBpZiAoIWN1cnJlbnQgfHwgIXVwZGF0ZWQpIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChzZWxlY3RvciA9PT0gJy5xdWFudGl0eV9faW5wdXQnKSB7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gWydkYXRhLWNhcnQtcXVhbnRpdHknLCAnZGF0YS1taW4nLCAnZGF0YS1tYXgnLCAnc3RlcCddO1xuICAgICAgICAgICAgZm9yIChsZXQgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgY29uc3QgdmFsdWVVcGRhdGVkID0gdXBkYXRlZC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlVXBkYXRlZCAhPT0gbnVsbCkgY3VycmVudC5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZVVwZGF0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjdXJyZW50LmlubmVySFRNTCA9IHVwZGF0ZWQuaW5uZXJIVE1MO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcbn1cbiIsImlmICghY3VzdG9tRWxlbWVudHMuZ2V0KCdwcm9kdWN0LW1vZGFsJykpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFxuICAgICdwcm9kdWN0LW1vZGFsJyxcbiAgICBjbGFzcyBQcm9kdWN0TW9kYWwgZXh0ZW5kcyBNb2RhbERpYWxvZyB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgIH1cblxuICAgICAgaGlkZSgpIHtcbiAgICAgICAgc3VwZXIuaGlkZSgpO1xuICAgICAgfVxuXG4gICAgICBzaG93KG9wZW5lcikge1xuICAgICAgICBzdXBlci5zaG93KG9wZW5lcik7XG4gICAgICAgIHRoaXMuc2hvd0FjdGl2ZU1lZGlhKCk7XG4gICAgICB9XG5cbiAgICAgIHNob3dBY3RpdmVNZWRpYSgpIHtcbiAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgIGBbZGF0YS1tZWRpYS1pZF06bm90KFtkYXRhLW1lZGlhLWlkPVwiJHt0aGlzLm9wZW5lZEJ5LmdldEF0dHJpYnV0ZSgnZGF0YS1tZWRpYS1pZCcpfVwiXSlgXG4gICAgICAgICkuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhY3RpdmVNZWRpYSA9IHRoaXMucXVlcnlTZWxlY3RvcihgW2RhdGEtbWVkaWEtaWQ9XCIke3RoaXMub3BlbmVkQnkuZ2V0QXR0cmlidXRlKCdkYXRhLW1lZGlhLWlkJyl9XCJdYCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZU1lZGlhVGVtcGxhdGUgPSBhY3RpdmVNZWRpYS5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZScpO1xuICAgICAgICBjb25zdCBhY3RpdmVNZWRpYUNvbnRlbnQgPSBhY3RpdmVNZWRpYVRlbXBsYXRlID8gYWN0aXZlTWVkaWFUZW1wbGF0ZS5jb250ZW50IDogbnVsbDtcbiAgICAgICAgYWN0aXZlTWVkaWEuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgIGFjdGl2ZU1lZGlhLnNjcm9sbEludG9WaWV3KCk7XG5cbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbcm9sZT1cImRvY3VtZW50XCJdJyk7XG4gICAgICAgIGNvbnRhaW5lci5zY3JvbGxMZWZ0ID0gKGFjdGl2ZU1lZGlhLndpZHRoIC0gY29udGFpbmVyLmNsaWVudFdpZHRoKSAvIDI7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGFjdGl2ZU1lZGlhLm5vZGVOYW1lID09ICdERUZFUlJFRC1NRURJQScgJiZcbiAgICAgICAgICBhY3RpdmVNZWRpYUNvbnRlbnQgJiZcbiAgICAgICAgICBhY3RpdmVNZWRpYUNvbnRlbnQucXVlcnlTZWxlY3RvcignLmpzLXlvdXR1YmUnKVxuICAgICAgICApXG4gICAgICAgICAgYWN0aXZlTWVkaWEubG9hZENvbnRlbnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG4iLCJpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCgncHJvZHVjdC1tb2RlbCcpKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcbiAgICAncHJvZHVjdC1tb2RlbCcsXG4gICAgY2xhc3MgUHJvZHVjdE1vZGVsIGV4dGVuZHMgRGVmZXJyZWRNZWRpYSB7XG4gICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgIH1cblxuICAgICAgbG9hZENvbnRlbnQoKSB7XG4gICAgICAgIHN1cGVyLmxvYWRDb250ZW50KCk7XG5cbiAgICAgICAgU2hvcGlmeS5sb2FkRmVhdHVyZXMoW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdtb2RlbC12aWV3ZXItdWknLFxuICAgICAgICAgICAgdmVyc2lvbjogJzEuMCcsXG4gICAgICAgICAgICBvbkxvYWQ6IHRoaXMuc2V0dXBNb2RlbFZpZXdlclVJLmJpbmQodGhpcyksXG4gICAgICAgICAgfSxcbiAgICAgICAgXSk7XG4gICAgICB9XG5cbiAgICAgIHNldHVwTW9kZWxWaWV3ZXJVSShlcnJvcnMpIHtcbiAgICAgICAgaWYgKGVycm9ycykgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMubW9kZWxWaWV3ZXJVSSA9IG5ldyBTaG9waWZ5Lk1vZGVsVmlld2VyVUkodGhpcy5xdWVyeVNlbGVjdG9yKCdtb2RlbC12aWV3ZXInKSk7XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuXG53aW5kb3cuUHJvZHVjdE1vZGVsID0ge1xuICBsb2FkU2hvcGlmeVhSKCkge1xuICAgIFNob3BpZnkubG9hZEZlYXR1cmVzKFtcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ3Nob3BpZnkteHInLFxuICAgICAgICB2ZXJzaW9uOiAnMS4wJyxcbiAgICAgICAgb25Mb2FkOiB0aGlzLnNldHVwU2hvcGlmeVhSLmJpbmQodGhpcyksXG4gICAgICB9LFxuICAgIF0pO1xuICB9LFxuXG4gIHNldHVwU2hvcGlmeVhSKGVycm9ycykge1xuICAgIGlmIChlcnJvcnMpIHJldHVybjtcblxuICAgIGlmICghd2luZG93LlNob3BpZnlYUikge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2hvcGlmeV94cl9pbml0aWFsaXplZCcsICgpID0+IHRoaXMuc2V0dXBTaG9waWZ5WFIoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2lkXj1cIlByb2R1Y3RKU09OLVwiXScpLmZvckVhY2goKG1vZGVsSlNPTikgPT4ge1xuICAgICAgd2luZG93LlNob3BpZnlYUi5hZGRNb2RlbHMoSlNPTi5wYXJzZShtb2RlbEpTT04udGV4dENvbnRlbnQpKTtcbiAgICAgIG1vZGVsSlNPTi5yZW1vdmUoKTtcbiAgICB9KTtcbiAgICB3aW5kb3cuU2hvcGlmeVhSLnNldHVwWFJFbGVtZW50cygpO1xuICB9LFxufTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gIGlmICh3aW5kb3cuUHJvZHVjdE1vZGVsKSB3aW5kb3cuUHJvZHVjdE1vZGVsLmxvYWRTaG9waWZ5WFIoKTtcbn0pO1xuIiwiaWYgKCFjdXN0b21FbGVtZW50cy5nZXQoJ3F1aWNrLWFkZC1tb2RhbCcpKSB7XG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcbiAgICAncXVpY2stYWRkLW1vZGFsJyxcbiAgICBjbGFzcyBRdWlja0FkZE1vZGFsIGV4dGVuZHMgTW9kYWxEaWFsb2cge1xuICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubW9kYWxDb250ZW50ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdbaWRePVwiUXVpY2tBZGRJbmZvLVwiXScpO1xuICAgICAgfVxuXG4gICAgICBoaWRlKHByZXZlbnRGb2N1cyA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGNhcnROb3RpZmljYXRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdjYXJ0LW5vdGlmaWNhdGlvbicpIHx8IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhcnQtZHJhd2VyJyk7XG4gICAgICAgIGlmIChjYXJ0Tm90aWZpY2F0aW9uKSBjYXJ0Tm90aWZpY2F0aW9uLnNldEFjdGl2ZUVsZW1lbnQodGhpcy5vcGVuZWRCeSk7XG4gICAgICAgIHRoaXMubW9kYWxDb250ZW50LmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgIGlmIChwcmV2ZW50Rm9jdXMpIHRoaXMub3BlbmVkQnkgPSBudWxsO1xuICAgICAgICBzdXBlci5oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIHNob3cob3BlbmVyKSB7XG4gICAgICAgIG9wZW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgb3BlbmVyLmNsYXNzTGlzdC5hZGQoJ2xvYWRpbmcnKTtcbiAgICAgICAgb3BlbmVyLnF1ZXJ5U2VsZWN0b3IoJy5sb2FkaW5nLW92ZXJsYXlfX3NwaW5uZXInKS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblxuICAgICAgICBmZXRjaChvcGVuZXIuZ2V0QXR0cmlidXRlKCdkYXRhLXByb2R1Y3QtdXJsJykpXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS50ZXh0KCkpXG4gICAgICAgICAgLnRoZW4oKHJlc3BvbnNlVGV4dCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VIVE1MID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhyZXNwb25zZVRleHQsICd0ZXh0L2h0bWwnKTtcbiAgICAgICAgICAgIHRoaXMucHJvZHVjdEVsZW1lbnQgPSByZXNwb25zZUhUTUwucXVlcnlTZWxlY3Rvcignc2VjdGlvbltpZF49XCJNYWluUHJvZHVjdC1cIl0nKTtcbiAgICAgICAgICAgIHRoaXMucHJldmVudER1cGxpY2F0ZWRJRHMoKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRE9NRWxlbWVudHMoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SW5uZXJIVE1MKHRoaXMubW9kYWxDb250ZW50LCB0aGlzLnByb2R1Y3RFbGVtZW50LmlubmVySFRNTCk7XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuU2hvcGlmeSAmJiBTaG9waWZ5LlBheW1lbnRCdXR0b24pIHtcbiAgICAgICAgICAgICAgU2hvcGlmeS5QYXltZW50QnV0dG9uLmluaXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5Qcm9kdWN0TW9kZWwpIHdpbmRvdy5Qcm9kdWN0TW9kZWwubG9hZFNob3BpZnlYUigpO1xuXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUdhbGxlcnlMaXN0U2VtYW50aWMoKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW1hZ2VTaXplcygpO1xuICAgICAgICAgICAgdGhpcy5wcmV2ZW50VmFyaWFudFVSTFN3aXRjaGluZygpO1xuICAgICAgICAgICAgc3VwZXIuc2hvdyhvcGVuZXIpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgb3BlbmVyLnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgb3BlbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2xvYWRpbmcnKTtcbiAgICAgICAgICAgIG9wZW5lci5xdWVyeVNlbGVjdG9yKCcubG9hZGluZy1vdmVybGF5X19zcGlubmVyJykuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNldElubmVySFRNTChlbGVtZW50LCBodG1sKSB7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgICAvLyBSZWluamVjdHMgdGhlIHNjcmlwdCB0YWdzIHRvIGFsbG93IGV4ZWN1dGlvbi4gQnkgZGVmYXVsdCwgc2NyaXB0cyBhcmUgZGlzYWJsZWQgd2hlbiB1c2luZyBlbGVtZW50LmlubmVySFRNTC5cbiAgICAgICAgZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdzY3JpcHQnKS5mb3JFYWNoKChvbGRTY3JpcHRUYWcpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdTY3JpcHRUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgICAgICBBcnJheS5mcm9tKG9sZFNjcmlwdFRhZy5hdHRyaWJ1dGVzKS5mb3JFYWNoKChhdHRyaWJ1dGUpID0+IHtcbiAgICAgICAgICAgIG5ld1NjcmlwdFRhZy5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLm5hbWUsIGF0dHJpYnV0ZS52YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmV3U2NyaXB0VGFnLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG9sZFNjcmlwdFRhZy5pbm5lckhUTUwpKTtcbiAgICAgICAgICBvbGRTY3JpcHRUYWcucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobmV3U2NyaXB0VGFnLCBvbGRTY3JpcHRUYWcpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcHJldmVudFZhcmlhbnRVUkxTd2l0Y2hpbmcoKSB7XG4gICAgICAgIGNvbnN0IHZhcmlhbnRQaWNrZXIgPSB0aGlzLm1vZGFsQ29udGVudC5xdWVyeVNlbGVjdG9yKCd2YXJpYW50LXJhZGlvcyx2YXJpYW50LXNlbGVjdHMnKTtcbiAgICAgICAgaWYgKCF2YXJpYW50UGlja2VyKSByZXR1cm47XG5cbiAgICAgICAgdmFyaWFudFBpY2tlci5zZXRBdHRyaWJ1dGUoJ2RhdGEtdXBkYXRlLXVybCcsICdmYWxzZScpO1xuICAgICAgfVxuXG4gICAgICByZW1vdmVET01FbGVtZW50cygpIHtcbiAgICAgICAgY29uc3QgcGlja3VwQXZhaWxhYmlsaXR5ID0gdGhpcy5wcm9kdWN0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdwaWNrdXAtYXZhaWxhYmlsaXR5Jyk7XG4gICAgICAgIGlmIChwaWNrdXBBdmFpbGFiaWxpdHkpIHBpY2t1cEF2YWlsYWJpbGl0eS5yZW1vdmUoKTtcblxuICAgICAgICBjb25zdCBwcm9kdWN0TW9kYWwgPSB0aGlzLnByb2R1Y3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3Byb2R1Y3QtbW9kYWwnKTtcbiAgICAgICAgaWYgKHByb2R1Y3RNb2RhbCkgcHJvZHVjdE1vZGFsLnJlbW92ZSgpO1xuXG4gICAgICAgIGNvbnN0IG1vZGFsRGlhbG9nID0gdGhpcy5wcm9kdWN0RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdtb2RhbC1kaWFsb2cnKTtcbiAgICAgICAgaWYgKG1vZGFsRGlhbG9nKSBtb2RhbERpYWxvZy5mb3JFYWNoKChtb2RhbCkgPT4gbW9kYWwucmVtb3ZlKCkpO1xuICAgICAgfVxuXG4gICAgICBwcmV2ZW50RHVwbGljYXRlZElEcygpIHtcbiAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gdGhpcy5wcm9kdWN0RWxlbWVudC5kYXRhc2V0LnNlY3Rpb247XG4gICAgICAgIHRoaXMucHJvZHVjdEVsZW1lbnQuaW5uZXJIVE1MID0gdGhpcy5wcm9kdWN0RWxlbWVudC5pbm5lckhUTUwucmVwbGFjZUFsbChzZWN0aW9uSWQsIGBxdWlja2FkZC0ke3NlY3Rpb25JZH1gKTtcbiAgICAgICAgdGhpcy5wcm9kdWN0RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCd2YXJpYW50LXNlbGVjdHMsIHZhcmlhbnQtcmFkaW9zLCBwcm9kdWN0LWluZm8nKS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgZWxlbWVudC5kYXRhc2V0Lm9yaWdpbmFsU2VjdGlvbiA9IHNlY3Rpb25JZDtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJlbW92ZUdhbGxlcnlMaXN0U2VtYW50aWMoKSB7XG4gICAgICAgIGNvbnN0IGdhbGxlcnlMaXN0ID0gdGhpcy5tb2RhbENvbnRlbnQucXVlcnlTZWxlY3RvcignW2lkXj1cIlNsaWRlci1HYWxsZXJ5XCJdJyk7XG4gICAgICAgIGlmICghZ2FsbGVyeUxpc3QpIHJldHVybjtcblxuICAgICAgICBnYWxsZXJ5TGlzdC5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAncHJlc2VudGF0aW9uJyk7XG4gICAgICAgIGdhbGxlcnlMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tpZF49XCJTbGlkZS1cIl0nKS5mb3JFYWNoKChsaSkgPT4gbGkuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3ByZXNlbnRhdGlvbicpKTtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlSW1hZ2VTaXplcygpIHtcbiAgICAgICAgY29uc3QgcHJvZHVjdCA9IHRoaXMubW9kYWxDb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0Jyk7XG4gICAgICAgIGNvbnN0IGRlc2t0b3BDb2x1bW5zID0gcHJvZHVjdC5jbGFzc0xpc3QuY29udGFpbnMoJ3Byb2R1Y3QtLWNvbHVtbnMnKTtcbiAgICAgICAgaWYgKCFkZXNrdG9wQ29sdW1ucykgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG1lZGlhSW1hZ2VzID0gcHJvZHVjdC5xdWVyeVNlbGVjdG9yQWxsKCcucHJvZHVjdF9fbWVkaWEgaW1nJyk7XG4gICAgICAgIGlmICghbWVkaWFJbWFnZXMubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgbGV0IG1lZGlhSW1hZ2VTaXplcyA9XG4gICAgICAgICAgJyhtaW4td2lkdGg6IDEwMDBweCkgNzE1cHgsIChtaW4td2lkdGg6IDc1MHB4KSBjYWxjKCgxMDB2dyAtIDExLjVyZW0pIC8gMiksIGNhbGMoMTAwdncgLSA0cmVtKSc7XG5cbiAgICAgICAgaWYgKHByb2R1Y3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0LS1tZWRpdW0nKSkge1xuICAgICAgICAgIG1lZGlhSW1hZ2VTaXplcyA9IG1lZGlhSW1hZ2VTaXplcy5yZXBsYWNlKCc3MTVweCcsICc2MDVweCcpO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2R1Y3QuY2xhc3NMaXN0LmNvbnRhaW5zKCdwcm9kdWN0LS1zbWFsbCcpKSB7XG4gICAgICAgICAgbWVkaWFJbWFnZVNpemVzID0gbWVkaWFJbWFnZVNpemVzLnJlcGxhY2UoJzcxNXB4JywgJzQ5NXB4Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBtZWRpYUltYWdlcy5mb3JFYWNoKChpbWcpID0+IGltZy5zZXRBdHRyaWJ1dGUoJ3NpemVzJywgbWVkaWFJbWFnZVNpemVzKSk7XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuIiwiaWYgKCFjdXN0b21FbGVtZW50cy5nZXQoJ3JlY2lwaWVudC1mb3JtJykpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdyZWNpcGllbnQtZm9ybScsIGNsYXNzIFJlY2lwaWVudEZvcm0gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICBzdXBlcigpO1xuICAgICAgdGhpcy5jaGVja2JveElucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKGAjUmVjaXBpZW50LWNoZWNrYm94LSR7IHRoaXMuZGF0YXNldC5zZWN0aW9uSWQgfWApO1xuICAgICAgdGhpcy5jaGVja2JveElucHV0LmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmhpZGRlbkNvbnRyb2xGaWVsZCA9IHRoaXMucXVlcnlTZWxlY3RvcihgI1JlY2lwaWVudC1jb250cm9sLSR7IHRoaXMuZGF0YXNldC5zZWN0aW9uSWQgfWApO1xuICAgICAgdGhpcy5oaWRkZW5Db250cm9sRmllbGQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5lbWFpbElucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKGAjUmVjaXBpZW50LWVtYWlsLSR7IHRoaXMuZGF0YXNldC5zZWN0aW9uSWQgfWApO1xuICAgICAgdGhpcy5uYW1lSW5wdXQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoYCNSZWNpcGllbnQtbmFtZS0keyB0aGlzLmRhdGFzZXQuc2VjdGlvbklkIH1gKTtcbiAgICAgIHRoaXMubWVzc2FnZUlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKGAjUmVjaXBpZW50LW1lc3NhZ2UtJHsgdGhpcy5kYXRhc2V0LnNlY3Rpb25JZCB9YCk7XG4gICAgICB0aGlzLnNlbmRvbklucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKGAjUmVjaXBpZW50LXNlbmQtb24tJHsgdGhpcy5kYXRhc2V0LnNlY3Rpb25JZCB9YCk7XG4gICAgICB0aGlzLm9mZnNldFByb3BlcnR5ID0gdGhpcy5xdWVyeVNlbGVjdG9yKGAjUmVjaXBpZW50LXRpbWV6b25lLW9mZnNldC0keyB0aGlzLmRhdGFzZXQuc2VjdGlvbklkIH1gKTtcbiAgICAgIGlmICh0aGlzLm9mZnNldFByb3BlcnR5KSB0aGlzLm9mZnNldFByb3BlcnR5LnZhbHVlID0gbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpO1xuXG4gICAgICB0aGlzLmVycm9yTWVzc2FnZVdyYXBwZXIgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5wcm9kdWN0LWZvcm1fX3JlY2lwaWVudC1lcnJvci1tZXNzYWdlLXdyYXBwZXInKTtcbiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlTGlzdCA9IHRoaXMuZXJyb3JNZXNzYWdlV3JhcHBlcj8ucXVlcnlTZWxlY3RvcigndWwnKTtcbiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gdGhpcy5lcnJvck1lc3NhZ2VXcmFwcGVyPy5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbWVzc2FnZScpO1xuICAgICAgdGhpcy5kZWZhdWx0RXJyb3JIZWFkZXIgPSB0aGlzLmVycm9yTWVzc2FnZT8uaW5uZXJUZXh0O1xuICAgICAgdGhpcy5jdXJyZW50UHJvZHVjdFZhcmlhbnRJZCA9IHRoaXMuZGF0YXNldC5wcm9kdWN0VmFyaWFudElkO1xuICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5vbkNoYW5nZSgpO1xuICAgIH1cblxuICAgIGNhcnRVcGRhdGVVbnN1YnNjcmliZXIgPSB1bmRlZmluZWQ7XG4gICAgdmFyaWFudENoYW5nZVVuc3Vic2NyaWJlciA9IHVuZGVmaW5lZDtcbiAgICBjYXJ0RXJyb3JVbnN1YnNjcmliZXIgPSB1bmRlZmluZWQ7XG5cbiAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIHRoaXMuY2FydFVwZGF0ZVVuc3Vic2NyaWJlciA9IHN1YnNjcmliZShQVUJfU1VCX0VWRU5UUy5jYXJ0VXBkYXRlLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LnNvdXJjZSA9PT0gJ3Byb2R1Y3QtZm9ybScgJiYgZXZlbnQucHJvZHVjdFZhcmlhbnRJZC50b1N0cmluZygpID09PSB0aGlzLmN1cnJlbnRQcm9kdWN0VmFyaWFudElkKSB7XG4gICAgICAgICAgdGhpcy5yZXNldFJlY2lwaWVudEZvcm0oKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMudmFyaWFudENoYW5nZVVuc3Vic2NyaWJlciA9IHN1YnNjcmliZShQVUJfU1VCX0VWRU5UUy52YXJpYW50Q2hhbmdlLCAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmRhdGEuc2VjdGlvbklkID09PSB0aGlzLmRhdGFzZXQuc2VjdGlvbklkKSB7XG4gICAgICAgICAgdGhpcy5jdXJyZW50UHJvZHVjdFZhcmlhbnRJZCA9IGV2ZW50LmRhdGEudmFyaWFudC5pZC50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5jYXJ0VXBkYXRlVW5zdWJzY3JpYmVyID0gc3Vic2NyaWJlKFBVQl9TVUJfRVZFTlRTLmNhcnRFcnJvciwgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09ICdwcm9kdWN0LWZvcm0nICYmIGV2ZW50LnByb2R1Y3RWYXJpYW50SWQudG9TdHJpbmcoKSA9PT0gdGhpcy5jdXJyZW50UHJvZHVjdFZhcmlhbnRJZCkge1xuICAgICAgICAgIHRoaXMuZGlzcGxheUVycm9yTWVzc2FnZShldmVudC5tZXNzYWdlLCBldmVudC5lcnJvcnMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgIGlmICh0aGlzLmNhcnRVcGRhdGVVbnN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy5jYXJ0VXBkYXRlVW5zdWJzY3JpYmVyKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnZhcmlhbnRDaGFuZ2VVbnN1YnNjcmliZXIpIHtcbiAgICAgICAgdGhpcy52YXJpYW50Q2hhbmdlVW5zdWJzY3JpYmVyKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNhcnRFcnJvclVuc3Vic2NyaWJlcikge1xuICAgICAgICB0aGlzLmNhcnRFcnJvclVuc3Vic2NyaWJlcigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2hhbmdlKCkge1xuICAgICAgaWYgKHRoaXMuY2hlY2tib3hJbnB1dC5jaGVja2VkKSB7XG4gICAgICAgIHRoaXMuZW5hYmxlSW5wdXRGaWVsZHMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2xlYXJJbnB1dEZpZWxkcygpO1xuICAgICAgICB0aGlzLmRpc2FibGVJbnB1dEZpZWxkcygpO1xuICAgICAgICB0aGlzLmNsZWFyRXJyb3JNZXNzYWdlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW5wdXRGaWVsZHMoKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICB0aGlzLmVtYWlsSW5wdXQsXG4gICAgICAgIHRoaXMubmFtZUlucHV0LFxuICAgICAgICB0aGlzLm1lc3NhZ2VJbnB1dCxcbiAgICAgICAgdGhpcy5zZW5kb25JbnB1dFxuICAgICAgXTtcbiAgICB9XG5cbiAgICBkaXNhYmxlYWJsZUZpZWxkcygpIHtcbiAgICAgIHJldHVybiBbLi4udGhpcy5pbnB1dEZpZWxkcygpLCB0aGlzLm9mZnNldFByb3BlcnR5XTtcbiAgICB9XG5cbiAgICBjbGVhcklucHV0RmllbGRzKCkge1xuICAgICAgdGhpcy5pbnB1dEZpZWxkcygpLmZvckVhY2goKGZpZWxkKSA9PiBmaWVsZC52YWx1ZSA9ICcnKTtcbiAgICB9XG5cbiAgICBlbmFibGVJbnB1dEZpZWxkcygpIHtcbiAgICAgIHRoaXMuZGlzYWJsZWFibGVGaWVsZHMoKS5mb3JFYWNoKChmaWVsZCkgPT4gZmllbGQuZGlzYWJsZWQgPSBmYWxzZSk7XG4gICAgfVxuXG4gICAgZGlzYWJsZUlucHV0RmllbGRzKCkge1xuICAgICAgdGhpcy5kaXNhYmxlYWJsZUZpZWxkcygpLmZvckVhY2goKGZpZWxkKSA9PiBmaWVsZC5kaXNhYmxlZCA9IHRydWUpO1xuICAgIH1cblxuICAgIGRpc3BsYXlFcnJvck1lc3NhZ2UodGl0bGUsIGJvZHkpIHtcbiAgICAgIHRoaXMuY2xlYXJFcnJvck1lc3NhZ2UoKTtcbiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlV3JhcHBlci5oaWRkZW4gPSBmYWxzZTtcbiAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgdGhpcy5lcnJvck1lc3NhZ2UuaW5uZXJUZXh0ID0gdGhpcy5kZWZhdWx0RXJyb3JIZWFkZXI7XG4gICAgICAgIHJldHVybiBPYmplY3QuZW50cmllcyhib2R5KS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2VJZCA9IGBSZWNpcGllbnRGb3JtLSR7IGtleSB9LWVycm9yLSR7IHRoaXMuZGF0YXNldC5zZWN0aW9uSWQgfWBcbiAgICAgICAgICBjb25zdCBmaWVsZFNlbGVjdG9yID0gYCNSZWNpcGllbnQtJHsga2V5IH0tJHsgdGhpcy5kYXRhc2V0LnNlY3Rpb25JZCB9YDtcbiAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYCR7dmFsdWUuam9pbignLCAnKX1gO1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsZW1lbnQgPSB0aGlzLnF1ZXJ5U2VsZWN0b3IoYCMke2Vycm9yTWVzc2FnZUlkfWApO1xuICAgICAgICAgIGNvbnN0IGVycm9yVGV4dEVsZW1lbnQgPSBlcnJvck1lc3NhZ2VFbGVtZW50Py5xdWVyeVNlbGVjdG9yKCcuZXJyb3ItbWVzc2FnZScpXG4gICAgICAgICAgaWYgKCFlcnJvclRleHRFbGVtZW50KSByZXR1cm47XG5cbiAgICAgICAgICBpZiAodGhpcy5lcnJvck1lc3NhZ2VMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZUxpc3QuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVFcnJvckxpc3RJdGVtKGZpZWxkU2VsZWN0b3IsIG1lc3NhZ2UpKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlcnJvclRleHRFbGVtZW50LmlubmVyVGV4dCA9IGAke21lc3NhZ2V9LmA7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblxuICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRoaXNbYCR7a2V5fUlucHV0YF07XG4gICAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQpIHJldHVybjtcblxuICAgICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtaW52YWxpZCcsIHRydWUpO1xuICAgICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknLCBlcnJvck1lc3NhZ2VJZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmVycm9yTWVzc2FnZS5pbm5lclRleHQgPSBib2R5O1xuICAgIH1cblxuICAgIGNyZWF0ZUVycm9yTGlzdEl0ZW0odGFyZ2V0LCBtZXNzYWdlKSB7XG4gICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgYS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCB0YXJnZXQpO1xuICAgICAgYS5pbm5lclRleHQgPSBtZXNzYWdlO1xuICAgICAgbGkuYXBwZW5kQ2hpbGQoYSk7XG4gICAgICBsaS5jbGFzc05hbWUgPSBcImVycm9yLW1lc3NhZ2VcIjtcbiAgICAgIHJldHVybiBsaTtcbiAgICB9XG5cbiAgICBjbGVhckVycm9yTWVzc2FnZSgpIHtcbiAgICAgIHRoaXMuZXJyb3JNZXNzYWdlV3JhcHBlci5oaWRkZW4gPSB0cnVlO1xuXG4gICAgICBpZiAodGhpcy5lcnJvck1lc3NhZ2VMaXN0KSB0aGlzLmVycm9yTWVzc2FnZUxpc3QuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgIHRoaXMucXVlcnlTZWxlY3RvckFsbCgnLnJlY2lwaWVudC1maWVsZHMgLmZvcm1fX21lc3NhZ2UnKS5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgICAgZmllbGQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGNvbnN0IHRleHRGaWVsZCA9IGZpZWxkLnF1ZXJ5U2VsZWN0b3IoJy5lcnJvci1tZXNzYWdlJyk7XG4gICAgICAgIGlmICh0ZXh0RmllbGQpIHRleHRGaWVsZC5pbm5lclRleHQgPSAnJztcbiAgICAgIH0pO1xuXG4gICAgICBbdGhpcy5lbWFpbElucHV0LCB0aGlzLm1lc3NhZ2VJbnB1dCwgdGhpcy5uYW1lSW5wdXQsIHRoaXMuc2VuZG9uSW5wdXRdLmZvckVhY2goaW5wdXRFbGVtZW50ID0+IHtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZSgnYXJpYS1pbnZhbGlkJywgZmFsc2UpO1xuICAgICAgICBpbnB1dEVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWRlc2NyaWJlZGJ5Jyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXNldFJlY2lwaWVudEZvcm0oKSB7XG4gICAgICBpZiAodGhpcy5jaGVja2JveElucHV0LmNoZWNrZWQpIHtcbiAgICAgICAgdGhpcy5jaGVja2JveElucHV0LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jbGVhcklucHV0RmllbGRzKCk7XG4gICAgICAgIHRoaXMuY2xlYXJFcnJvck1lc3NhZ2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuIiwiY2xhc3MgU2VhcmNoRm9ybSBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlucHV0ID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPVwic2VhcmNoXCJdJyk7XG4gICAgdGhpcy5yZXNldEJ1dHRvbiA9IHRoaXMucXVlcnlTZWxlY3RvcignYnV0dG9uW3R5cGU9XCJyZXNldFwiXScpO1xuXG4gICAgaWYgKHRoaXMuaW5wdXQpIHtcbiAgICAgIHRoaXMuaW5wdXQuZm9ybS5hZGRFdmVudExpc3RlbmVyKCdyZXNldCcsIHRoaXMub25Gb3JtUmVzZXQuYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdpbnB1dCcsXG4gICAgICAgIGRlYm91bmNlKChldmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMub25DaGFuZ2UoZXZlbnQpO1xuICAgICAgICB9LCAzMDApLmJpbmQodGhpcylcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgdG9nZ2xlUmVzZXRCdXR0b24oKSB7XG4gICAgY29uc3QgcmVzZXRJc0hpZGRlbiA9IHRoaXMucmVzZXRCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRkZW4nKTtcbiAgICBpZiAodGhpcy5pbnB1dC52YWx1ZS5sZW5ndGggPiAwICYmIHJlc2V0SXNIaWRkZW4pIHtcbiAgICAgIHRoaXMucmVzZXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmlucHV0LnZhbHVlLmxlbmd0aCA9PT0gMCAmJiAhcmVzZXRJc0hpZGRlbikge1xuICAgICAgdGhpcy5yZXNldEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cblxuICBvbkNoYW5nZSgpIHtcbiAgICB0aGlzLnRvZ2dsZVJlc2V0QnV0dG9uKCk7XG4gIH1cblxuICBzaG91bGRSZXNldEZvcm0oKSB7XG4gICAgcmV0dXJuICFkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbYXJpYS1zZWxlY3RlZD1cInRydWVcIl0gYScpO1xuICB9XG5cbiAgb25Gb3JtUmVzZXQoZXZlbnQpIHtcbiAgICAvLyBQcmV2ZW50IGRlZmF1bHQgc28gdGhlIGZvcm0gcmVzZXQgZG9lc24ndCBzZXQgdGhlIHZhbHVlIGdvdHRlbiBmcm9tIHRoZSB1cmwgb24gcGFnZSBsb2FkXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAvLyBEb24ndCByZXNldCBpZiB0aGUgdXNlciBoYXMgc2VsZWN0ZWQgYW4gZWxlbWVudCBvbiB0aGUgcHJlZGljdGl2ZSBzZWFyY2ggZHJvcGRvd25cbiAgICBpZiAodGhpcy5zaG91bGRSZXNldEZvcm0oKSkge1xuICAgICAgdGhpcy5pbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgICAgdGhpcy50b2dnbGVSZXNldEJ1dHRvbigpO1xuICAgIH1cbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3NlYXJjaC1mb3JtJywgU2VhcmNoRm9ybSk7XG4iLCJpZiAoIWN1c3RvbUVsZW1lbnRzLmdldCgnc2hhcmUtYnV0dG9uJykpIHtcbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFxuICAgICdzaGFyZS1idXR0b24nLFxuICAgIGNsYXNzIFNoYXJlQnV0dG9uIGV4dGVuZHMgRGV0YWlsc0Rpc2Nsb3N1cmUge1xuICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG5cbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IHtcbiAgICAgICAgICBzaGFyZUJ1dHRvbjogdGhpcy5xdWVyeVNlbGVjdG9yKCdidXR0b24nKSxcbiAgICAgICAgICBzaGFyZVN1bW1hcnk6IHRoaXMucXVlcnlTZWxlY3Rvcignc3VtbWFyeScpLFxuICAgICAgICAgIGNsb3NlQnV0dG9uOiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJy5zaGFyZS1idXR0b25fX2Nsb3NlJyksXG4gICAgICAgICAgc3VjY2Vzc01lc3NhZ2U6IHRoaXMucXVlcnlTZWxlY3RvcignW2lkXj1cIlNoYXJlTWVzc2FnZVwiXScpLFxuICAgICAgICAgIHVybElucHV0OiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXJsVG9TaGFyZSA9IHRoaXMuZWxlbWVudHMudXJsSW5wdXQgPyB0aGlzLmVsZW1lbnRzLnVybElucHV0LnZhbHVlIDogZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcblxuICAgICAgICBpZiAobmF2aWdhdG9yLnNoYXJlKSB7XG4gICAgICAgICAgdGhpcy5tYWluRGV0YWlsc1RvZ2dsZS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICcnKTtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLnNoYXJlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIHRoaXMuZWxlbWVudHMuc2hhcmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICBuYXZpZ2F0b3Iuc2hhcmUoeyB1cmw6IHRoaXMudXJsVG9TaGFyZSwgdGl0bGU6IGRvY3VtZW50LnRpdGxlIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGUuYWRkRXZlbnRMaXN0ZW5lcigndG9nZ2xlJywgdGhpcy50b2dnbGVEZXRhaWxzLmJpbmQodGhpcykpO1xuICAgICAgICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGVcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuc2hhcmUtYnV0dG9uX19jb3B5JylcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY29weVRvQ2xpcGJvYXJkLmJpbmQodGhpcykpO1xuICAgICAgICAgIHRoaXMubWFpbkRldGFpbHNUb2dnbGUucXVlcnlTZWxlY3RvcignLnNoYXJlLWJ1dHRvbl9fY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdG9nZ2xlRGV0YWlscygpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1haW5EZXRhaWxzVG9nZ2xlLm9wZW4pIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLnN1Y2Nlc3NNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHRoaXMuZWxlbWVudHMuc3VjY2Vzc01lc3NhZ2UudGV4dENvbnRlbnQgPSAnJztcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLmNsb3NlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIHRoaXMuZWxlbWVudHMuc2hhcmVTdW1tYXJ5LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29weVRvQ2xpcGJvYXJkKCkge1xuICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dCh0aGlzLmVsZW1lbnRzLnVybElucHV0LnZhbHVlKS50aGVuKCgpID0+IHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzLnN1Y2Nlc3NNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgICAgIHRoaXMuZWxlbWVudHMuc3VjY2Vzc01lc3NhZ2UudGV4dENvbnRlbnQgPSB3aW5kb3cuYWNjZXNzaWJpbGl0eVN0cmluZ3Muc2hhcmVTdWNjZXNzO1xuICAgICAgICAgIHRoaXMuZWxlbWVudHMuY2xvc2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgICAgICAgdGhpcy5lbGVtZW50cy5jbG9zZUJ1dHRvbi5mb2N1cygpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlVXJsKHVybCkge1xuICAgICAgICB0aGlzLnVybFRvU2hhcmUgPSB1cmw7XG4gICAgICAgIHRoaXMuZWxlbWVudHMudXJsSW5wdXQudmFsdWUgPSB1cmw7XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuIiwiY2xhc3MgU2hvd01vcmVCdXR0b24gZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgY29uc3QgYnV0dG9uID0gdGhpcy5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgIHRoaXMuZXhwYW5kU2hvd01vcmUoZXZlbnQpO1xuICAgICAgY29uc3QgbmV4dEVsZW1lbnRUb0ZvY3VzID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5wYXJlbnQtZGlzcGxheScpLnF1ZXJ5U2VsZWN0b3IoJy5zaG93LW1vcmUtaXRlbScpO1xuICAgICAgaWYgKG5leHRFbGVtZW50VG9Gb2N1cyAmJiAhbmV4dEVsZW1lbnRUb0ZvY3VzLmNsYXNzTGlzdC5jb250YWlucygnaGlkZGVuJykpIHtcbiAgICAgICAgbmV4dEVsZW1lbnRUb0ZvY3VzLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykuZm9jdXMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBleHBhbmRTaG93TW9yZShldmVudCkge1xuICAgIGNvbnN0IHBhcmVudERpc3BsYXkgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnW2lkXj1cIlNob3ctTW9yZS1cIl0nKS5jbG9zZXN0KCcucGFyZW50LWRpc3BsYXknKTtcbiAgICBjb25zdCBwYXJlbnRXcmFwID0gcGFyZW50RGlzcGxheS5xdWVyeVNlbGVjdG9yKCcucGFyZW50LXdyYXAnKTtcbiAgICB0aGlzLnF1ZXJ5U2VsZWN0b3JBbGwoJy5sYWJlbC10ZXh0JykuZm9yRWFjaCgoZWxlbWVudCkgPT4gZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKSk7XG4gICAgcGFyZW50RGlzcGxheS5xdWVyeVNlbGVjdG9yQWxsKCcuc2hvdy1tb3JlLWl0ZW0nKS5mb3JFYWNoKChpdGVtKSA9PiBpdGVtLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpKTtcbiAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ3Nob3ctbW9yZS1idXR0b24nLCBTaG93TW9yZUJ1dHRvbik7XG4iLCJmdW5jdGlvbiBoaWRlUHJvZHVjdE1vZGFsKCkge1xuICBjb25zdCBwcm9kdWN0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdwcm9kdWN0LW1vZGFsW29wZW5dJyk7XG4gIHByb2R1Y3RNb2RhbCAmJiBwcm9kdWN0TW9kYWwuZm9yRWFjaCgobW9kYWwpID0+IG1vZGFsLmhpZGUoKSk7XG59XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6YmxvY2s6c2VsZWN0JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gIGhpZGVQcm9kdWN0TW9kYWwoKTtcbiAgY29uc3QgYmxvY2tTZWxlY3RlZElzU2xpZGUgPSBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZXNob3dfX3NsaWRlJyk7XG4gIGlmICghYmxvY2tTZWxlY3RlZElzU2xpZGUpIHJldHVybjtcblxuICBjb25zdCBwYXJlbnRTbGlkZXNob3dDb21wb25lbnQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnc2xpZGVzaG93LWNvbXBvbmVudCcpO1xuICBwYXJlbnRTbGlkZXNob3dDb21wb25lbnQucGF1c2UoKTtcblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBwYXJlbnRTbGlkZXNob3dDb21wb25lbnQuc2xpZGVyLnNjcm9sbFRvKHtcbiAgICAgIGxlZnQ6IGV2ZW50LnRhcmdldC5vZmZzZXRMZWZ0LFxuICAgIH0pO1xuICB9LCAyMDApO1xufSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6YmxvY2s6ZGVzZWxlY3QnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgY29uc3QgYmxvY2tEZXNlbGVjdGVkSXNTbGlkZSA9IGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlc2hvd19fc2xpZGUnKTtcbiAgaWYgKCFibG9ja0Rlc2VsZWN0ZWRJc1NsaWRlKSByZXR1cm47XG4gIGNvbnN0IHBhcmVudFNsaWRlc2hvd0NvbXBvbmVudCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCdzbGlkZXNob3ctY29tcG9uZW50Jyk7XG4gIGlmIChwYXJlbnRTbGlkZXNob3dDb21wb25lbnQuYXV0b3BsYXlCdXR0b25Jc1NldFRvUGxheSkgcGFyZW50U2xpZGVzaG93Q29tcG9uZW50LnBsYXkoKTtcbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzaG9waWZ5OnNlY3Rpb246bG9hZCcsICgpID0+IHtcbiAgaGlkZVByb2R1Y3RNb2RhbCgpO1xuICBjb25zdCB6b29tT25Ib3ZlclNjcmlwdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tpZF49RW5hYmxlWm9vbU9uSG92ZXJdJyk7XG4gIGlmICghem9vbU9uSG92ZXJTY3JpcHQpIHJldHVybjtcbiAgaWYgKHpvb21PbkhvdmVyU2NyaXB0KSB7XG4gICAgY29uc3QgbmV3U2NyaXB0VGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgbmV3U2NyaXB0VGFnLnNyYyA9IHpvb21PbkhvdmVyU2NyaXB0LnNyYztcbiAgICB6b29tT25Ib3ZlclNjcmlwdC5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdTY3JpcHRUYWcsIHpvb21PbkhvdmVyU2NyaXB0KTtcbiAgfVxufSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6c2VjdGlvbjpyZW9yZGVyJywgKCkgPT4gaGlkZVByb2R1Y3RNb2RhbCgpKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2hvcGlmeTpzZWN0aW9uOnNlbGVjdCcsICgpID0+IGhpZGVQcm9kdWN0TW9kYWwoKSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6c2VjdGlvbjpkZXNlbGVjdCcsICgpID0+IGhpZGVQcm9kdWN0TW9kYWwoKSk7XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Nob3BpZnk6aW5zcGVjdG9yOmFjdGl2YXRlJywgKCkgPT4gaGlkZVByb2R1Y3RNb2RhbCgpKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2hvcGlmeTppbnNwZWN0b3I6ZGVhY3RpdmF0ZScsICgpID0+IGhpZGVQcm9kdWN0TW9kYWwoKSk7XG4iXSwibmFtZXMiOlsiU0NST0xMX0FOSU1BVElPTl9PRkZTQ1JFRU5fQ0xBU1NOQU1FIiwib25JbnRlcnNlY3Rpb24iLCJlbGVtZW50cyIsIm9ic2VydmVyIiwiZm9yRWFjaCIsImVsZW1lbnQiLCJpbmRleCIsImlzSW50ZXJzZWN0aW5nIiwiZWxlbWVudFRhcmdldCIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwicmVtb3ZlIiwiaGFzQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidW5vYnNlcnZlIiwiYWRkIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJvb3RFbCIsImRvY3VtZW50IiwiaXNEZXNpZ25Nb2RlRXZlbnQiLCJhbmltYXRpb25UcmlnZ2VyRWxlbWVudHMiLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwibGVuZ3RoIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJyb290TWFyZ2luIiwib2JzZXJ2ZSIsImluaXRpYWxpemVTY3JvbGxBbmltYXRpb25UcmlnZ2VyIiwiQ2FydERyYXdlciIsIkhUTUxFbGVtZW50IiwiY29uc3RydWN0b3IiLCJzdXBlciIsInRoaXMiLCJldnQiLCJjb2RlIiwiY2xvc2UiLCJxdWVyeVNlbGVjdG9yIiwiYmluZCIsInNldEhlYWRlckNhcnRJY29uQWNjZXNzaWJpbGl0eSIsImNhcnRMaW5rIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIm9wZW4iLCJ0b1VwcGVyQ2FzZSIsInRyaWdnZXJlZEJ5Iiwic2V0QWN0aXZlRWxlbWVudCIsImNhcnREcmF3ZXJOb3RlIiwic2V0U3VtbWFyeUFjY2Vzc2liaWxpdHkiLCJzZXRUaW1lb3V0IiwiY29udGFpbmVyVG9UcmFwRm9jdXNPbiIsImdldEVsZW1lbnRCeUlkIiwiZm9jdXNFbGVtZW50IiwidHJhcEZvY3VzIiwib25jZSIsImJvZHkiLCJyZW1vdmVUcmFwRm9jdXMiLCJhY3RpdmVFbGVtZW50IiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZ2V0QXR0cmlidXRlIiwiaWQiLCJjdXJyZW50VGFyZ2V0IiwiY2xvc2VzdCIsInBhcmVudEVsZW1lbnQiLCJvbktleVVwRXNjYXBlIiwicmVuZGVyQ29udGVudHMiLCJwYXJzZWRTdGF0ZSIsInByb2R1Y3RJZCIsImdldFNlY3Rpb25zVG9SZW5kZXIiLCJzZWN0aW9uIiwic2VsZWN0b3IiLCJpbm5lckhUTUwiLCJnZXRTZWN0aW9uSW5uZXJIVE1MIiwic2VjdGlvbnMiLCJodG1sIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwiZ2V0U2VjdGlvbkRPTSIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiQ2FydERyYXdlckl0ZW1zIiwiQ2FydEl0ZW1zIiwiQ2FydE5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsImhlYWRlciIsIm9uQm9keUNsaWNrIiwiaGFuZGxlQm9keUNsaWNrIiwicXVlcnlTZWxlY3RvckFsbCIsImNsb3NlQnV0dG9uIiwiZm9jdXMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2FydEl0ZW1LZXkiLCJrZXkiLCJyZXZlYWwiLCJkaXNjbG9zdXJlIiwiQ2FydFJlbW92ZUJ1dHRvbiIsInVwZGF0ZVF1YW50aXR5IiwiZGF0YXNldCIsImFhYWEiLCJsaW5lSXRlbVN0YXR1c0VsZW1lbnQiLCJkZWJvdW5jZWRPbkNoYW5nZSIsImRlYm91bmNlIiwib25DaGFuZ2UiLCJPTl9DSEFOR0VfREVCT1VOQ0VfVElNRVIiLCJjYXJ0VXBkYXRlVW5zdWJzY3JpYmVyIiwidW5kZWZpbmVkIiwiY29ubmVjdGVkQ2FsbGJhY2siLCJzdWJzY3JpYmUiLCJQVUJfU1VCX0VWRU5UUyIsImNhcnRVcGRhdGUiLCJzb3VyY2UiLCJvbkNhcnRVcGRhdGUiLCJkaXNjb25uZWN0ZWRDYWxsYmFjayIsInZhbHVlIiwiZmV0Y2giLCJyb3V0ZXMiLCJjYXJ0X3VybCIsInRoZW4iLCJyZXNwb25zZSIsInRleHQiLCJyZXNwb25zZVRleHQiLCJzb3VyY2VRdHkiLCJjYXRjaCIsImUiLCJjb25zb2xlIiwiZXJyb3IiLCJsaW5lIiwicXVhbnRpdHkiLCJuYW1lIiwiZW5hYmxlTG9hZGluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJtYXAiLCJzZWN0aW9uc191cmwiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiY2FydF9jaGFuZ2VfdXJsIiwiZmV0Y2hDb25maWciLCJzdGF0ZSIsInBhcnNlIiwicXVhbnRpdHlFbGVtZW50IiwiaXRlbXMiLCJlcnJvcnMiLCJ1cGRhdGVMaXZlUmVnaW9ucyIsInRvZ2dsZSIsIml0ZW1fY291bnQiLCJjYXJ0RHJhd2VyV3JhcHBlciIsImNhcnRGb290ZXIiLCJ1cGRhdGVkVmFsdWUiLCJtZXNzYWdlIiwicGFyc2VJbnQiLCJjYXJ0U3RyaW5ncyIsInF1YW50aXR5RXJyb3IiLCJyZXBsYWNlIiwibGluZUl0ZW0iLCJwdWJsaXNoIiwib3ZlcmxheSIsInRleHRDb250ZW50IiwiZmluYWxseSIsImRpc2FibGVMb2FkaW5nIiwibGluZUl0ZW1FcnJvciIsImNhcnRTdGF0dXMiLCJibHVyIiwiY2FydEl0ZW1FbGVtZW50cyIsImNhcnREcmF3ZXJJdGVtRWxlbWVudHMiLCJnZXQiLCJub3RlIiwiY2FydF91cGRhdGVfdXJsIiwiRGV0YWlsc0Rpc2Nsb3N1cmUiLCJtYWluRGV0YWlsc1RvZ2dsZSIsImNvbnRlbnQiLCJvbkZvY3VzT3V0Iiwib25Ub2dnbGUiLCJhbmltYXRpb25zIiwiZ2V0QW5pbWF0aW9ucyIsImFuaW1hdGlvbiIsInBsYXkiLCJjYW5jZWwiLCJyZW1vdmVBdHRyaWJ1dGUiLCJwcmV2ZW50SGlkZSIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInNldFByb3BlcnR5IiwiTWF0aCIsImZsb29yIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm90dG9tIiwiRGV0YWlsc01vZGFsIiwiZGV0YWlsc0NvbnRhaW5lciIsInN1bW1hcnlUb2dnbGUiLCJvblN1bW1hcnlDbGljayIsImlzT3BlbiIsIm9uQm9keUNsaWNrRXZlbnQiLCJmb2N1c1RvZ2dsZSIsIkZhY2V0RmlsdGVyc0Zvcm0iLCJvbkFjdGl2ZUZpbHRlckNsaWNrIiwiZGVib3VuY2VkT25TdWJtaXQiLCJvblN1Ym1pdEhhbmRsZXIiLCJmYWNldFdyYXBwZXIiLCJzdGF0aWMiLCJzZWFyY2hQYXJhbXMiLCJzZWFyY2hQYXJhbXNJbml0aWFsIiwic2VhcmNoUGFyYW1zUHJldiIsInJlbmRlclBhZ2UiLCJkaXNhYmxlIiwidXBkYXRlVVJMSGFzaCIsImdldFNlY3Rpb25zIiwiY291bnRDb250YWluZXIiLCJjb3VudENvbnRhaW5lckRlc2t0b3AiLCJ1cmwiLCJmaWx0ZXJEYXRhVXJsIiwiZmlsdGVyRGF0YSIsInNvbWUiLCJyZW5kZXJTZWN0aW9uRnJvbUNhY2hlIiwicmVuZGVyU2VjdGlvbkZyb21GZXRjaCIsInJlbmRlckZpbHRlcnMiLCJyZW5kZXJQcm9kdWN0R3JpZENvbnRhaW5lciIsInJlbmRlclByb2R1Y3RDb3VudCIsImZpbmQiLCJjb3VudCIsImNvbnRhaW5lciIsImNvbnRhaW5lckRlc2t0b3AiLCJwYXJzZWRIVE1MIiwiZmFjZXREZXRhaWxzRWxlbWVudHMiLCJtYXRjaGVzSW5kZXgiLCJqc0ZpbHRlciIsImZhY2V0c1RvUmVuZGVyIiwiZmlsdGVyIiwiY291bnRzVG9SZW5kZXIiLCJyZW5kZXJBY3RpdmVGYWNldHMiLCJyZW5kZXJBZGRpdGlvbmFsRWxlbWVudHMiLCJyZW5kZXJDb3VudHMiLCJhY3RpdmVGYWNldHNFbGVtZW50IiwidG9nZ2xlQWN0aXZlRmFjZXRzIiwiYmluZEV2ZW50cyIsInRhcmdldEVsZW1lbnQiLCJzb3VyY2VFbGVtZW50IiwidGFyZ2V0RWxlbWVudEFjY2Vzc2liaWxpdHkiLCJzb3VyY2VFbGVtZW50QWNjZXNzaWJpbGl0eSIsIm91dGVySFRNTCIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJjb25jYXQiLCJjcmVhdGVTZWFyY2hQYXJhbXMiLCJmb3JtIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsIlVSTFNlYXJjaFBhcmFtcyIsInRvU3RyaW5nIiwib25TdWJtaXRGb3JtIiwic29ydEZpbHRlckZvcm1zIiwic3JjRWxlbWVudCIsImNsYXNzTmFtZSIsImZvcm1zIiwiaXNNb2JpbGUiLCJwdXNoIiwiZWwiLCJqb2luIiwiaHJlZiIsImluZGV4T2YiLCJzbGljZSIsInNlYXJjaCIsInNldExpc3RlbmVycyIsIlByaWNlUmFuZ2UiLCJvblJhbmdlQ2hhbmdlIiwic2V0TWluQW5kTWF4VmFsdWVzIiwiYWRqdXN0VG9WYWxpZFZhbHVlcyIsImlucHV0cyIsIm1pbklucHV0IiwibWF4SW5wdXQiLCJpbnB1dCIsIk51bWJlciIsIm1pbiIsIm1heCIsIkZhY2V0UmVtb3ZlIiwiZmFjZXRMaW5rIiwiY2xvc2VGaWx0ZXIiLCJzdW1tYXJ5IiwicGFyZW50Tm9kZSIsInRyYXBGb2N1c0hhbmRsZXJzIiwiZWxlbWVudFRvRm9jdXMiLCJnZXRGb2N1c2FibGVFbGVtZW50cyIsImZpcnN0IiwibGFzdCIsImZvY3VzaW4iLCJrZXlkb3duIiwiZm9jdXNvdXQiLCJzaGlmdEtleSIsInRhZ05hbWUiLCJpbmNsdWRlcyIsInR5cGUiLCJzZXRTZWxlY3Rpb25SYW5nZSIsIm5hdktleXMiLCJjdXJyZW50Rm9jdXNlZEVsZW1lbnQiLCJtb3VzZUNsaWNrIiwiZm9jdXNWaXNpYmxlUG9seWZpbGwiLCJvcGVuRGV0YWlsc0VsZW1lbnQiLCJzdW1tYXJ5RWxlbWVudCIsIlF1YW50aXR5SW5wdXQiLCJjaGFuZ2VFdmVudCIsIkV2ZW50IiwiYnViYmxlcyIsIm9uSW5wdXRDaGFuZ2UiLCJidXR0b24iLCJvbkJ1dHRvbkNsaWNrIiwicXVhbnRpdHlVcGRhdGVVbnN1YnNjcmliZXIiLCJ2YWxpZGF0ZVF0eVJ1bGVzIiwicXVhbnRpdHlVcGRhdGUiLCJwcmV2aW91c1ZhbHVlIiwic3RlcFVwIiwic3RlcERvd24iLCJkaXNwYXRjaEV2ZW50IiwiU2hvcGlmeSIsImZuIiwic2NvcGUiLCJhcHBseSIsImFyZ3VtZW50cyIsInNldFNlbGVjdG9yQnlWYWx1ZSIsImkiLCJvcHRpb25zIiwib3B0aW9uIiwic2VsZWN0ZWRJbmRleCIsImFkZExpc3RlbmVyIiwiZXZlbnROYW1lIiwiY2FsbGJhY2siLCJhdHRhY2hFdmVudCIsInBvc3RMaW5rIiwicGF0aCIsIm1ldGhvZCIsInBhcmFtcyIsImNyZWF0ZUVsZW1lbnQiLCJoaWRkZW5GaWVsZCIsImFwcGVuZENoaWxkIiwic3VibWl0IiwicmVtb3ZlQ2hpbGQiLCJDb3VudHJ5UHJvdmluY2VTZWxlY3RvciIsImNvdW50cnlfZG9taWQiLCJwcm92aW5jZV9kb21pZCIsImNvdW50cnlFbCIsInByb3ZpbmNlRWwiLCJwcm92aW5jZUNvbnRhaW5lciIsImNvdW50cnlIYW5kbGVyIiwiaW5pdENvdW50cnkiLCJpbml0UHJvdmluY2UiLCJwcm90b3R5cGUiLCJyYXciLCJvcHQiLCJwcm92aW5jZXMiLCJjbGVhck9wdGlvbnMiLCJkaXNwbGF5IiwiZmlyc3RDaGlsZCIsInNldE9wdGlvbnMiLCJ2YWx1ZXMiLCJNZW51RHJhd2VyIiwib25LZXlVcCIsIm9uQ2xvc2VCdXR0b25DbGljayIsImNsb3NlTWVudURyYXdlciIsImNsb3NlU3VibWVudSIsImRldGFpbHNFbGVtZW50IiwicGFyZW50TWVudUVsZW1lbnQiLCJyZWR1Y2VkTW90aW9uIiwibWF0Y2hNZWRpYSIsImFkZFRyYXBGb2N1cyIsIm9wZW5NZW51RHJhd2VyIiwiaW5uZXJIZWlnaHQiLCJtYXRjaGVzIiwiYnJlYWtwb2ludCIsImRldGFpbHMiLCJzdWJtZW51IiwiY2xvc2VBbmltYXRpb24iLCJLZXlib2FyZEV2ZW50IiwiYW5pbWF0aW9uU3RhcnQiLCJoYW5kbGVBbmltYXRpb24iLCJ0aW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYm9yZGVyT2Zmc2V0Iiwib25SZXNpemUiLCJNb2RhbERpYWxvZyIsImhpZGUiLCJwb2ludGVyVHlwZSIsIm1vdmVkIiwic2hvdyIsIm9wZW5lciIsIm9wZW5lZEJ5IiwicG9wdXAiLCJsb2FkQ29udGVudCIsInBhdXNlQWxsTWVkaWEiLCJDdXN0b21FdmVudCIsIk1vZGFsT3BlbmVyIiwibW9kYWwiLCJEZWZlcnJlZE1lZGlhIiwicG9zdGVyIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJjbG9uZU5vZGUiLCJkZWZlcnJlZEVsZW1lbnQiLCJub2RlTmFtZSIsIlNsaWRlckNvbXBvbmVudCIsInNsaWRlciIsInNsaWRlckl0ZW1zIiwiZW5hYmxlU2xpZGVyTG9vcGluZyIsImN1cnJlbnRQYWdlRWxlbWVudCIsInBhZ2VUb3RhbEVsZW1lbnQiLCJwcmV2QnV0dG9uIiwibmV4dEJ1dHRvbiIsImluaXRQYWdlcyIsIlJlc2l6ZU9ic2VydmVyIiwiZW50cmllcyIsInVwZGF0ZSIsInNsaWRlckl0ZW1zVG9TaG93IiwiY2xpZW50V2lkdGgiLCJzbGlkZXJJdGVtT2Zmc2V0Iiwib2Zmc2V0TGVmdCIsInNsaWRlc1BlclBhZ2UiLCJ0b3RhbFBhZ2VzIiwicmVzZXRQYWdlcyIsInByZXZpb3VzUGFnZSIsImN1cnJlbnRQYWdlIiwicm91bmQiLCJzY3JvbGxMZWZ0IiwiZGV0YWlsIiwiY3VycmVudEVsZW1lbnQiLCJpc1NsaWRlVmlzaWJsZSIsIm9mZnNldCIsImxhc3RWaXNpYmxlU2xpZGUiLCJzdGVwIiwic2xpZGVTY3JvbGxQb3NpdGlvbiIsInNjcm9sbFRvIiwibGVmdCIsInNsaWRlckNvbnRyb2xXcmFwcGVyIiwic2xpZGVyRmlyc3RJdGVtTm9kZSIsInNsaWRlckNvbnRyb2xMaW5rc0FycmF5IiwibGluayIsImxpbmtUb1NsaWRlIiwic2V0U2xpZGVWaXNpYmlsaXR5IiwiYW5ub3VuY2VtZW50QmFyQXJyb3dCdXR0b25XYXNDbGlja2VkIiwiZGVza3RvcExheW91dCIsIm1lZGlhUXVlcnkiLCJzZXRBdXRvUGxheSIsImF1dG9wbGF5U3BlZWQiLCJzcGVlZCIsImZvY3VzSW5IYW5kbGluZyIsImZvY3VzT3V0SGFuZGxpbmciLCJzbGlkZXJBdXRvcGxheUJ1dHRvbiIsImF1dG9QbGF5VG9nZ2xlIiwiYXV0b3BsYXlCdXR0b25Jc1NldFRvUGxheSIsInBhdXNlIiwiaXNGaXJzdFNsaWRlIiwiaXNMYXN0U2xpZGUiLCJzbGlkZXJDb250cm9sQnV0dG9ucyIsInRvZ2dsZVBsYXlCdXR0b25TdGF0ZSIsImZvY3VzZWRPbkF1dG9wbGF5QnV0dG9uIiwiY2xlYXJJbnRlcnZhbCIsImF1dG9wbGF5Iiwic2V0SW50ZXJ2YWwiLCJhdXRvUm90YXRlU2xpZGVzIiwicGF1c2VBdXRvcGxheSIsImFjY2Vzc2liaWxpdHlTdHJpbmdzIiwicGxheVNsaWRlc2hvdyIsInBhdXNlU2xpZGVzaG93IiwiaXRlbSIsImxpbmtFbGVtZW50cyIsIlZhcmlhbnRTZWxlY3RzIiwib25WYXJpYW50Q2hhbmdlIiwidXBkYXRlT3B0aW9ucyIsInVwZGF0ZU1hc3RlcklkIiwidG9nZ2xlQWRkQnV0dG9uIiwidXBkYXRlUGlja3VwQXZhaWxhYmlsaXR5IiwicmVtb3ZlRXJyb3JNZXNzYWdlIiwidXBkYXRlVmFyaWFudFN0YXR1c2VzIiwiY3VycmVudFZhcmlhbnQiLCJ1cGRhdGVNZWRpYSIsInVwZGF0ZVVSTCIsInVwZGF0ZVZhcmlhbnRJbnB1dCIsInJlbmRlclByb2R1Y3RJbmZvIiwidXBkYXRlU2hhcmVVcmwiLCJzZXRVbmF2YWlsYWJsZSIsInNlbGVjdCIsImdldFZhcmlhbnREYXRhIiwidmFyaWFudCIsImZlYXR1cmVkX21lZGlhIiwibWVkaWFHYWxsZXJ5Iiwic2V0QWN0aXZlTWVkaWEiLCJtb2RhbENvbnRlbnQiLCJuZXdNZWRpYU1vZGFsIiwicHJlcGVuZCIsInVwZGF0ZVVybCIsInJlcGxhY2VTdGF0ZSIsInNoYXJlQnV0dG9uIiwic2hvcFVybCIsInByb2R1Y3RGb3JtIiwic2VsZWN0ZWRPcHRpb25PbmVWYXJpYW50cyIsInZhcmlhbnREYXRhIiwib3B0aW9uMSIsImlucHV0V3JhcHBlcnMiLCJvcHRpb25JbnB1dHMiLCJwcmV2aW91c09wdGlvblNlbGVjdGVkIiwiYXZhaWxhYmxlT3B0aW9uSW5wdXRzVmFsdWUiLCJhdmFpbGFibGUiLCJ2YXJpYW50T3B0aW9uIiwic2V0SW5wdXRBdmFpbGFiaWxpdHkiLCJsaXN0T2ZPcHRpb25zIiwibGlzdE9mQXZhaWxhYmxlT3B0aW9ucyIsImlubmVyVGV4dCIsInZhcmlhbnRTdHJpbmdzIiwidW5hdmFpbGFibGVfd2l0aF9vcHRpb24iLCJwaWNrVXBBdmFpbGFiaWxpdHkiLCJmZXRjaEF2YWlsYWJpbGl0eSIsImhhbmRsZUVycm9yTWVzc2FnZSIsInJlcXVlc3RlZFZhcmlhbnRJZCIsInNlY3Rpb25JZCIsIm9yaWdpbmFsU2VjdGlvbiIsImRlc3RpbmF0aW9uIiwic2t1U291cmNlIiwic2t1RGVzdGluYXRpb24iLCJpbnZlbnRvcnlTb3VyY2UiLCJpbnZlbnRvcnlEZXN0aW5hdGlvbiIsInByaWNlIiwiYWRkQnV0dG9uVXBkYXRlZCIsInNvbGRPdXQiLCJ2YXJpYW50Q2hhbmdlIiwiZGF0YSIsIm1vZGlmeUNsYXNzIiwiYWRkQnV0dG9uIiwiYWRkQnV0dG9uVGV4dCIsImFkZFRvQ2FydCIsImludmVudG9yeSIsInNrdSIsInVuYXZhaWxhYmxlIiwiZmllbGRzZXRzIiwiZmllbGRzZXQiLCJyYWRpbyIsImNoZWNrZWQiLCJQcm9kdWN0UmVjb21tZW5kYXRpb25zIiwiaGFuZGxlSW50ZXJzZWN0aW9uIiwicmVjb21tZW5kYXRpb25zIiwidHJpbSIsInBhbmVsIiwib3BlblNlbGVjdG9yIiwiY2xvc2VTZWxlY3RvciIsIm9uQ29udGFpbmVyS2V5VXAiLCJvbkl0ZW1DbGljayIsImhpZGVQYW5lbCIsInN0b3BQcm9wYWdhdGlvbiIsInRvZ2dsZUF0dHJpYnV0ZSIsImlzQ2hpbGQiLCJyZWxhdGVkVGFyZ2V0IiwiY3JlYXRlT3ZlcmxheSIsImltYWdlIiwib3ZlcmxheUltYWdlIiwic3JjIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZENvbG9yIiwicHJlcGFyZU92ZXJsYXkiLCJvcGFjaXR5IiwidG9nZ2xlTG9hZGluZ1NwaW5uZXIiLCJvbmxvYWQiLCJpbnNlcnRCZWZvcmUiLCJtb3ZlV2l0aEhvdmVyIiwiem9vbVJhdGlvIiwicmF0aW8iLCJoZWlnaHQiLCJ3aWR0aCIsInhQb3NpdGlvbiIsImNsaWVudFgiLCJ5UG9zaXRpb24iLCJjbGllbnRZIiwidG9wIiwieFBlcmNlbnQiLCJ5UGVyY2VudCIsImJhY2tncm91bmRQb3NpdGlvbiIsImJhY2tncm91bmRTaXplIiwib25jbGljayIsIm9ubW91c2Vtb3ZlIiwib25tb3VzZWxlYXZlIiwibWFnbmlmeSIsIk1haW5TZWFyY2giLCJTZWFyY2hGb3JtIiwiYWxsU2VhcmNoSW5wdXRzIiwic2V0dXBFdmVudExpc3RlbmVycyIsImFsbFNlYXJjaEZvcm1zIiwib25JbnB1dEZvY3VzIiwib25Gb3JtUmVzZXQiLCJvbklucHV0Iiwic2hvdWxkUmVzZXRGb3JtIiwia2VlcEluU3luYyIsImlubmVyV2lkdGgiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwibGl2ZVJlZ2lvbiIsInZpZXdlciIsInRodW1ibmFpbHMiLCJtcWwiLCJvblNsaWRlQ2hhbmdlZCIsIm1lZGlhVG9Td2l0Y2giLCJyZW1vdmVMaXN0U2VtYW50aWMiLCJ0aHVtYm5haWwiLCJtZWRpYUlkIiwic2V0QWN0aXZlVGh1bWJuYWlsIiwiYWN0aXZlTWVkaWEiLCJhY3RpdmVUaHVtYm5haWwiLCJwcmV2ZW50U3RpY2t5SGVhZGVyIiwicGxheUFjdGl2ZU1lZGlhIiwiYW5ub3VuY2VMaXZlUmVnaW9uIiwibWVkaWFQb3NpdGlvbiIsImFjdGl2ZUl0ZW0iLCJwb3NpdGlvbiIsImltYWdlQXZhaWxhYmxlIiwiZGVmZXJyZWRNZWRpYSIsInN0aWNreUhlYWRlciIsInNsaWRlIiwiUGFzc3dvcmRNb2RhbCIsImVycm9ySHRtbCIsIm9uQ2xpY2tSZWZyZXNoTGlzdCIsInZhcmlhbnRJZCIsInJvb3RVcmwiLCJlbmRzV2l0aCIsInNlY3Rpb25Jbm5lckhUTUwiLCJyZW5kZXJQcmV2aWV3IiwicmVuZGVyRXJyb3IiLCJkcmF3ZXIiLCJQcmVkaWN0aXZlU2VhcmNoIiwiY2FjaGVkUmVzdWx0cyIsInByZWRpY3RpdmVTZWFyY2hSZXN1bHRzIiwiYWxsUHJlZGljdGl2ZVNlYXJjaEluc3RhbmNlcyIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNlYXJjaFRlcm0iLCJvbkZvcm1TdWJtaXQiLCJvbkZvY3VzIiwib25LZXl1cCIsIm9uS2V5ZG93biIsImdldFF1ZXJ5IiwibmV3U2VhcmNoVGVybSIsInN0YXJ0c1dpdGgiLCJ1cGRhdGVTZWFyY2hGb3JUZXJtIiwiZ2V0U2VhcmNoUmVzdWx0cyIsImFib3J0IiwiY2xvc2VSZXN1bHRzIiwiY3VycmVudFNlYXJjaFRlcm0iLCJzd2l0Y2hPcHRpb24iLCJzZWxlY3RPcHRpb24iLCJwcmV2aW91c1Rlcm0iLCJuZXdUZXJtIiwic2VhcmNoRm9yVGV4dEVsZW1lbnQiLCJjdXJyZW50QnV0dG9uVGV4dCIsIm1hdGNoIiwiUmVnRXhwIiwibmV3QnV0dG9uVGV4dCIsImRpcmVjdGlvbiIsIm1vdmVVcCIsInNlbGVjdGVkRWxlbWVudCIsImFsbFZpc2libGVFbGVtZW50cyIsIm9mZnNldFBhcmVudCIsImFjdGl2ZUVsZW1lbnRJbmRleCIsInNlbGVjdGVkRWxlbWVudEluZGV4Iiwic3RhdHVzRWxlbWVudCIsInNlbGVjdGVkT3B0aW9uIiwiY2xpY2siLCJxdWVyeUtleSIsInRvTG93ZXJDYXNlIiwic2V0TGl2ZVJlZ2lvbkxvYWRpbmdTdGF0ZSIsInJlbmRlclNlYXJjaFJlc3VsdHMiLCJwcmVkaWN0aXZlX3NlYXJjaF91cmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzaWduYWwiLCJvayIsIkVycm9yIiwic3RhdHVzIiwicmVzdWx0c01hcmt1cCIsInByZWRpY3RpdmVTZWFyY2hJbnN0YW5jZSIsImxvYWRpbmdUZXh0Iiwic2V0TGl2ZVJlZ2lvblRleHQiLCJzdGF0dXNUZXh0Iiwic2V0TGl2ZVJlZ2lvblJlc3VsdHMiLCJnZXRSZXN1bHRzTWF4SGVpZ2h0IiwicmVzdWx0c01heEhlaWdodCIsIm1heEhlaWdodCIsImNsZWFyU2VhcmNoVGVybSIsInNlbGVjdGVkIiwiZGlzYWJsZWQiLCJjYXJ0Iiwic3VibWl0QnV0dG9uIiwiaGlkZUVycm9ycyIsImNvbmZpZyIsImhlYWRlcnMiLCJhcHBlbmQiLCJjYXJ0X2FkZF91cmwiLCJqc29uIiwiY2FydEVycm9yIiwicHJvZHVjdFZhcmlhbnRJZCIsImRlc2NyaXB0aW9uIiwic29sZE91dE1lc3NhZ2UiLCJxdWlja0FkZE1vZGFsIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JNZXNzYWdlV3JhcHBlciIsInZhcmlhbnRTZWxlY3RzIiwidmFyaWFudENoYW5nZVVuc3Vic2NyaWJlciIsInF1YW50aXR5Rm9ybSIsInNldFF1YW50aXR5Qm91bmRyaWVzIiwiZmV0Y2hRdWFudGl0eVJ1bGVzIiwidXBkYXRlUXVhbnRpdHlSdWxlcyIsImNhcnRRdWFudGl0eSIsInF1YW50aXR5Rm9ybVVwZGF0ZWQiLCJzZWxlY3RvcnMiLCJjdXJyZW50IiwidXBkYXRlZCIsImF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGUiLCJ2YWx1ZVVwZGF0ZWQiLCJzaG93QWN0aXZlTWVkaWEiLCJhY3RpdmVNZWRpYVRlbXBsYXRlIiwiYWN0aXZlTWVkaWFDb250ZW50IiwibG9hZEZlYXR1cmVzIiwidmVyc2lvbiIsIm9uTG9hZCIsInNldHVwTW9kZWxWaWV3ZXJVSSIsIm1vZGVsVmlld2VyVUkiLCJNb2RlbFZpZXdlclVJIiwiUHJvZHVjdE1vZGVsIiwibG9hZFNob3BpZnlYUiIsInNldHVwU2hvcGlmeVhSIiwiU2hvcGlmeVhSIiwibW9kZWxKU09OIiwiYWRkTW9kZWxzIiwic2V0dXBYUkVsZW1lbnRzIiwicHJldmVudEZvY3VzIiwiY2FydE5vdGlmaWNhdGlvbiIsInJlc3BvbnNlSFRNTCIsInByb2R1Y3RFbGVtZW50IiwicHJldmVudER1cGxpY2F0ZWRJRHMiLCJyZW1vdmVET01FbGVtZW50cyIsInNldElubmVySFRNTCIsIlBheW1lbnRCdXR0b24iLCJpbml0IiwicmVtb3ZlR2FsbGVyeUxpc3RTZW1hbnRpYyIsInVwZGF0ZUltYWdlU2l6ZXMiLCJwcmV2ZW50VmFyaWFudFVSTFN3aXRjaGluZyIsIm9sZFNjcmlwdFRhZyIsIm5ld1NjcmlwdFRhZyIsImNyZWF0ZVRleHROb2RlIiwicmVwbGFjZUNoaWxkIiwidmFyaWFudFBpY2tlciIsInBpY2t1cEF2YWlsYWJpbGl0eSIsInByb2R1Y3RNb2RhbCIsIm1vZGFsRGlhbG9nIiwicmVwbGFjZUFsbCIsImdhbGxlcnlMaXN0IiwibGkiLCJwcm9kdWN0IiwibWVkaWFJbWFnZXMiLCJtZWRpYUltYWdlU2l6ZXMiLCJpbWciLCJjaGVja2JveElucHV0IiwiaGlkZGVuQ29udHJvbEZpZWxkIiwiZW1haWxJbnB1dCIsIm5hbWVJbnB1dCIsIm1lc3NhZ2VJbnB1dCIsInNlbmRvbklucHV0Iiwib2Zmc2V0UHJvcGVydHkiLCJEYXRlIiwiZ2V0VGltZXpvbmVPZmZzZXQiLCJlcnJvck1lc3NhZ2VMaXN0IiwiZGVmYXVsdEVycm9ySGVhZGVyIiwiY3VycmVudFByb2R1Y3RWYXJpYW50SWQiLCJjYXJ0RXJyb3JVbnN1YnNjcmliZXIiLCJyZXNldFJlY2lwaWVudEZvcm0iLCJkaXNwbGF5RXJyb3JNZXNzYWdlIiwiZW5hYmxlSW5wdXRGaWVsZHMiLCJjbGVhcklucHV0RmllbGRzIiwiZGlzYWJsZUlucHV0RmllbGRzIiwiY2xlYXJFcnJvck1lc3NhZ2UiLCJpbnB1dEZpZWxkcyIsImRpc2FibGVhYmxlRmllbGRzIiwiZmllbGQiLCJ0aXRsZSIsImhpZGRlbiIsIk9iamVjdCIsImVycm9yTWVzc2FnZUlkIiwiZmllbGRTZWxlY3RvciIsImVycm9yTWVzc2FnZUVsZW1lbnQiLCJlcnJvclRleHRFbGVtZW50IiwiY3JlYXRlRXJyb3JMaXN0SXRlbSIsImlucHV0RWxlbWVudCIsImEiLCJ0ZXh0RmllbGQiLCJyZXNldEJ1dHRvbiIsInRvZ2dsZVJlc2V0QnV0dG9uIiwicmVzZXRJc0hpZGRlbiIsInNoYXJlU3VtbWFyeSIsInN1Y2Nlc3NNZXNzYWdlIiwidXJsSW5wdXQiLCJ1cmxUb1NoYXJlIiwibmF2aWdhdG9yIiwic2hhcmUiLCJ0b2dnbGVEZXRhaWxzIiwiY29weVRvQ2xpcGJvYXJkIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0Iiwic2hhcmVTdWNjZXNzIiwiU2hvd01vcmVCdXR0b24iLCJleHBhbmRTaG93TW9yZSIsIm5leHRFbGVtZW50VG9Gb2N1cyIsInBhcmVudERpc3BsYXkiLCJoaWRlUHJvZHVjdE1vZGFsIiwicGFyZW50U2xpZGVzaG93Q29tcG9uZW50Iiwiem9vbU9uSG92ZXJTY3JpcHQiXSwic291cmNlUm9vdCI6IiJ9